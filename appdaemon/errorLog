2017-08-24 03:26:46.118428 WARNING ------------------------------------------------------------
2017-08-24 03:26:46.132893 WARNING Unexpected error during loading of alexa.py:
2017-08-24 03:26:46.152858 WARNING ------------------------------------------------------------
2017-08-24 03:26:46.173589 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/alexa.py", line 4
    class Alexa(appapi.AppDaemon):
    ^
IndentationError: unexpected indent

2017-08-24 03:26:46.177036 WARNING ------------------------------------------------------------
2017-08-24 03:27:47.686036 WARNING ------------------------------------------------------------
2017-08-24 03:27:47.689214 WARNING Unexpected error:
2017-08-24 03:27:47.701329 WARNING ------------------------------------------------------------
2017-08-24 03:27:47.708058 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 868, in check_config
    new_config[name]["module"], new_config[name]
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 588, in init_object
    app_class = getattr(module, class_name)
AttributeError: 'module' object has no attribute 'Alexa'

2017-08-24 03:27:47.717589 WARNING ------------------------------------------------------------
2017-08-24 03:28:22.098777 WARNING ------------------------------------------------------------
2017-08-24 03:28:22.101407 WARNING Unexpected error during loading of alexa.py:
2017-08-24 03:28:22.132893 WARNING ------------------------------------------------------------
2017-08-24 03:28:22.145347 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/alexa.py", line 4
    class Alexa(appapi.AppDaemon):
    ^
IndentationError: unexpected indent

2017-08-24 03:28:22.147959 WARNING ------------------------------------------------------------
2017-08-24 03:28:23.105880 WARNING ------------------------------------------------------------
2017-08-24 03:28:23.109362 WARNING Unexpected error during loading of alexa.py:
2017-08-24 03:28:23.115584 WARNING ------------------------------------------------------------
2017-08-24 03:28:23.126084 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/alexa.py", line 4
    class Alexa(appapi.AppDaemon):
    ^
IndentationError: unexpected indent

2017-08-24 03:28:23.129752 WARNING ------------------------------------------------------------
2017-08-24 03:29:03.123697 WARNING ------------------------------------------------------------
2017-08-24 03:29:03.133545 WARNING Unexpected error during loading of alexa.py:
2017-08-24 03:29:03.140054 WARNING ------------------------------------------------------------
2017-08-24 03:29:03.165738 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1471, in exec_module
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/alexa.py", line 3, in <module>
    import globals
ImportError: No module named 'globals'

2017-08-24 03:29:03.169335 WARNING ------------------------------------------------------------
2017-08-24 03:33:16.125775 WARNING ------------------------------------------------------------
2017-08-24 03:33:16.153194 WARNING Unexpected error during loading of alexa.py:
2017-08-24 03:33:16.160623 WARNING ------------------------------------------------------------
2017-08-24 03:33:16.175240 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/alexa.py", line 7
    self.listen_event(self.receive_telegram_text, 'telegram_text')
                                                                 ^
TabError: inconsistent use of tabs and spaces in indentation

2017-08-24 03:33:16.192919 WARNING ------------------------------------------------------------
2017-08-24 03:34:46.477082 WARNING ------------------------------------------------------------
2017-08-24 03:34:46.501793 WARNING Unexpected error:
2017-08-24 03:34:46.510554 WARNING ------------------------------------------------------------
2017-08-24 03:34:46.547429 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 868, in check_config
    new_config[name]["module"], new_config[name]
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 598, in init_object
    conf.objects[name]["object"].initialize()
  File "/home/homeassistant/config/appdaemon/apps/alexa.py", line 7, in initialize
    self.listen_event(self.receive_telegram_text, 'telegram_text')
AttributeError: 'AlexaIntentManager' object has no attribute 'receive_telegram_text'

2017-08-24 03:34:46.568864 WARNING ------------------------------------------------------------
2017-08-24 03:34:48.045782 WARNING ------------------------------------------------------------
2017-08-24 03:34:48.063360 WARNING Unexpected error:
2017-08-24 03:34:48.073410 WARNING ------------------------------------------------------------
2017-08-24 03:34:48.085562 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 868, in check_config
    new_config[name]["module"], new_config[name]
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 598, in init_object
    conf.objects[name]["object"].initialize()
  File "/home/homeassistant/config/appdaemon/apps/alexa.py", line 7, in initialize
    self.listen_event(self.receive_telegram_text, 'telegram_text')
AttributeError: 'AlexaIntentManager' object has no attribute 'receive_telegram_text'

2017-08-24 03:34:48.110575 WARNING ------------------------------------------------------------
2017-08-24 03:47:52.670160 WARNING ------------------------------------------------------------
2017-08-24 03:47:52.677256 WARNING Unexpected error:
2017-08-24 03:47:52.692805 WARNING ------------------------------------------------------------
2017-08-24 03:47:52.704697 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 849, in check_config
    new_config[name]["module"], new_config[name]
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 588, in init_object
    app_class = getattr(module, class_name)
AttributeError: 'module' object has no attribute 'Alexa'

2017-08-24 03:47:52.717551 WARNING ------------------------------------------------------------
2017-08-24 03:47:53.581197 WARNING ------------------------------------------------------------
2017-08-24 03:47:53.595286 WARNING Unexpected error:
2017-08-24 03:47:53.602566 WARNING ------------------------------------------------------------
2017-08-24 03:47:53.614334 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 849, in check_config
    new_config[name]["module"], new_config[name]
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 588, in init_object
    app_class = getattr(module, class_name)
AttributeError: 'module' object has no attribute 'Alexa'

2017-08-24 03:47:53.616947 WARNING ------------------------------------------------------------
2017-08-24 04:10:35.656237 WARNING ------------------------------------------------------------
2017-08-24 04:10:35.693195 WARNING Unexpected error during loading of alexa:
2017-08-24 04:10:35.696713 WARNING ------------------------------------------------------------
2017-08-24 04:10:35.710073 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 924, in read_app
    init_object(name, class_name, module_name, config[name])
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 598, in init_object
    conf.objects[name]["object"].initialize()
  File "/home/homeassistant/config/appdaemon/apps/alexa.py", line 6, in initialize
    self.register_endpoint(api_call, alexa)
NameError: name 'api_call' is not defined

2017-08-24 04:10:35.743695 WARNING ------------------------------------------------------------
2017-08-24 04:10:53.636204 WARNING ------------------------------------------------------------
2017-08-24 04:10:53.652900 WARNING Unexpected error during loading of alexa:
2017-08-24 04:10:53.664456 WARNING ------------------------------------------------------------
2017-08-24 04:10:53.707046 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 924, in read_app
    init_object(name, class_name, module_name, config[name])
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 598, in init_object
    conf.objects[name]["object"].initialize()
  File "/home/homeassistant/config/appdaemon/apps/alexa.py", line 6, in initialize
    self.register_endpoint(self.api_call, alexa)
NameError: name 'alexa' is not defined

2017-08-24 04:10:53.733861 WARNING ------------------------------------------------------------
2017-08-24 05:12:12.010035 WARNING ------------------------------------------------------------
2017-08-24 05:12:12.022771 WARNING Unexpected error during API call
2017-08-24 05:12:12.025730 WARNING ------------------------------------------------------------
2017-08-24 05:12:12.045337 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/api.py", line 40, in call_api
    ret, code = yield from ha.dispatch_app_by_name(app, args)
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/homeassistant.py", line 46, in dispatch_app_by_name
    return list(completed)[0].result()
  File "/usr/lib/python3.4/asyncio/futures.py", line 277, in result
    raise self._exception
  File "/usr/lib/python3.4/concurrent/futures/thread.py", line 54, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alexa.py", line 17, in api_call
    self.log(str(intent["data"]))
TypeError: string indices must be integers

2017-08-24 05:12:12.048024 WARNING ------------------------------------------------------------
2017-08-24 05:12:48.919532 WARNING ------------------------------------------------------------
2017-08-24 05:12:48.921930 WARNING Unexpected error during API call
2017-08-24 05:12:48.933093 WARNING ------------------------------------------------------------
2017-08-24 05:12:48.940293 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/api.py", line 40, in call_api
    ret, code = yield from ha.dispatch_app_by_name(app, args)
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/homeassistant.py", line 46, in dispatch_app_by_name
    return list(completed)[0].result()
  File "/usr/lib/python3.4/asyncio/futures.py", line 277, in result
    raise self._exception
  File "/usr/lib/python3.4/concurrent/futures/thread.py", line 54, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alexa.py", line 16, in api_call
    self.log(str(intent["data"]))
TypeError: string indices must be integers

2017-08-24 05:12:48.953219 WARNING ------------------------------------------------------------
2017-08-24 05:13:00.770349 WARNING ------------------------------------------------------------
2017-08-24 05:13:00.773244 WARNING Unexpected error during API call
2017-08-24 05:13:00.783600 WARNING ------------------------------------------------------------
2017-08-24 05:13:00.790828 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/api.py", line 40, in call_api
    ret, code = yield from ha.dispatch_app_by_name(app, args)
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/homeassistant.py", line 46, in dispatch_app_by_name
    return list(completed)[0].result()
  File "/usr/lib/python3.4/asyncio/futures.py", line 277, in result
    raise self._exception
  File "/usr/lib/python3.4/concurrent/futures/thread.py", line 54, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alexa.py", line 16, in api_call
    self.log(str(intent["data"]))
TypeError: string indices must be integers

2017-08-24 05:13:00.803677 WARNING ------------------------------------------------------------
2017-08-24 05:13:33.179633 WARNING ------------------------------------------------------------
2017-08-24 05:13:33.196098 WARNING Unexpected error during API call
2017-08-24 05:13:33.198692 WARNING ------------------------------------------------------------
2017-08-24 05:13:33.202142 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/api.py", line 40, in call_api
    ret, code = yield from ha.dispatch_app_by_name(app, args)
TypeError: 'NoneType' object is not iterable

2017-08-24 05:13:33.224918 WARNING ------------------------------------------------------------
2017-08-24 05:14:01.199539 WARNING ------------------------------------------------------------
2017-08-24 05:14:01.220358 WARNING Unexpected error during API call
2017-08-24 05:14:01.223081 WARNING ------------------------------------------------------------
2017-08-24 05:14:01.226780 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/api.py", line 40, in call_api
    ret, code = yield from ha.dispatch_app_by_name(app, args)
TypeError: 'NoneType' object is not iterable

2017-08-24 05:14:01.229316 WARNING ------------------------------------------------------------
2017-08-24 05:14:41.149050 WARNING ------------------------------------------------------------
2017-08-24 05:14:41.163681 WARNING Unexpected error during API call
2017-08-24 05:14:41.174801 WARNING ------------------------------------------------------------
2017-08-24 05:14:41.178278 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/api.py", line 40, in call_api
    ret, code = yield from ha.dispatch_app_by_name(app, args)
TypeError: 'NoneType' object is not iterable

2017-08-24 05:14:41.180823 WARNING ------------------------------------------------------------
2017-08-24 05:15:12.064665 WARNING ------------------------------------------------------------
2017-08-24 05:15:12.075290 WARNING Unexpected error during loading of alexa:
2017-08-24 05:15:12.092865 WARNING ------------------------------------------------------------
2017-08-24 05:15:12.099399 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 924, in read_app
    init_object(name, class_name, module_name, config[name])
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 598, in init_object
    conf.objects[name]["object"].initialize()
  File "/home/homeassistant/config/appdaemon/apps/alexa.py", line 6, in initialize
    self.register_endpoint(api_call)
NameError: name 'api_call' is not defined

2017-08-24 05:15:12.102059 WARNING ------------------------------------------------------------
2017-08-24 05:15:29.929747 WARNING ------------------------------------------------------------
2017-08-24 05:15:29.942844 WARNING Unexpected error during API call
2017-08-24 05:15:29.945299 WARNING ------------------------------------------------------------
2017-08-24 05:15:29.948899 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/api.py", line 40, in call_api
    ret, code = yield from ha.dispatch_app_by_name(app, args)
TypeError: 'NoneType' object is not iterable

2017-08-24 05:15:29.951349 WARNING ------------------------------------------------------------
2017-08-24 05:15:56.045609 WARNING ------------------------------------------------------------
2017-08-24 05:15:56.052928 WARNING Unexpected error during loading of alexa.py:
2017-08-24 05:15:56.062966 WARNING ------------------------------------------------------------
2017-08-24 05:15:56.071088 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/alexa.py", line 8
    def api_call(self, data):
      ^
IndentationError: expected an indented block

2017-08-24 05:15:56.084034 WARNING ------------------------------------------------------------
2017-08-24 05:16:39.882877 WARNING ------------------------------------------------------------
2017-08-24 05:16:39.895448 WARNING Unexpected error during API call
2017-08-24 05:16:39.912871 WARNING ------------------------------------------------------------
2017-08-24 05:16:39.916651 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/api.py", line 40, in call_api
    ret, code = yield from ha.dispatch_app_by_name(app, args)
TypeError: 'NoneType' object is not iterable

2017-08-24 05:16:39.919077 WARNING ------------------------------------------------------------
2017-08-24 05:16:56.072880 WARNING ------------------------------------------------------------
2017-08-24 05:16:56.080301 WARNING Unexpected error during API call
2017-08-24 05:16:56.088861 WARNING ------------------------------------------------------------
2017-08-24 05:16:56.092688 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/api.py", line 40, in call_api
    ret, code = yield from ha.dispatch_app_by_name(app, args)
TypeError: 'NoneType' object is not iterable

2017-08-24 05:16:56.095171 WARNING ------------------------------------------------------------
2017-08-24 05:17:26.785406 WARNING ------------------------------------------------------------
2017-08-24 05:17:26.808650 WARNING Unexpected error during API call
2017-08-24 05:17:26.811251 WARNING ------------------------------------------------------------
2017-08-24 05:17:26.824325 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/api.py", line 40, in call_api
    ret, code = yield from ha.dispatch_app_by_name(app, args)
ValueError: too many values to unpack (expected 2)

2017-08-24 05:17:26.826885 WARNING ------------------------------------------------------------
2017-09-02 16:16:35.964497 WARNING ------------------------------------------------------------
2017-09-02 16:16:35.981377 WARNING Unexpected error in worker for App state_listener:
2017-09-02 16:16:36.003586 WARNING Worker Ags: {'entity': 'switch.kettle', 'attribute': 'state', 'function': <bound method StateListener.kettleAuto of <state_listener.StateListener object at 0xb60b9dd0>>, 'kwargs': {}, 'old_state': 'on', 'new_state': 'off', 'name': 'state_listener', 'id': UUID('c923eb75-aa63-4b01-8dab-6828e05c9216'), 'type': 'attr'}
2017-09-02 16:16:36.009774 WARNING ------------------------------------------------------------
2017-09-02 16:16:36.082753 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/state_listener.py", line 12, in kettleAuto
    self.log("entitity - <{}>\nattribute - <{}>\nold - <{}>\new - <{}>".formatz(entitity,attribute,old,new))
AttributeError: 'str' object has no attribute 'formatz'

2017-09-02 16:16:36.142029 WARNING ------------------------------------------------------------
2017-09-02 16:17:14.816280 WARNING ------------------------------------------------------------
2017-09-02 16:17:14.833608 WARNING Unexpected error in worker for App state_listener:
2017-09-02 16:17:14.843043 WARNING Worker Ags: {'entity': 'switch.kettle', 'attribute': 'state', 'function': <bound method StateListener.kettleAuto of <state_listener.StateListener object at 0xb5733970>>, 'kwargs': {}, 'old_state': 'off', 'new_state': 'on', 'name': 'state_listener', 'id': UUID('84369394-923b-4f7f-94ba-4fed0d32e2c2'), 'type': 'attr'}
2017-09-02 16:17:14.845752 WARNING ------------------------------------------------------------
2017-09-02 16:17:14.862572 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/state_listener.py", line 12, in kettleAuto
    self.log("entitity - <{}>\nattribute - <{}>\nold - <{}>\new - <{}>".format(entitity,attribute,old,new))
NameError: name 'entitity' is not defined

2017-09-02 16:17:14.885224 WARNING ------------------------------------------------------------
2017-09-19 02:10:08.792984 WARNING ------------------------------------------------------------
2017-09-19 02:10:08.818533 WARNING Unexpected error during loading of alarm:
2017-09-19 02:10:08.821038 WARNING ------------------------------------------------------------
2017-09-19 02:10:08.846232 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 924, in read_app
    init_object(name, class_name, module_name, config[name])
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 598, in init_object
    conf.objects[name]["object"].initialize()
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 7, in initialize
    self.listen_state(self.alarm, self.args['trigger'])
AttributeError: 'AlarmReaction' object has no attribute 'alarm'

2017-09-19 02:10:08.849004 WARNING ------------------------------------------------------------
2017-09-19 02:10:11.989943 WARNING ------------------------------------------------------------
2017-09-19 02:10:11.996226 WARNING Unexpected error:
2017-09-19 02:10:12.002065 WARNING ------------------------------------------------------------
2017-09-19 02:10:12.023375 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 849, in check_config
    new_config[name]["module"], new_config[name]
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 598, in init_object
    conf.objects[name]["object"].initialize()
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 7, in initialize
    self.listen_state(self.alarm, self.args['trigger'])
AttributeError: 'AlarmReaction' object has no attribute 'alarm'

2017-09-19 02:10:12.026992 WARNING ------------------------------------------------------------
2017-09-19 02:13:49.854349 WARNING ------------------------------------------------------------
2017-09-19 02:13:49.882332 WARNING Unexpected error during loading of alarm:
2017-09-19 02:13:49.894469 WARNING ------------------------------------------------------------
2017-09-19 02:13:49.918360 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 924, in read_app
    init_object(name, class_name, module_name, config[name])
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 598, in init_object
    conf.objects[name]["object"].initialize()
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 7, in initialize
    self.listen_state(self.alarmTrigger, self.args['trigger_alarm'])
KeyError: 'trigger_alarm'

2017-09-19 02:13:49.952366 WARNING ------------------------------------------------------------
2017-09-19 02:13:53.854440 WARNING ------------------------------------------------------------
2017-09-19 02:13:53.874332 WARNING Unexpected error during loading of alarm:
2017-09-19 02:13:53.888648 WARNING ------------------------------------------------------------
2017-09-19 02:13:53.908630 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 924, in read_app
    init_object(name, class_name, module_name, config[name])
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 598, in init_object
    conf.objects[name]["object"].initialize()
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 7, in initialize
    self.listen_state(self.alarmTrigger, self.args['trigger_alarm'])
KeyError: 'trigger_alarm'

2017-09-19 02:13:53.942380 WARNING ------------------------------------------------------------
2017-09-19 02:14:42.858629 WARNING ------------------------------------------------------------
2017-09-19 02:14:42.877878 WARNING Unexpected error during loading of alarm:
2017-09-19 02:14:42.892294 WARNING ------------------------------------------------------------
2017-09-19 02:14:42.911092 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 924, in read_app
    init_object(name, class_name, module_name, config[name])
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 598, in init_object
    conf.objects[name]["object"].initialize()
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 8, in initialize
    self.listen_state(self.warningTrigger, self.args['trigger_warning'])
KeyError: 'trigger_warning'

2017-09-19 02:14:42.939525 WARNING ------------------------------------------------------------
2017-09-19 02:15:17.850400 WARNING ------------------------------------------------------------
2017-09-19 02:15:17.877896 WARNING Unexpected error during loading of alarm:
2017-09-19 02:15:17.891387 WARNING ------------------------------------------------------------
2017-09-19 02:15:17.898310 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 924, in read_app
    init_object(name, class_name, module_name, config[name])
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 598, in init_object
    conf.objects[name]["object"].initialize()
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 9, in initialize
    self.log(self.args['trigger_alarm'])
KeyError: 'trigger_alarm'

2017-09-19 02:15:17.900947 WARNING ------------------------------------------------------------
2017-09-19 02:20:43.782129 WARNING ------------------------------------------------------------
2017-09-19 02:20:43.794298 WARNING Unexpected error during loading of alarm.py:
2017-09-19 02:20:43.803496 WARNING ------------------------------------------------------------
2017-09-19 02:20:43.824412 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 22
    self.log(self.args['lights'])
    ^
IndentationError: unexpected indent

2017-09-19 02:20:43.842716 WARNING ------------------------------------------------------------
2017-09-19 02:21:50.052918 WARNING ------------------------------------------------------------
2017-09-19 02:21:50.082331 WARNING Unexpected error in worker for App alarm:
2017-09-19 02:21:50.099141 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmTrigger of <alarm.AlarmReaction object at 0xb59fef70>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('060791fb-fdcf-47a2-b728-a36abd80a27f'), 'new_state': 'on', 'entity': 'input_boolean.alarm'}
2017-09-19 02:21:50.101683 WARNING ------------------------------------------------------------
2017-09-19 02:21:50.204598 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 15, in alarmTrigger
    alarmLights()
NameError: name 'alarmLights' is not defined

2017-09-19 02:21:50.207236 WARNING ------------------------------------------------------------
2017-09-19 02:22:16.152840 WARNING ------------------------------------------------------------
2017-09-19 02:22:16.163589 WARNING Unexpected error in worker for App alarm:
2017-09-19 02:22:16.224398 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmTrigger of <alarm.AlarmReaction object at 0xb5a90650>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'on', 'name': 'alarm', 'id': UUID('ddad0f8f-ea3e-4833-a5c7-82a1866a1a8d'), 'new_state': 'off', 'entity': 'input_boolean.alarm'}
2017-09-19 02:22:16.227323 WARNING ------------------------------------------------------------
2017-09-19 02:22:16.310225 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 15, in alarmTrigger
    alarmLights()
NameError: name 'alarmLights' is not defined

2017-09-19 02:22:16.338577 WARNING ------------------------------------------------------------
2017-09-19 02:23:11.409935 WARNING ------------------------------------------------------------
2017-09-19 02:23:11.472395 WARNING Unexpected error in worker for App alarm:
2017-09-19 02:23:11.528283 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmTrigger of <alarm.AlarmReaction object at 0xb5a90970>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('db384551-69ab-4e07-8133-a20efc67a0ca'), 'new_state': 'on', 'entity': 'input_boolean.alarm'}
2017-09-19 02:23:11.601802 WARNING ------------------------------------------------------------
2017-09-19 02:23:11.647616 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 15, in alarmTrigger
    alarmLights()
NameError: name 'alarmLights' is not defined

2017-09-19 02:23:11.696049 WARNING ------------------------------------------------------------
2017-09-19 02:23:25.162394 WARNING ------------------------------------------------------------
2017-09-19 02:23:25.180580 WARNING Unexpected error in worker for App alarm:
2017-09-19 02:23:25.209034 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmTrigger of <alarm.AlarmReaction object at 0xb5a90970>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'on', 'name': 'alarm', 'id': UUID('db384551-69ab-4e07-8133-a20efc67a0ca'), 'new_state': 'off', 'entity': 'input_boolean.alarm'}
2017-09-19 02:23:25.216204 WARNING ------------------------------------------------------------
2017-09-19 02:23:25.323485 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 15, in alarmTrigger
    alarmLights()
NameError: name 'alarmLights' is not defined

2017-09-19 02:23:25.352302 WARNING ------------------------------------------------------------
2017-09-19 02:24:00.931519 WARNING ------------------------------------------------------------
2017-09-19 02:24:00.973337 WARNING Unexpected error in worker for App alarm:
2017-09-19 02:24:01.002580 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmTrigger of <alarm.AlarmReaction object at 0xb59f5530>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('31e39ff5-347e-4f01-ac67-0a6a20046b31'), 'new_state': 'on', 'entity': 'input_boolean.alarm'}
2017-09-19 02:24:01.046039 WARNING ------------------------------------------------------------
2017-09-19 02:24:01.116108 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 15, in alarmTrigger
    alarmLights()
NameError: name 'alarmLights' is not defined

2017-09-19 02:24:01.138098 WARNING ------------------------------------------------------------
2017-09-19 02:24:10.492920 WARNING ------------------------------------------------------------
2017-09-19 02:24:10.522472 WARNING Unexpected error in worker for App alarm:
2017-09-19 02:24:10.534667 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmTrigger of <alarm.AlarmReaction object at 0xb59f5530>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'on', 'name': 'alarm', 'id': UUID('31e39ff5-347e-4f01-ac67-0a6a20046b31'), 'new_state': 'off', 'entity': 'input_boolean.alarm'}
2017-09-19 02:24:10.579201 WARNING ------------------------------------------------------------
2017-09-19 02:24:10.593530 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 15, in alarmTrigger
    alarmLights()
NameError: name 'alarmLights' is not defined

2017-09-19 02:24:10.596123 WARNING ------------------------------------------------------------
2017-09-19 02:24:14.262480 WARNING ------------------------------------------------------------
2017-09-19 02:24:14.282081 WARNING Unexpected error in worker for App alarm:
2017-09-19 02:24:14.303540 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmTrigger of <alarm.AlarmReaction object at 0xb59f5530>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('31e39ff5-347e-4f01-ac67-0a6a20046b31'), 'new_state': 'on', 'entity': 'input_boolean.alarm'}
2017-09-19 02:24:14.306179 WARNING ------------------------------------------------------------
2017-09-19 02:24:14.310079 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 15, in alarmTrigger
    alarmLights()
NameError: name 'alarmLights' is not defined

2017-09-19 02:24:14.440605 WARNING ------------------------------------------------------------
2017-09-19 02:44:55.863636 WARNING ------------------------------------------------------------
2017-09-19 02:44:55.882338 WARNING Unexpected error during loading of alarm:
2017-09-19 02:44:55.890246 WARNING ------------------------------------------------------------
2017-09-19 02:44:55.921423 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 924, in read_app
    init_object(name, class_name, module_name, config[name])
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 598, in init_object
    conf.objects[name]["object"].initialize()
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 9, in initialize
    self.listen_state(self.warningTrigger, self.args['alarm_lights'])
KeyError: 'alarm_lights'

2017-09-19 02:44:55.938964 WARNING ------------------------------------------------------------
2017-09-19 03:02:41.095916 WARNING ------------------------------------------------------------
2017-09-19 03:02:41.133002 WARNING Unexpected error in worker for App alarm:
2017-09-19 03:02:41.151026 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmSounds of <alarm.AlarmReaction object at 0xb56a0050>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'on', 'name': 'alarm', 'id': UUID('4ea25e1e-de42-427d-b2a5-6f74e80635e7'), 'new_state': 'off', 'entity': 'input_boolean.alarm_sounds'}
2017-09-19 03:02:41.278512 WARNING ------------------------------------------------------------
2017-09-19 03:02:41.619562 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 33, in alarmSounds
    self.log("SOUND ALARM DISABLED - <{}> - <{}>".format(entity,new))
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 172, in log
    msg = self._sub_stack(msg)
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 151, in _sub_stack
    stack = inspect.stack()
  File "/usr/lib/python3.4/inspect.py", line 1342, in stack
    return getouterframes(sys._getframe(1), context)
  File "/usr/lib/python3.4/inspect.py", line 1321, in getouterframes
    framelist.append((frame,) + getframeinfo(frame, context))
  File "/usr/lib/python3.4/inspect.py", line 1296, in getframeinfo
    lines, lnum = findsource(frame)
  File "/usr/lib/python3.4/inspect.py", line 709, in findsource
    if pat.match(lines[lnum]): break
IndexError: list index out of range

2017-09-19 03:02:41.645111 WARNING ------------------------------------------------------------
2017-09-19 03:10:20.490830 WARNING ------------------------------------------------------------
2017-09-19 03:10:20.537935 WARNING Unexpected error in worker for App alarm:
2017-09-19 03:10:20.563268 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb56a0f30>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('e7db6b6c-ee4e-44f5-b510-1f86191bfbed'), 'new_state': 'on', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 03:10:20.592914 WARNING ------------------------------------------------------------
2017-09-19 03:10:20.616806 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in alarmLights
    self.call_service("light/turn_on", entity_id = light.entity_id, effect = light.effect)
AttributeError: 'dict' object has no attribute 'entity_id'

2017-09-19 03:10:20.628330 WARNING ------------------------------------------------------------
2017-09-19 03:12:33.650777 WARNING ------------------------------------------------------------
2017-09-19 03:12:33.694102 WARNING Unexpected error in worker for App alarm:
2017-09-19 03:12:33.770593 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb5965a70>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'on', 'name': 'alarm', 'id': UUID('c33e3cbd-ef8c-427e-bb0e-c3d3c67719a1'), 'new_state': 'off', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 03:12:33.812350 WARNING ------------------------------------------------------------
2017-09-19 03:12:33.846852 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 31, in alarmLights
    self.call_service("light/turn_on", entity_id = light.entity_id, effect = "Stop")
AttributeError: 'dict' object has no attribute 'entity_id'

2017-09-19 03:12:33.874343 WARNING ------------------------------------------------------------
2017-09-19 03:12:36.172464 WARNING ------------------------------------------------------------
2017-09-19 03:12:36.200816 WARNING Unexpected error in worker for App alarm:
2017-09-19 03:12:36.283312 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb5965a70>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('c33e3cbd-ef8c-427e-bb0e-c3d3c67719a1'), 'new_state': 'on', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 03:12:36.338435 WARNING ------------------------------------------------------------
2017-09-19 03:12:36.363729 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 27, in alarmLights
    self.call_service("light/turn_on", entity_id = light.entity_id, effect = light.effect)
AttributeError: 'dict' object has no attribute 'entity_id'

2017-09-19 03:12:36.413326 WARNING ------------------------------------------------------------
2017-09-19 03:13:44.362424 WARNING ------------------------------------------------------------
2017-09-19 03:13:44.413725 WARNING Unexpected error in worker for App alarm:
2017-09-19 03:13:44.425386 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb5a079d0>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'on', 'name': 'alarm', 'id': UUID('96d56e26-39d0-453d-b1c2-64ac9167eb14'), 'new_state': 'off', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 03:13:44.498541 WARNING ------------------------------------------------------------
2017-09-19 03:13:44.555212 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 31, in alarmLights
    self.call_service("light/turn_on", entity_id = light.entity_id, effect = "Stop")
AttributeError: 'dict' object has no attribute 'entity_id'

2017-09-19 03:13:44.578687 WARNING ------------------------------------------------------------
2017-09-19 03:14:04.514704 WARNING ------------------------------------------------------------
2017-09-19 03:14:04.564056 WARNING Unexpected error in worker for App alarm:
2017-09-19 03:14:04.623817 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb5a079d0>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('96d56e26-39d0-453d-b1c2-64ac9167eb14'), 'new_state': 'on', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 03:14:04.630690 WARNING ------------------------------------------------------------
2017-09-19 03:14:04.653858 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in alarmLights
    self.log("LIGGHT - <{}>".format(light.entity_id))
AttributeError: 'dict' object has no attribute 'entity_id'

2017-09-19 03:14:04.661772 WARNING ------------------------------------------------------------
2017-09-19 03:14:36.642696 WARNING ------------------------------------------------------------
2017-09-19 03:14:36.662343 WARNING Unexpected error in worker for App alarm:
2017-09-19 03:14:36.694638 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb59fedb0>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'on', 'name': 'alarm', 'id': UUID('89fc186d-5077-41d4-ae51-99f9eb22d446'), 'new_state': 'off', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 03:14:36.697189 WARNING ------------------------------------------------------------
2017-09-19 03:14:36.775176 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 31, in alarmLights
    self.call_service("light/turn_on", entity_id = light.entity_id, effect = "Stop")
AttributeError: 'dict' object has no attribute 'entity_id'

2017-09-19 03:14:36.849061 WARNING ------------------------------------------------------------
2017-09-19 03:15:22.813049 WARNING ------------------------------------------------------------
2017-09-19 03:15:22.842420 WARNING Unexpected error in worker for App alarm:
2017-09-19 03:15:22.845509 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb59f5f70>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('ea35c3c9-fac4-4545-812d-0d153a7c826f'), 'new_state': 'on', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 03:15:22.847993 WARNING ------------------------------------------------------------
2017-09-19 03:15:22.907392 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 27, in alarmLights
    self.call_service("light/turn_on", entity_id = light['entity_id'], effect = light['effect'])
KeyError: 'effect'

2017-09-19 03:15:22.916370 WARNING ------------------------------------------------------------
2017-09-19 04:12:52.218445 WARNING ------------------------------------------------------------
2017-09-19 04:12:52.234001 WARNING Unexpected error during loading of alarm.py:
2017-09-19 04:12:52.238868 WARNING ------------------------------------------------------------
2017-09-19 04:12:52.254870 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 42
    def self.turn_on(lights):
            ^
SyntaxError: invalid syntax

2017-09-19 04:12:52.273738 WARNING ------------------------------------------------------------
2017-09-19 04:12:56.211494 WARNING ------------------------------------------------------------
2017-09-19 04:12:56.233938 WARNING Unexpected error during loading of alarm.py:
2017-09-19 04:12:56.239129 WARNING ------------------------------------------------------------
2017-09-19 04:12:56.253365 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 42
    def self.turn_on(lights):
            ^
SyntaxError: invalid syntax

2017-09-19 04:12:56.279029 WARNING ------------------------------------------------------------
2017-09-19 04:14:16.215012 WARNING ------------------------------------------------------------
2017-09-19 04:14:16.232386 WARNING Unexpected error during loading of alarm.py:
2017-09-19 04:14:16.236262 WARNING ------------------------------------------------------------
2017-09-19 04:14:16.263558 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 42
    def self.turn_on(lights):
            ^
SyntaxError: invalid syntax

2017-09-19 04:14:16.267624 WARNING ------------------------------------------------------------
2017-09-19 04:15:29.163231 WARNING ------------------------------------------------------------
2017-09-19 04:15:29.230081 WARNING Unexpected error in worker for App alarm:
2017-09-19 04:15:29.322774 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb56a0bd0>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('1e6d2a32-6e66-45f4-b0a3-d79b426d0963'), 'new_state': 'on', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 04:15:29.372640 WARNING ------------------------------------------------------------
2017-09-19 04:15:29.421615 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 25, in alarmLights
    self.turn_on(self.args['lights'])
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 106, in func_wrapper
    return(func(*args, **kwargs))
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 602, in turn_on
    self._check_entity(entity_id)
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 140, in _check_entity
    "{}: Invalid entity ID: {}".format(self.name, entity))
ValueError: alarm: Invalid entity ID: [{'entity_id': 'light.gateway_light_34ce0088d613'}, {'entity_id': 'light.lamp'}, {'entity_id': 'switch.main_light', 'effect': 'strobe'}, {'entity_id': 'light.bathroom', 'effect': 'Police'}]

2017-09-19 04:15:29.488460 WARNING ------------------------------------------------------------
2017-09-19 04:16:18.512499 WARNING ------------------------------------------------------------
2017-09-19 04:16:18.531944 WARNING Unexpected error in worker for App alarm:
2017-09-19 04:16:18.561580 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb5a72770>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('ab806870-da36-489b-90e5-32804d29167d'), 'new_state': 'on', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 04:16:18.564612 WARNING ------------------------------------------------------------
2017-09-19 04:16:18.625957 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 25, in alarmLights
    self.turn_on(self.args['lights'])
TypeError: turn_on() takes 1 positional argument but 2 were given

2017-09-19 04:16:18.638916 WARNING ------------------------------------------------------------
2017-09-19 04:18:50.325629 WARNING ------------------------------------------------------------
2017-09-19 04:18:50.338210 WARNING Unexpected error in worker for App alarm:
2017-09-19 04:18:50.355712 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb59fee30>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('c5b08984-b194-4169-a92f-7e66437a26c8'), 'new_state': 'on', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 04:18:50.370213 WARNING ------------------------------------------------------------
2017-09-19 04:18:50.403115 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 25, in alarmLights
    self.turn_on(self.args['lights'])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 49, in turn_on
    if get_state(entity = input_boolean.alarm_lights) is True:
NameError: name 'get_state' is not defined

2017-09-19 04:18:50.407115 WARNING ------------------------------------------------------------
2017-09-19 04:19:42.056161 WARNING ------------------------------------------------------------
2017-09-19 04:19:42.068944 WARNING Unexpected error in worker for App alarm:
2017-09-19 04:19:42.097790 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb5a72f10>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('81242785-d044-46db-9fcd-fd16748784db'), 'new_state': 'on', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 04:19:42.102234 WARNING ------------------------------------------------------------
2017-09-19 04:19:42.132976 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 25, in alarmLights
    self.turn_on(self.args['lights'])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 49, in turn_on
    if self.get_state(entity = input_boolean.alarm_lights) is True:
NameError: name 'input_boolean' is not defined

2017-09-19 04:19:42.141657 WARNING ------------------------------------------------------------
2017-09-19 04:20:21.038178 WARNING ------------------------------------------------------------
2017-09-19 04:20:21.052350 WARNING Unexpected error in worker for App alarm:
2017-09-19 04:20:21.063073 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb59dae90>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('4782b8b6-88f3-437f-96d6-f22246cc9b04'), 'new_state': 'on', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 04:20:21.080083 WARNING ------------------------------------------------------------
2017-09-19 04:20:21.097532 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 25, in alarmLights
    self.turn_on(self.args['lights'])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 49, in turn_on
    if self.get_state(entity = 'input_boolean.alarm_lights') is True:
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 106, in func_wrapper
    return(func(*args, **kwargs))
TypeError: get_state() got an unexpected keyword argument 'entity'

2017-09-19 04:20:21.122894 WARNING ------------------------------------------------------------
2017-09-19 04:36:49.135879 WARNING ------------------------------------------------------------
2017-09-19 04:36:49.153505 WARNING Unexpected error in worker for App alarm:
2017-09-19 04:36:49.170448 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb5a72d10>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('1efbedac-990a-4949-bd4e-5c08e06fb32d'), 'new_state': 'on', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 04:36:49.192671 WARNING ------------------------------------------------------------
2017-09-19 04:36:49.223309 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 25, in alarmLights
    self.turn_on(self.args['lights'])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 52, in turn_on
    self.turn_off(strobeLights)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 56, in turn_off
    self.log("LIGGHT - <{}> - <{}>".format(light.get('entity_id'),light.get('effect')))
NameError: name 'light' is not defined

2017-09-19 04:36:49.237688 WARNING ------------------------------------------------------------
2017-09-19 04:38:57.664070 WARNING ------------------------------------------------------------
2017-09-19 04:38:57.683946 WARNING Unexpected error in worker for App alarm:
2017-09-19 04:38:57.689204 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb596a5d0>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('b4eec72c-fa4b-4c1c-93a7-15da4ca61344'), 'new_state': 'on', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 04:38:57.712607 WARNING ------------------------------------------------------------
2017-09-19 04:38:57.743782 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 25, in alarmLights
    self.turn_on(self.args['lights'])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 52, in turn_on
    self.turn_off(strobeLights)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 56, in turn_off
    self.log("LIGGHT - <{}> - <{}>".format(lights.get('entity_id'),lights.get('effect')))
AttributeError: 'list' object has no attribute 'get'

2017-09-19 04:38:57.752736 WARNING ------------------------------------------------------------
2017-09-19 04:41:47.621675 WARNING ------------------------------------------------------------
2017-09-19 04:41:47.642924 WARNING Unexpected error in worker for App alarm:
2017-09-19 04:41:47.652218 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb59f5ed0>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('c7e7a4da-edf2-4d4e-9506-58ac29612f41'), 'new_state': 'on', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 04:41:47.661551 WARNING ------------------------------------------------------------
2017-09-19 04:41:47.692840 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 25, in alarmLights
    self.turn_on(self.args['lights'])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 55, in turn_on
    self.turn_off(strobeLights)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 59, in turn_off
    self.call_service("homeassistant/turn_off", lights)
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 106, in func_wrapper
    return(func(*args, **kwargs))
TypeError: call_service() takes 2 positional arguments but 3 were given

2017-09-19 04:41:47.696729 WARNING ------------------------------------------------------------
2017-09-19 04:49:55.305715 WARNING ------------------------------------------------------------
2017-09-19 04:49:55.323622 WARNING Unexpected error in worker for App alarm:
2017-09-19 04:49:55.333653 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmLights of <alarm.AlarmReaction object at 0xb596a690>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('0cd0d03a-ee55-4567-99eb-ab7c2c1b27f6'), 'new_state': 'on', 'entity': 'input_boolean.alarm_lights'}
2017-09-19 04:49:55.382998 WARNING ------------------------------------------------------------
2017-09-19 04:49:55.430186 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 25, in alarmLights
    self.turn_on(self.args['lights'],True)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 52, in turn_on
    self.turn_off(strobeLights)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 59, in turn_off
    self.turn_on(lights)
TypeError: turn_on() missing 1 required positional argument: 'repeat'

2017-09-19 04:49:55.497551 WARNING ------------------------------------------------------------
2017-09-19 04:59:16.002745 WARNING ------------------------------------------------------------
2017-09-19 04:59:16.023414 WARNING Unexpected error in worker for App alarm:
2017-09-19 04:59:16.041771 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmSounds of <alarm.AlarmReaction object at 0xb59fe7b0>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('8f05a5b9-3d48-4835-b1f8-e79b154ed1ef'), 'new_state': 'on', 'entity': 'input_boolean.alarm_sounds'}
2017-09-19 04:59:16.052613 WARNING ------------------------------------------------------------
2017-09-19 04:59:16.147649 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 34, in alarmSounds
    self.call_service("xiaomi/play_ringtone", self.args['xiaomis'])
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 106, in func_wrapper
    return(func(*args, **kwargs))
TypeError: call_service() takes 2 positional arguments but 3 were given

2017-09-19 04:59:16.192905 WARNING ------------------------------------------------------------
2017-09-19 05:00:02.212528 WARNING ------------------------------------------------------------
2017-09-19 05:00:02.232430 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:00:02.254895 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmSounds of <alarm.AlarmReaction object at 0xb5a04770>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'on', 'name': 'alarm', 'id': UUID('68202bd2-446a-46ad-8508-6b374cf80843'), 'new_state': 'off', 'entity': 'input_boolean.alarm_sounds'}
2017-09-19 05:00:02.272929 WARNING ------------------------------------------------------------
2017-09-19 05:00:02.352398 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 37, in alarmSounds
    self.call_service("xiaomi/stop_ringtone",self.args['xiaomis'])
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 106, in func_wrapper
    return(func(*args, **kwargs))
TypeError: call_service() takes 2 positional arguments but 3 were given

2017-09-19 05:00:02.404951 WARNING ------------------------------------------------------------
2017-09-19 05:02:50.633649 WARNING ------------------------------------------------------------
2017-09-19 05:02:50.713243 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:02:50.772827 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmSounds of <alarm.AlarmReaction object at 0xb5a04670>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'on', 'name': 'alarm', 'id': UUID('96f51db7-dc38-44fe-adf1-52188b734209'), 'new_state': 'off', 'entity': 'input_boolean.alarm_sounds'}
2017-09-19 05:02:50.792968 WARNING ------------------------------------------------------------
2017-09-19 05:02:50.819323 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 38, in alarmSounds
    self.call_service("xiaomi/stop_ringtone", gw_mac = xiaomi['gw_mac'])
UnboundLocalError: local variable 'xiaomi' referenced before assignment

2017-09-19 05:02:50.832348 WARNING ------------------------------------------------------------
2017-09-19 05:04:25.371775 WARNING ------------------------------------------------------------
2017-09-19 05:04:25.384497 WARNING Unexpected error during loading of alarm.py:
2017-09-19 05:04:25.403747 WARNING ------------------------------------------------------------
2017-09-19 05:04:25.408981 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 38
    for xiaomi in self.args['xiaomis']:
    ^
IndentationError: unexpected indent

2017-09-19 05:04:25.411618 WARNING ------------------------------------------------------------
2017-09-19 05:10:26.593732 WARNING ------------------------------------------------------------
2017-09-19 05:10:26.613962 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:10:26.620649 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmSounds of <alarm.AlarmReaction object at 0xb596a730>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('4de46bb0-95de-498d-8ded-97755f7cbf40'), 'new_state': 'on', 'entity': 'input_boolean.alarm_sounds'}
2017-09-19 05:10:26.635182 WARNING ------------------------------------------------------------
2017-09-19 05:10:26.675287 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 37, in alarmSounds
    while alarm_sounds == 'on':
NameError: name 'alarm_sounds' is not defined

2017-09-19 05:10:26.694596 WARNING ------------------------------------------------------------
2017-09-19 05:11:02.467554 WARNING ------------------------------------------------------------
2017-09-19 05:11:02.503146 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:11:02.533465 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('b689c0ae-3534-4afc-930e-fa048ef4c7a1'), 'kwargs': {}, 'function': []}
2017-09-19 05:11:02.562705 WARNING ------------------------------------------------------------
2017-09-19 05:11:02.573527 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:11:02.576763 WARNING ------------------------------------------------------------
2017-09-19 05:11:03.716364 WARNING ------------------------------------------------------------
2017-09-19 05:11:03.812457 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:11:03.854808 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('b689c0ae-3534-4afc-930e-fa048ef4c7a1'), 'kwargs': {}, 'function': []}
2017-09-19 05:11:03.935231 WARNING ------------------------------------------------------------
2017-09-19 05:11:03.758231 WARNING ------------------------------------------------------------
2017-09-19 05:11:03.728522 WARNING ------------------------------------------------------------
2017-09-19 05:11:04.022592 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:11:04.092786 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('b689c0ae-3534-4afc-930e-fa048ef4c7a1'), 'kwargs': {}, 'function': []}
2017-09-19 05:11:03.983532 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:11:04.118390 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:11:04.147768 WARNING ------------------------------------------------------------
2017-09-19 05:11:04.182793 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('b689c0ae-3534-4afc-930e-fa048ef4c7a1'), 'kwargs': {}, 'function': []}
2017-09-19 05:11:04.197114 WARNING ------------------------------------------------------------
2017-09-19 05:11:04.262286 WARNING ------------------------------------------------------------
2017-09-19 05:11:04.306371 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:11:04.492994 WARNING ------------------------------------------------------------
2017-09-19 05:11:04.405819 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:11:04.622692 WARNING ------------------------------------------------------------
2017-09-19 05:11:04.763176 WARNING ------------------------------------------------------------
2017-09-19 05:11:04.891591 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:11:04.966602 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('b689c0ae-3534-4afc-930e-fa048ef4c7a1'), 'kwargs': {}, 'function': []}
2017-09-19 05:11:05.027669 WARNING ------------------------------------------------------------
2017-09-19 05:11:05.064395 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:11:05.112497 WARNING ------------------------------------------------------------
2017-09-19 05:11:04.869034 WARNING ------------------------------------------------------------
2017-09-19 05:11:05.163093 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:11:05.183224 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('b689c0ae-3534-4afc-930e-fa048ef4c7a1'), 'kwargs': {}, 'function': []}
2017-09-19 05:11:05.215377 WARNING ------------------------------------------------------------
2017-09-19 05:11:05.233541 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:11:05.244554 WARNING ------------------------------------------------------------
2017-09-19 05:11:05.513729 WARNING ------------------------------------------------------------
2017-09-19 05:11:05.585251 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:11:05.552644 WARNING ------------------------------------------------------------
2017-09-19 05:11:05.529391 WARNING ------------------------------------------------------------
2017-09-19 05:11:05.615096 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:11:05.592865 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('b689c0ae-3534-4afc-930e-fa048ef4c7a1'), 'kwargs': {}, 'function': []}
2017-09-19 05:11:05.727995 WARNING ------------------------------------------------------------
2017-09-19 05:11:05.698506 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:11:05.712896 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('b689c0ae-3534-4afc-930e-fa048ef4c7a1'), 'kwargs': {}, 'function': []}
2017-09-19 05:11:05.796183 WARNING ------------------------------------------------------------
2017-09-19 05:11:05.803141 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:11:05.792793 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('b689c0ae-3534-4afc-930e-fa048ef4c7a1'), 'kwargs': {}, 'function': []}
2017-09-19 05:11:05.866317 WARNING ------------------------------------------------------------
2017-09-19 05:11:05.862701 WARNING ------------------------------------------------------------
2017-09-19 05:11:05.852749 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:11:05.921525 WARNING ------------------------------------------------------------
2017-09-19 05:11:05.912348 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:11:05.953097 WARNING ------------------------------------------------------------
2017-09-19 05:11:06.435105 WARNING ------------------------------------------------------------
2017-09-19 05:11:06.443370 WARNING ------------------------------------------------------------
2017-09-19 05:11:06.477789 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:11:06.473282 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:11:06.540084 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('b689c0ae-3534-4afc-930e-fa048ef4c7a1'), 'kwargs': {}, 'function': []}
2017-09-19 05:11:06.490434 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('b689c0ae-3534-4afc-930e-fa048ef4c7a1'), 'kwargs': {}, 'function': []}
2017-09-19 05:11:06.559060 WARNING ------------------------------------------------------------
2017-09-19 05:11:06.565270 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:11:06.548151 WARNING ------------------------------------------------------------
2017-09-19 05:11:06.588139 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:11:06.590674 WARNING ------------------------------------------------------------
2017-09-19 05:11:06.580482 WARNING ------------------------------------------------------------
2017-09-19 05:11:07.407001 WARNING ------------------------------------------------------------
2017-09-19 05:11:07.411121 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:11:07.426027 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('b689c0ae-3534-4afc-930e-fa048ef4c7a1'), 'kwargs': {}, 'function': []}
2017-09-19 05:11:07.435452 WARNING ------------------------------------------------------------
2017-09-19 05:11:07.464985 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:11:07.468877 WARNING ------------------------------------------------------------
2017-09-19 05:11:08.395199 WARNING ------------------------------------------------------------
2017-09-19 05:11:08.399162 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:11:08.415631 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('b689c0ae-3534-4afc-930e-fa048ef4c7a1'), 'kwargs': {}, 'function': []}
2017-09-19 05:11:08.423099 WARNING ------------------------------------------------------------
2017-09-19 05:11:08.439657 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:11:08.451244 WARNING ------------------------------------------------------------
2017-09-19 05:14:08.343105 WARNING ------------------------------------------------------------
2017-09-19 05:14:08.353489 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:14:08.363011 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('99158c35-84d4-4e44-baff-21a02a019c0d'), 'kwargs': {}, 'function': []}
2017-09-19 05:14:08.374118 WARNING ------------------------------------------------------------
2017-09-19 05:14:08.378570 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:14:08.394900 WARNING ------------------------------------------------------------
2017-09-19 05:14:09.344173 WARNING ------------------------------------------------------------
2017-09-19 05:14:09.346654 WARNING ------------------------------------------------------------
2017-09-19 05:14:09.368380 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:14:09.362472 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:14:09.387399 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('99158c35-84d4-4e44-baff-21a02a019c0d'), 'kwargs': {}, 'function': []}
2017-09-19 05:14:09.371175 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('99158c35-84d4-4e44-baff-21a02a019c0d'), 'kwargs': {}, 'function': []}
2017-09-19 05:14:09.412667 WARNING ------------------------------------------------------------
2017-09-19 05:14:09.396829 WARNING ------------------------------------------------------------
2017-09-19 05:14:09.438303 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:14:09.452409 WARNING ------------------------------------------------------------
2017-09-19 05:14:09.432679 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:14:09.474809 WARNING ------------------------------------------------------------
2017-09-19 05:14:10.349820 WARNING ------------------------------------------------------------
2017-09-19 05:14:10.352572 WARNING ------------------------------------------------------------
2017-09-19 05:14:10.372161 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:14:10.364048 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:14:10.394130 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('99158c35-84d4-4e44-baff-21a02a019c0d'), 'kwargs': {}, 'function': []}
2017-09-19 05:14:10.382947 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('99158c35-84d4-4e44-baff-21a02a019c0d'), 'kwargs': {}, 'function': []}
2017-09-19 05:14:10.418995 WARNING ------------------------------------------------------------
2017-09-19 05:14:10.404515 WARNING ------------------------------------------------------------
2017-09-19 05:14:10.443918 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:14:10.451610 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:14:10.467749 WARNING ------------------------------------------------------------
2017-09-19 05:14:10.463740 WARNING ------------------------------------------------------------
2017-09-19 05:14:11.356248 WARNING ------------------------------------------------------------
2017-09-19 05:14:11.358683 WARNING ------------------------------------------------------------
2017-09-19 05:14:11.373088 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:14:11.379012 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:14:11.412983 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('99158c35-84d4-4e44-baff-21a02a019c0d'), 'kwargs': {}, 'function': []}
2017-09-19 05:14:11.390958 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('99158c35-84d4-4e44-baff-21a02a019c0d'), 'kwargs': {}, 'function': []}
2017-09-19 05:14:11.423679 WARNING ------------------------------------------------------------
2017-09-19 05:14:11.417329 WARNING ------------------------------------------------------------
2017-09-19 05:14:11.446604 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:14:11.449313 WARNING ------------------------------------------------------------
2017-09-19 05:14:11.464776 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:14:11.482372 WARNING ------------------------------------------------------------
2017-09-19 05:14:12.352622 WARNING ------------------------------------------------------------
2017-09-19 05:14:12.364194 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:14:12.372372 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('99158c35-84d4-4e44-baff-21a02a019c0d'), 'kwargs': {}, 'function': []}
2017-09-19 05:14:12.386000 WARNING ------------------------------------------------------------
2017-09-19 05:14:12.401664 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:14:12.405987 WARNING ------------------------------------------------------------
2017-09-19 05:14:13.342693 WARNING ------------------------------------------------------------
2017-09-19 05:14:13.362952 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:14:13.374759 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('99158c35-84d4-4e44-baff-21a02a019c0d'), 'kwargs': {}, 'function': []}
2017-09-19 05:14:13.385206 WARNING ------------------------------------------------------------
2017-09-19 05:14:13.403311 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:14:13.407749 WARNING ------------------------------------------------------------
2017-09-19 05:19:11.344465 WARNING ------------------------------------------------------------
2017-09-19 05:19:11.353398 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:11.361575 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:11.373901 WARNING ------------------------------------------------------------
2017-09-19 05:19:11.393465 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:11.397972 WARNING ------------------------------------------------------------
2017-09-19 05:19:12.348203 WARNING ------------------------------------------------------------
2017-09-19 05:19:12.360473 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:12.372523 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:12.375562 WARNING ------------------------------------------------------------
2017-09-19 05:19:12.391140 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:12.396634 WARNING ------------------------------------------------------------
2017-09-19 05:19:13.346343 WARNING ------------------------------------------------------------
2017-09-19 05:19:13.349133 WARNING ------------------------------------------------------------
2017-09-19 05:19:13.369508 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:13.364521 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:13.394604 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:13.397319 WARNING ------------------------------------------------------------
2017-09-19 05:19:13.379431 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:13.419281 WARNING ------------------------------------------------------------
2017-09-19 05:19:13.401003 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:13.434634 WARNING ------------------------------------------------------------
2017-09-19 05:19:13.438127 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:13.461129 WARNING ------------------------------------------------------------
2017-09-19 05:19:14.351306 WARNING ------------------------------------------------------------
2017-09-19 05:19:14.363946 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:14.369001 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:14.377559 WARNING ------------------------------------------------------------
2017-09-19 05:19:14.389205 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:14.402115 WARNING ------------------------------------------------------------
2017-09-19 05:19:15.347371 WARNING ------------------------------------------------------------
2017-09-19 05:19:15.350178 WARNING ------------------------------------------------------------
2017-09-19 05:19:15.368140 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:15.358850 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:15.393908 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:15.377503 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:15.413177 WARNING ------------------------------------------------------------
2017-09-19 05:19:15.398968 WARNING ------------------------------------------------------------
2017-09-19 05:19:15.426813 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:15.449257 WARNING ------------------------------------------------------------
2017-09-19 05:19:15.435864 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:15.468615 WARNING ------------------------------------------------------------
2017-09-19 05:19:16.353862 WARNING ------------------------------------------------------------
2017-09-19 05:19:16.356274 WARNING ------------------------------------------------------------
2017-09-19 05:19:16.386449 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:16.376239 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:16.406820 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:16.399458 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:16.425774 WARNING ------------------------------------------------------------
2017-09-19 05:19:16.417383 WARNING ------------------------------------------------------------
2017-09-19 05:19:16.433836 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:16.465592 WARNING ------------------------------------------------------------
2017-09-19 05:19:16.450505 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:16.476382 WARNING ------------------------------------------------------------
2017-09-19 05:19:17.353058 WARNING ------------------------------------------------------------
2017-09-19 05:19:17.355487 WARNING ------------------------------------------------------------
2017-09-19 05:19:17.372232 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:17.384268 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:17.364272 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:17.394903 WARNING ------------------------------------------------------------
2017-09-19 05:19:17.409576 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:17.430072 WARNING ------------------------------------------------------------
2017-09-19 05:19:17.425730 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:17.450586 WARNING ------------------------------------------------------------
2017-09-19 05:19:17.462779 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:17.474901 WARNING ------------------------------------------------------------
2017-09-19 05:19:18.353154 WARNING ------------------------------------------------------------
2017-09-19 05:19:18.355906 WARNING ------------------------------------------------------------
2017-09-19 05:19:18.374733 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:18.365621 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:18.404367 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:18.389551 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:18.409309 WARNING ------------------------------------------------------------
2017-09-19 05:19:18.435970 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:18.421612 WARNING ------------------------------------------------------------
2017-09-19 05:19:18.447191 WARNING ------------------------------------------------------------
2017-09-19 05:19:18.465724 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:18.477769 WARNING ------------------------------------------------------------
2017-09-19 05:19:19.347709 WARNING ------------------------------------------------------------
2017-09-19 05:19:19.352484 WARNING ------------------------------------------------------------
2017-09-19 05:19:19.350397 WARNING ------------------------------------------------------------
2017-09-19 05:19:19.383287 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:19.364059 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:19.373915 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:19.417219 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:19.395007 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:19.405111 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:19.448008 WARNING ------------------------------------------------------------
2017-09-19 05:19:19.456493 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:19.444742 WARNING ------------------------------------------------------------
2017-09-19 05:19:19.430700 WARNING ------------------------------------------------------------
2017-09-19 05:19:19.493098 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:19.496059 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:19.466670 WARNING ------------------------------------------------------------
2017-09-19 05:19:19.504470 WARNING ------------------------------------------------------------
2017-09-19 05:19:19.514789 WARNING ------------------------------------------------------------
2017-09-19 05:19:20.354346 WARNING ------------------------------------------------------------
2017-09-19 05:19:20.372242 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:20.375265 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:20.377777 WARNING ------------------------------------------------------------
2017-09-19 05:19:20.381477 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:20.395571 WARNING ------------------------------------------------------------
2017-09-19 05:19:21.347559 WARNING ------------------------------------------------------------
2017-09-19 05:19:21.350114 WARNING ------------------------------------------------------------
2017-09-19 05:19:21.352214 WARNING ------------------------------------------------------------
2017-09-19 05:19:21.374149 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:21.394393 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:21.389831 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:21.414454 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:21.422271 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:21.430008 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:21.444180 WARNING ------------------------------------------------------------
2017-09-19 05:19:21.455112 WARNING ------------------------------------------------------------
2017-09-19 05:19:21.465189 WARNING ------------------------------------------------------------
2017-09-19 05:19:21.485884 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:21.519966 WARNING ------------------------------------------------------------
2017-09-19 05:19:21.512812 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:21.506150 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:21.543700 WARNING ------------------------------------------------------------
2017-09-19 05:19:21.550894 WARNING ------------------------------------------------------------
2017-09-19 05:19:22.352476 WARNING ------------------------------------------------------------
2017-09-19 05:19:22.362962 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:22.378150 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:22.382353 WARNING ------------------------------------------------------------
2017-09-19 05:19:22.395417 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:22.408748 WARNING ------------------------------------------------------------
2017-09-19 05:19:23.345834 WARNING ------------------------------------------------------------
2017-09-19 05:19:23.348250 WARNING ------------------------------------------------------------
2017-09-19 05:19:23.369236 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:23.364242 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:23.395009 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:23.376815 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:23.412705 WARNING ------------------------------------------------------------
2017-09-19 05:19:23.403764 WARNING ------------------------------------------------------------
2017-09-19 05:19:23.435339 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:23.438083 WARNING ------------------------------------------------------------
2017-09-19 05:19:23.451309 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:23.473412 WARNING ------------------------------------------------------------
2017-09-19 05:19:24.351145 WARNING ------------------------------------------------------------
2017-09-19 05:19:24.353704 WARNING ------------------------------------------------------------
2017-09-19 05:19:24.364509 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:24.385947 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:24.388573 WARNING ------------------------------------------------------------
2017-09-19 05:19:24.374718 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:24.408477 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:24.412944 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:24.425900 WARNING ------------------------------------------------------------
2017-09-19 05:19:24.435564 WARNING ------------------------------------------------------------
2017-09-19 05:19:24.465184 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:24.487814 WARNING ------------------------------------------------------------
2017-09-19 05:19:25.345912 WARNING ------------------------------------------------------------
2017-09-19 05:19:25.348354 WARNING ------------------------------------------------------------
2017-09-19 05:19:25.365640 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:25.357554 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:25.393091 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:25.380026 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:25.406129 WARNING ------------------------------------------------------------
2017-09-19 05:19:25.433489 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:25.436094 WARNING ------------------------------------------------------------
2017-09-19 05:19:25.413669 WARNING ------------------------------------------------------------
2017-09-19 05:19:25.478112 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:25.502379 WARNING ------------------------------------------------------------
2017-09-19 05:19:26.351506 WARNING ------------------------------------------------------------
2017-09-19 05:19:26.354092 WARNING ------------------------------------------------------------
2017-09-19 05:19:26.387300 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:26.383005 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:26.405730 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:26.394941 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:26.424472 WARNING ------------------------------------------------------------
2017-09-19 05:19:26.430982 WARNING ------------------------------------------------------------
2017-09-19 05:19:26.462197 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:26.449972 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:26.478862 WARNING ------------------------------------------------------------
2017-09-19 05:19:26.471097 WARNING ------------------------------------------------------------
2017-09-19 05:19:27.346300 WARNING ------------------------------------------------------------
2017-09-19 05:19:27.351147 WARNING ------------------------------------------------------------
2017-09-19 05:19:27.349031 WARNING ------------------------------------------------------------
2017-09-19 05:19:27.377384 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:27.369682 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:27.364135 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:27.403381 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:27.408169 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:27.415820 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:27.452885 WARNING ------------------------------------------------------------
2017-09-19 05:19:27.456712 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:27.434672 WARNING ------------------------------------------------------------
2017-09-19 05:19:27.442478 WARNING ------------------------------------------------------------
2017-09-19 05:19:27.459247 WARNING ------------------------------------------------------------
2017-09-19 05:19:27.498652 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:27.523203 WARNING ------------------------------------------------------------
2017-09-19 05:19:27.495511 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:27.541530 WARNING ------------------------------------------------------------
2017-09-19 05:19:28.354488 WARNING ------------------------------------------------------------
2017-09-19 05:19:28.356954 WARNING ------------------------------------------------------------
2017-09-19 05:19:28.369747 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:28.376525 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:28.403178 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:28.388353 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:28.423288 WARNING ------------------------------------------------------------
2017-09-19 05:19:28.418772 WARNING ------------------------------------------------------------
2017-09-19 05:19:28.445446 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:28.462300 WARNING ------------------------------------------------------------
2017-09-19 05:19:28.449816 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:28.502276 WARNING ------------------------------------------------------------
2017-09-19 05:19:29.344791 WARNING ------------------------------------------------------------
2017-09-19 05:19:29.348268 WARNING ------------------------------------------------------------
2017-09-19 05:19:29.369200 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:29.364066 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:29.379813 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:29.395800 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:29.414073 WARNING ------------------------------------------------------------
2017-09-19 05:19:29.403439 WARNING ------------------------------------------------------------
2017-09-19 05:19:29.447239 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:29.450437 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:29.467859 WARNING ------------------------------------------------------------
2017-09-19 05:19:29.455000 WARNING ------------------------------------------------------------
2017-09-19 05:19:30.353210 WARNING ------------------------------------------------------------
2017-09-19 05:19:30.355644 WARNING ------------------------------------------------------------
2017-09-19 05:19:30.375038 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:30.365619 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:30.399922 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:30.387170 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:30.415146 WARNING ------------------------------------------------------------
2017-09-19 05:19:30.422875 WARNING ------------------------------------------------------------
2017-09-19 05:19:30.453998 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:30.457490 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:30.476149 WARNING ------------------------------------------------------------
2017-09-19 05:19:30.461182 WARNING ------------------------------------------------------------
2017-09-19 05:19:31.398747 WARNING ------------------------------------------------------------
2017-09-19 05:19:31.412346 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:19:31.430153 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2067a023-1ac1-442f-8107-431d18076b70'), 'kwargs': {'ringtone_vol': 50, 'gw_mac': '34:CE:00:88:D6:13', 'ringtone_id': 2}, 'function': []}
2017-09-19 05:19:31.444172 WARNING ------------------------------------------------------------
2017-09-19 05:19:31.459251 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'list' object is not callable

2017-09-19 05:19:31.473785 WARNING ------------------------------------------------------------
2017-09-19 05:31:03.367909 WARNING ------------------------------------------------------------
2017-09-19 05:31:03.380543 WARNING Unexpected error during loading of alarm.py:
2017-09-19 05:31:03.387544 WARNING ------------------------------------------------------------
2017-09-19 05:31:03.404484 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 46
    else:
    ^
IndentationError: expected an indented block

2017-09-19 05:31:03.420686 WARNING ------------------------------------------------------------
2017-09-19 05:33:32.346041 WARNING ------------------------------------------------------------
2017-09-19 05:33:32.348702 WARNING ------------------------------------------------------------
2017-09-19 05:33:32.352893 WARNING ------------------------------------------------------------
2017-09-19 05:33:32.350811 WARNING ------------------------------------------------------------
2017-09-19 05:33:32.363437 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:33:32.373566 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:33:32.422832 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('20517829-3512-4aeb-9946-5c6f81b25a97'), 'kwargs': {}, 'function': None}
2017-09-19 05:33:32.393081 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:33:32.381363 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:33:32.410047 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('20517829-3512-4aeb-9946-5c6f81b25a97'), 'kwargs': {}, 'function': None}
2017-09-19 05:33:32.425867 WARNING ------------------------------------------------------------
2017-09-19 05:33:32.441727 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('20517829-3512-4aeb-9946-5c6f81b25a97'), 'kwargs': {}, 'function': None}
2017-09-19 05:33:32.446270 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('20517829-3512-4aeb-9946-5c6f81b25a97'), 'kwargs': {}, 'function': None}
2017-09-19 05:33:32.459657 WARNING ------------------------------------------------------------
2017-09-19 05:33:32.513387 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:33:32.491469 WARNING ------------------------------------------------------------
2017-09-19 05:33:32.478369 WARNING ------------------------------------------------------------
2017-09-19 05:33:32.502681 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:33:32.554992 WARNING ------------------------------------------------------------
2017-09-19 05:33:32.577684 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:33:32.520571 WARNING ------------------------------------------------------------
2017-09-19 05:33:32.585853 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:33:32.629808 WARNING ------------------------------------------------------------
2017-09-19 05:33:32.608710 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.346923 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.386319 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:36:27.358412 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.356478 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.354404 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.352249 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.382715 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.384658 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.349791 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.374272 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.398156 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('20517829-3512-4aeb-9946-5c6f81b25a97'), 'kwargs': {}, 'function': None}
2017-09-19 05:36:27.414933 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:36:27.422340 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:36:27.446208 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:36:27.465251 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:36:27.425583 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:36:27.436000 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:36:27.471789 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:36:27.504821 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.485300 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:36:27.515773 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('20517829-3512-4aeb-9946-5c6f81b25a97'), 'kwargs': {}, 'function': None}
2017-09-19 05:36:27.530391 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('20517829-3512-4aeb-9946-5c6f81b25a97'), 'kwargs': {}, 'function': None}
2017-09-19 05:36:27.538165 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('20517829-3512-4aeb-9946-5c6f81b25a97'), 'kwargs': {}, 'function': None}
2017-09-19 05:36:27.550161 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('20517829-3512-4aeb-9946-5c6f81b25a97'), 'kwargs': {}, 'function': None}
2017-09-19 05:36:27.562775 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('20517829-3512-4aeb-9946-5c6f81b25a97'), 'kwargs': {}, 'function': None}
2017-09-19 05:36:27.574089 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('20517829-3512-4aeb-9946-5c6f81b25a97'), 'kwargs': {}, 'function': None}
2017-09-19 05:36:27.604429 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('20517829-3512-4aeb-9946-5c6f81b25a97'), 'kwargs': {}, 'function': None}
2017-09-19 05:36:27.613911 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('20517829-3512-4aeb-9946-5c6f81b25a97'), 'kwargs': {}, 'function': None}
2017-09-19 05:36:27.624804 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.632688 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:36:27.608620 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.645693 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.657562 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.669223 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.682452 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.712458 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.794095 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:36:27.689843 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.723991 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.742828 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:36:27.805772 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:36:27.814156 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:36:27.838015 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:36:27.834176 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:36:27.819841 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:36:27.955581 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.798273 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.876190 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:36:27.907967 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.919961 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.864818 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.886066 WARNING ------------------------------------------------------------
2017-09-19 05:36:27.937234 WARNING ------------------------------------------------------------
2017-09-19 05:36:28.000354 WARNING ------------------------------------------------------------
2017-09-19 05:37:12.369354 WARNING ------------------------------------------------------------
2017-09-19 05:37:12.392402 WARNING Unexpected error during loading of alarm.py:
2017-09-19 05:37:12.395020 WARNING ------------------------------------------------------------
2017-09-19 05:37:12.400850 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 63
    def turn_on(self, lights, repeat):
                                     ^
IndentationError: unindent does not match any outer indentation level

2017-09-19 05:37:12.425910 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.346135 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.348999 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.351132 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.358150 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.356181 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.353947 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.449992 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:38:00.405000 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:38:00.373549 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:38:00.380202 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:38:00.409670 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:38:00.403150 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.426575 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:38:00.457089 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2bce284a-3056-4dd0-a2df-5074406bcd05'), 'kwargs': {}, 'function': None}
2017-09-19 05:38:00.485662 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2bce284a-3056-4dd0-a2df-5074406bcd05'), 'kwargs': {}, 'function': None}
2017-09-19 05:38:00.470936 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2bce284a-3056-4dd0-a2df-5074406bcd05'), 'kwargs': {}, 'function': None}
2017-09-19 05:38:00.579180 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.495948 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2bce284a-3056-4dd0-a2df-5074406bcd05'), 'kwargs': {}, 'function': None}
2017-09-19 05:38:00.546939 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.522170 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:38:00.516973 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2bce284a-3056-4dd0-a2df-5074406bcd05'), 'kwargs': {}, 'function': None}
2017-09-19 05:38:00.537806 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2bce284a-3056-4dd0-a2df-5074406bcd05'), 'kwargs': {}, 'function': None}
2017-09-19 05:38:00.558646 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.613691 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:38:00.622773 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2bce284a-3056-4dd0-a2df-5074406bcd05'), 'kwargs': {}, 'function': None}
2017-09-19 05:38:00.590978 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.641138 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.626923 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.661773 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:38:00.658266 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:38:00.752450 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.681318 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.694494 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:38:00.731606 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.672559 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.745287 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:38:00.739658 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:38:00.837624 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.818420 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.777323 WARNING ------------------------------------------------------------
2017-09-19 05:38:00.805108 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:38:00.927428 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.345506 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.350493 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.356725 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.354778 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.348240 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.352660 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.426267 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:39:20.389237 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:39:20.405205 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:39:20.373108 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:39:20.412641 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:39:20.377599 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:39:20.490807 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2bce284a-3056-4dd0-a2df-5074406bcd05'), 'kwargs': {}, 'function': None}
2017-09-19 05:39:20.440925 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2bce284a-3056-4dd0-a2df-5074406bcd05'), 'kwargs': {}, 'function': None}
2017-09-19 05:39:20.445913 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2bce284a-3056-4dd0-a2df-5074406bcd05'), 'kwargs': {}, 'function': None}
2017-09-19 05:39:20.470496 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2bce284a-3056-4dd0-a2df-5074406bcd05'), 'kwargs': {}, 'function': None}
2017-09-19 05:39:20.455079 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2bce284a-3056-4dd0-a2df-5074406bcd05'), 'kwargs': {}, 'function': None}
2017-09-19 05:39:20.478155 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('2bce284a-3056-4dd0-a2df-5074406bcd05'), 'kwargs': {}, 'function': None}
2017-09-19 05:39:20.514445 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.534396 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.552966 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.521795 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.571514 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.557586 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.587341 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:39:20.646591 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.617327 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:39:20.732372 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.678337 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:39:20.718618 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:39:20.702768 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:39:20.712505 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:39:20.789935 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.744739 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.783713 WARNING ------------------------------------------------------------
2017-09-19 05:39:20.802685 WARNING ------------------------------------------------------------
2017-09-19 05:40:11.170865 WARNING ------------------------------------------------------------
2017-09-19 05:40:11.195038 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:40:11.227257 WARNING Worker Ags: {'attribute': 'state', 'function': <bound method AlarmReaction.alarmSounds of <alarm.AlarmReaction object at 0xb5ad5db0>>, 'kwargs': {}, 'type': 'attr', 'old_state': 'off', 'name': 'alarm', 'id': UUID('3b5012d8-979a-4fda-b32e-2b544cdb0d38'), 'new_state': 'on', 'entity': 'input_boolean.alarm_sounds'}
2017-09-19 05:40:11.231057 WARNING ------------------------------------------------------------
2017-09-19 05:40:11.273698 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 34, in alarmSounds
    self.audioLoop(self.args['xiaomis'],True)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 45, in audioLoop
    self.run_in(self.audioLoop2(xiaomis,repeat),20)
AttributeError: 'AlarmReaction' object has no attribute 'audioLoop2'

2017-09-19 05:40:11.281291 WARNING ------------------------------------------------------------
2017-09-19 05:41:05.345820 WARNING ------------------------------------------------------------
2017-09-19 05:41:05.348336 WARNING ------------------------------------------------------------
2017-09-19 05:41:05.350322 WARNING ------------------------------------------------------------
2017-09-19 05:41:05.364109 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:41:05.380454 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:41:05.369289 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:41:05.392262 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('9165ce7d-6f17-444b-8bef-77bfd371cb02'), 'kwargs': {}, 'function': None}
2017-09-19 05:41:05.432860 WARNING ------------------------------------------------------------
2017-09-19 05:41:05.406108 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('9165ce7d-6f17-444b-8bef-77bfd371cb02'), 'kwargs': {}, 'function': None}
2017-09-19 05:41:05.417435 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('9165ce7d-6f17-444b-8bef-77bfd371cb02'), 'kwargs': {}, 'function': None}
2017-09-19 05:41:05.461561 WARNING ------------------------------------------------------------
2017-09-19 05:41:05.449527 WARNING ------------------------------------------------------------
2017-09-19 05:41:05.492721 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:41:05.474450 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:41:05.497125 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:41:05.533204 WARNING ------------------------------------------------------------
2017-09-19 05:41:05.509550 WARNING ------------------------------------------------------------
2017-09-19 05:41:05.506587 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.355535 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.366560 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.364335 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.373326 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.375311 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.377276 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.371126 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.393069 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:41:06.397535 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:41:06.419771 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:41:06.435257 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:41:06.408516 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:41:06.454856 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:41:06.467995 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('9165ce7d-6f17-444b-8bef-77bfd371cb02'), 'kwargs': {}, 'function': None}
2017-09-19 05:41:06.442817 WARNING Unexpected error in worker for App alarm:
2017-09-19 05:41:06.480473 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('9165ce7d-6f17-444b-8bef-77bfd371cb02'), 'kwargs': {}, 'function': None}
2017-09-19 05:41:06.500546 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('9165ce7d-6f17-444b-8bef-77bfd371cb02'), 'kwargs': {}, 'function': None}
2017-09-19 05:41:06.580142 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.505095 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('9165ce7d-6f17-444b-8bef-77bfd371cb02'), 'kwargs': {}, 'function': None}
2017-09-19 05:41:06.534837 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('9165ce7d-6f17-444b-8bef-77bfd371cb02'), 'kwargs': {}, 'function': None}
2017-09-19 05:41:06.516237 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('9165ce7d-6f17-444b-8bef-77bfd371cb02'), 'kwargs': {}, 'function': None}
2017-09-19 05:41:06.546181 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.565480 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.660024 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:41:06.605592 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.651221 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:41:06.554514 WARNING Worker Ags: {'type': 'timer', 'name': 'alarm', 'id': UUID('9165ce7d-6f17-444b-8bef-77bfd371cb02'), 'kwargs': {}, 'function': None}
2017-09-19 05:41:06.657107 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:41:06.625921 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.618070 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.725748 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:41:06.694048 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.702544 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.675465 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.714398 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.763763 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:41:06.746941 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:41:06.742441 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.789415 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: 'NoneType' object is not callable

2017-09-19 05:41:06.806316 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.833049 WARNING ------------------------------------------------------------
2017-09-19 05:41:06.900422 WARNING ------------------------------------------------------------
2017-10-04 19:58:41.744519 WARNING ------------------------------------------------------------
2017-10-04 19:58:41.753282 WARNING Unexpected error:
2017-10-04 19:58:41.755903 WARNING ------------------------------------------------------------
2017-10-04 19:58:41.760332 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 849, in check_config
    new_config[name]["module"], new_config[name]
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 598, in init_object
    conf.objects[name]["object"].initialize()
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 9, in initialize
    self.listen_state(self.alarmLights, self.args['alarm_lights'])
KeyError: 'alarm_lights'

2017-10-04 19:58:41.762817 WARNING ------------------------------------------------------------
2017-10-04 19:58:42.893524 WARNING ------------------------------------------------------------
2017-10-04 19:58:42.899703 WARNING Unexpected error:
2017-10-04 19:58:42.906992 WARNING ------------------------------------------------------------
2017-10-04 19:58:42.923595 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 849, in check_config
    new_config[name]["module"], new_config[name]
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 598, in init_object
    conf.objects[name]["object"].initialize()
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 9, in initialize
    self.listen_state(self.alarmLights, self.args['alarm_lights'])
KeyError: 'alarm_lights'

2017-10-04 19:58:42.930303 WARNING ------------------------------------------------------------
2017-10-04 20:00:27.499617 WARNING ------------------------------------------------------------
2017-10-04 20:00:27.503111 WARNING Unexpected error in worker for App Telegram:
2017-10-04 20:00:27.517879 WARNING Worker Ags: {'type': 'event', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5a9e950>>, 'name': 'Telegram', 'kwargs': {}, 'data': {'user_id': 444908880, 'chat_id': 444908880, 'from_last': 'Dav', 'from_first': 'Ultimate', 'text': ' Back to Menu'}, 'id': UUID('a9e12515-aed2-4191-abd0-d0555bb432e9'), 'event': 'telegram_text'}
2017-10-04 20:00:27.522432 WARNING ------------------------------------------------------------
2017-10-04 20:00:27.578035 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 99, in receive_telegram_text
    self.errorMessage(payload_event,"User ID was not found\nPlease contact administrator")
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 485, in errorMessage
    self.log("Serving Error Message")
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 172, in log
    msg = self._sub_stack(msg)
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 151, in _sub_stack
    stack = inspect.stack()
  File "/usr/lib/python3.4/inspect.py", line 1342, in stack
    return getouterframes(sys._getframe(1), context)
  File "/usr/lib/python3.4/inspect.py", line 1321, in getouterframes
    framelist.append((frame,) + getframeinfo(frame, context))
  File "/usr/lib/python3.4/inspect.py", line 1296, in getframeinfo
    lines, lnum = findsource(frame)
  File "/usr/lib/python3.4/inspect.py", line 709, in findsource
    if pat.match(lines[lnum]): break
IndexError: list index out of range

2017-10-04 20:00:27.594412 WARNING ------------------------------------------------------------
2017-10-04 20:26:39.655158 WARNING ------------------------------------------------------------
2017-10-04 20:26:39.658605 WARNING Unexpected error in worker for App Telegram:
2017-10-04 20:26:39.667883 WARNING Worker Ags: {'type': 'event', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5749510>>, 'name': 'Telegram', 'kwargs': {}, 'data': {'user_id': 444908880, 'chat_id': 444908880, 'from_last': 'Dav', 'from_first': 'Ultimate', 'text': 'Alarm Functions'}, 'id': UUID('14c27a0b-6930-4880-9968-e25585b89458'), 'event': 'telegram_text'}
2017-10-04 20:26:39.679911 WARNING ------------------------------------------------------------
2017-10-04 20:26:39.696201 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 104, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 271, in alarm_functions
    status = "Current Alarm Status - *{}*".format(str(alarm_state['state']).upper())
TypeError: 'NoneType' object is not subscriptable

2017-10-04 20:26:39.699592 WARNING ------------------------------------------------------------
2017-10-05 12:18:52.963412 WARNING ------------------------------------------------------------
2017-10-05 12:18:52.972001 WARNING Unexpected error in worker for App Telegram:
2017-10-05 12:18:52.975055 WARNING Worker Ags: {'name': 'Telegram', 'id': UUID('e4761d2d-f915-4cb3-bf45-4de31719c9a6'), 'event': 'telegram_text', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5a42eb0>>, 'data': {'user_id': 444908880, 'from_last': 'Dav', 'text': 'downstairs sensors', 'from_first': 'Ultimate', 'chat_id': 444908880}, 'type': 'event', 'kwargs': {}}
2017-10-05 12:18:52.977579 WARNING ------------------------------------------------------------
2017-10-05 12:18:52.981853 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 116, in receive_telegram_text
    self.sensorStatusSelective(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 197, in sensorStatusSelective
    message+= "[{}] - {}\n".format(str(all_sensor_states[eid]['state']).upper(),all_sensor_states[eid]['attributes']['friendly_name'])
KeyError: 'sensor.garage_door'

2017-10-05 12:18:52.984484 WARNING ------------------------------------------------------------
2017-10-05 12:19:08.841926 WARNING ------------------------------------------------------------
2017-10-05 12:19:08.844541 WARNING Unexpected error in worker for App Telegram:
2017-10-05 12:19:08.847415 WARNING Worker Ags: {'name': 'Telegram', 'id': UUID('e4761d2d-f915-4cb3-bf45-4de31719c9a6'), 'event': 'telegram_text', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5a42eb0>>, 'data': {'user_id': 444908880, 'from_last': 'Dav', 'text': 'downstairs sensors', 'from_first': 'Ultimate', 'chat_id': 444908880}, 'type': 'event', 'kwargs': {}}
2017-10-05 12:19:08.850016 WARNING ------------------------------------------------------------
2017-10-05 12:19:08.854417 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 116, in receive_telegram_text
    self.sensorStatusSelective(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 197, in sensorStatusSelective
    message+= "[{}] - {}\n".format(str(all_sensor_states[eid]['state']).upper(),all_sensor_states[eid]['attributes']['friendly_name'])
KeyError: 'sensor.garage_door'

2017-10-05 12:19:08.856974 WARNING ------------------------------------------------------------
2017-10-05 12:19:13.085199 WARNING ------------------------------------------------------------
2017-10-05 12:19:13.087631 WARNING Unexpected error in worker for App Telegram:
2017-10-05 12:19:13.090562 WARNING Worker Ags: {'name': 'Telegram', 'id': UUID('e4761d2d-f915-4cb3-bf45-4de31719c9a6'), 'event': 'telegram_text', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5a42eb0>>, 'data': {'user_id': 444908880, 'from_last': 'Dav', 'text': 'garage sensors', 'from_first': 'Ultimate', 'chat_id': 444908880}, 'type': 'event', 'kwargs': {}}
2017-10-05 12:19:13.093153 WARNING ------------------------------------------------------------
2017-10-05 12:19:13.097819 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 116, in receive_telegram_text
    self.sensorStatusSelective(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 197, in sensorStatusSelective
    message+= "[{}] - {}\n".format(str(all_sensor_states[eid]['state']).upper(),all_sensor_states[eid]['attributes']['friendly_name'])
KeyError: 'sensor.kitchen_window'

2017-10-05 12:19:13.100302 WARNING ------------------------------------------------------------
2017-10-05 12:19:37.891699 WARNING ------------------------------------------------------------
2017-10-05 12:19:37.901887 WARNING Unexpected error in worker for App Telegram:
2017-10-05 12:19:37.905260 WARNING Worker Ags: {'name': 'Telegram', 'id': UUID('e4761d2d-f915-4cb3-bf45-4de31719c9a6'), 'event': 'telegram_text', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5a42eb0>>, 'data': {'user_id': 444908880, 'from_last': 'Dav', 'text': 'Sensor Overview', 'from_first': 'Ultimate', 'chat_id': 444908880}, 'type': 'event', 'kwargs': {}}
2017-10-05 12:19:37.907679 WARNING ------------------------------------------------------------
2017-10-05 12:19:37.911850 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 104, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 173, in sensorStatus
    message+= "[{}] - {}\n".format(str(all_sensor_states[eid]['state']).upper(),all_sensor_states[eid]['attributes']['friendly_name'])
KeyError: 'sensor.front_door'

2017-10-05 12:19:37.924191 WARNING ------------------------------------------------------------
2017-10-05 12:32:15.808210 WARNING ------------------------------------------------------------
2017-10-05 12:32:15.810692 WARNING Unexpected error in worker for App Telegram:
2017-10-05 12:32:15.836305 WARNING Worker Ags: {'name': 'Telegram', 'id': UUID('e76b1ea5-253b-4922-944f-cf4270768847'), 'event': 'telegram_text', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5a00170>>, 'data': {'text': 'Sensor Overview', 'from_last': 'Dav', 'chat_id': 444908880, 'user_id': 444908880, 'from_first': 'Ultimate'}, 'type': 'event', 'kwargs': {}}
2017-10-05 12:32:15.838787 WARNING ------------------------------------------------------------
2017-10-05 12:32:15.856577 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 104, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 173, in sensorStatus
    message+= "[{}] - {}\n".format(str(all_sensor_states[eid]['state']).upper(),all_sensor_states[eid]['attributes']['friendly_name'])
KeyError: 'sensor.front_door'

2017-10-05 12:32:15.859370 WARNING ------------------------------------------------------------
2017-10-05 12:35:13.748170 WARNING ------------------------------------------------------------
2017-10-05 12:35:13.750604 WARNING Unexpected error in worker for App Telegram:
2017-10-05 12:35:13.754060 WARNING Worker Ags: {'name': 'Telegram', 'id': UUID('e76b1ea5-253b-4922-944f-cf4270768847'), 'event': 'telegram_text', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5a00170>>, 'data': {'text': 'Sensor Overview', 'from_last': 'Dav', 'chat_id': 444908880, 'user_id': 444908880, 'from_first': 'Ultimate'}, 'type': 'event', 'kwargs': {}}
2017-10-05 12:35:13.757158 WARNING ------------------------------------------------------------
2017-10-05 12:35:13.761766 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 104, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 173, in sensorStatus
    message+= "[{}] - {}\n".format(str(all_sensor_states[eid]['state']).upper(),all_sensor_states[eid]['attributes']['friendly_name'])
KeyError: 'sensor.front_door'

2017-10-05 12:35:13.764539 WARNING ------------------------------------------------------------
2017-10-05 12:36:38.350866 WARNING ------------------------------------------------------------
2017-10-05 12:36:38.362964 WARNING Unexpected error in worker for App Telegram:
2017-10-05 12:36:38.365914 WARNING Worker Ags: {'name': 'Telegram', 'id': UUID('e76b1ea5-253b-4922-944f-cf4270768847'), 'event': 'telegram_text', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5a00170>>, 'data': {'text': 'Sensor Overview', 'from_last': 'Dav', 'chat_id': 444908880, 'user_id': 444908880, 'from_first': 'Ultimate'}, 'type': 'event', 'kwargs': {}}
2017-10-05 12:36:38.368352 WARNING ------------------------------------------------------------
2017-10-05 12:36:38.383369 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 104, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 173, in sensorStatus
    message+= "[{}] - {}\n".format(str(all_sensor_states[eid]['state']).upper(),all_sensor_states[eid]['attributes']['friendly_name'])
KeyError: 'sensor.front_door'

2017-10-05 12:36:38.386085 WARNING ------------------------------------------------------------
2017-10-05 12:37:36.371299 WARNING ------------------------------------------------------------
2017-10-05 12:37:36.380383 WARNING Unexpected error in worker for App Telegram:
2017-10-05 12:37:36.453216 WARNING Worker Ags: {'name': 'Telegram', 'id': UUID('e76b1ea5-253b-4922-944f-cf4270768847'), 'event': 'telegram_text', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5a00170>>, 'data': {'text': 'Sensor Overview', 'from_last': 'Dav', 'chat_id': 444908880, 'user_id': 444908880, 'from_first': 'Ultimate'}, 'type': 'event', 'kwargs': {}}
2017-10-05 12:37:36.455859 WARNING ------------------------------------------------------------
2017-10-05 12:37:36.460281 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 104, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 173, in sensorStatus
    message+= "[{}] - {}\n".format(str(all_sensor_states[eid]['state']).upper(),all_sensor_states[eid]['attributes']['friendly_name'])
KeyError: 'sensor.front_door'

2017-10-05 12:37:36.489981 WARNING ------------------------------------------------------------
2017-10-05 12:37:57.653061 WARNING ------------------------------------------------------------
2017-10-05 12:37:57.655505 WARNING Unexpected error in worker for App Telegram:
2017-10-05 12:37:57.658456 WARNING Worker Ags: {'name': 'Telegram', 'id': UUID('e76b1ea5-253b-4922-944f-cf4270768847'), 'event': 'telegram_text', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5a00170>>, 'data': {'text': 'Sensor Overview', 'from_last': 'Dav', 'chat_id': 444908880, 'user_id': 444908880, 'from_first': 'Ultimate'}, 'type': 'event', 'kwargs': {}}
2017-10-05 12:37:57.660867 WARNING ------------------------------------------------------------
2017-10-05 12:37:57.685368 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 104, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 173, in sensorStatus
    message+= "[{}] - {}\n".format(str(all_sensor_states[eid]['state']).upper(),all_sensor_states[eid]['attributes']['friendly_name'])
KeyError: 'sensor.front_door'

2017-10-05 12:37:57.687855 WARNING ------------------------------------------------------------
2017-10-05 12:38:14.162036 WARNING ------------------------------------------------------------
2017-10-05 12:38:14.173059 WARNING Unexpected error in worker for App Telegram:
2017-10-05 12:38:14.176274 WARNING Worker Ags: {'name': 'Telegram', 'id': UUID('e76b1ea5-253b-4922-944f-cf4270768847'), 'event': 'telegram_text', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5a00170>>, 'data': {'text': 'Sensor Overview', 'from_last': 'Dav', 'chat_id': 444908880, 'user_id': 444908880, 'from_first': 'Ultimate'}, 'type': 'event', 'kwargs': {}}
2017-10-05 12:38:14.179141 WARNING ------------------------------------------------------------
2017-10-05 12:38:14.193781 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 104, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 173, in sensorStatus
    message+= "[{}] - {}\n".format(str(all_sensor_states[eid]['state']).upper(),all_sensor_states[eid]['attributes']['friendly_name'])
KeyError: 'sensor.front_door'

2017-10-05 12:38:14.196290 WARNING ------------------------------------------------------------
2017-10-05 12:39:32.493561 WARNING ------------------------------------------------------------
2017-10-05 12:39:32.515466 WARNING Unexpected error in worker for App Telegram:
2017-10-05 12:39:32.522132 WARNING Worker Ags: {'name': 'Telegram', 'id': UUID('9100295a-54cf-4876-9383-e19ba6a6275a'), 'event': 'telegram_text', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5acc710>>, 'data': {'text': 'Sensor Overview', 'from_last': 'Dav', 'chat_id': 444908880, 'user_id': 444908880, 'from_first': 'Ultimate'}, 'type': 'event', 'kwargs': {}}
2017-10-05 12:39:32.532455 WARNING ------------------------------------------------------------
2017-10-05 12:39:32.561069 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 104, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 173, in sensorStatus
    message+= "[{}] - {}\n".format(str(all_sensor_states[eid]['state']).upper(),all_sensor_states[eid]['attributes']['friendly_name'])
KeyError: 'sensor.front_door'

2017-10-05 12:39:32.570011 WARNING ------------------------------------------------------------
2017-10-05 12:40:08.586070 WARNING ------------------------------------------------------------
2017-10-05 12:40:08.591627 WARNING Unexpected error in worker for App Telegram:
2017-10-05 12:40:08.605850 WARNING Worker Ags: {'name': 'Telegram', 'id': UUID('9100295a-54cf-4876-9383-e19ba6a6275a'), 'event': 'telegram_text', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5acc710>>, 'data': {'text': 'Sensor Overview', 'from_last': 'Dav', 'chat_id': 444908880, 'user_id': 444908880, 'from_first': 'Ultimate'}, 'type': 'event', 'kwargs': {}}
2017-10-05 12:40:08.611201 WARNING ------------------------------------------------------------
2017-10-05 12:40:08.630854 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 104, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 173, in sensorStatus
    message+= "[{}] - {}\n".format(str(all_sensor_states[eid]['state']).upper(),all_sensor_states[eid]['attributes']['friendly_name'])
KeyError: 'sensor.front_door'

2017-10-05 12:40:08.634789 WARNING ------------------------------------------------------------
2017-10-05 12:41:55.705555 WARNING ------------------------------------------------------------
2017-10-05 12:41:55.718132 WARNING Unexpected error in worker for App Telegram:
2017-10-05 12:41:55.727640 WARNING Worker Ags: {'name': 'Telegram', 'id': UUID('a5eebfb0-9954-4cb7-b8fe-c4d0d862c724'), 'event': 'telegram_text', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb56fb4b0>>, 'data': {'text': 'Sensor Overview', 'from_last': 'Dav', 'chat_id': 444908880, 'user_id': 444908880, 'from_first': 'Ultimate'}, 'type': 'event', 'kwargs': {}}
2017-10-05 12:41:55.731659 WARNING ------------------------------------------------------------
2017-10-05 12:41:55.763229 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 104, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 173, in sensorStatus
    message+= "[{}] - {}\n".format(str(all_sensor_states[eid]['state']).upper(),all_sensor_states[eid]['attributes']['friendly_name'])
KeyError: 'sensor.front_door'

2017-10-05 12:41:55.766652 WARNING ------------------------------------------------------------
2017-10-05 13:15:37.722787 WARNING ------------------------------------------------------------
2017-10-05 13:15:37.725322 WARNING Unexpected error in worker for App Telegram:
2017-10-05 13:15:37.728316 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'user_id': 444908880, 'chat_id': 444908880, 'from_first': 'Ultimate', 'text': 'Arm Stay'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5934030>>, 'id': UUID('d4908e98-aa05-456a-97eb-7ae7b436496f'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-05 13:15:37.730866 WARNING ------------------------------------------------------------
2017-10-05 13:15:37.760488 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 104, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 133, in alarmFunction
    message = "Pending due to {}".format(true_service_result.get('attributes')['trippedsensors'])
TypeError: 'NoneType' object is not subscriptable

2017-10-05 13:15:37.773623 WARNING ------------------------------------------------------------
2017-10-05 13:17:31.177353 WARNING ------------------------------------------------------------
2017-10-05 13:17:31.179897 WARNING Unexpected error in worker for App Telegram:
2017-10-05 13:17:31.188780 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'user_id': 444908880, 'chat_id': 444908880, 'from_first': 'Ultimate', 'text': 'Arm Stay'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5934030>>, 'id': UUID('d4908e98-aa05-456a-97eb-7ae7b436496f'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-05 13:17:31.194572 WARNING ------------------------------------------------------------
2017-10-05 13:17:31.210608 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 104, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 133, in alarmFunction
    message = "Pending due to {}".format(true_service_result.get('attributes')['trippedsensors'])
TypeError: 'NoneType' object is not subscriptable

2017-10-05 13:17:31.226997 WARNING ------------------------------------------------------------
2017-10-05 13:24:45.772783 WARNING ------------------------------------------------------------
2017-10-05 13:24:45.775659 WARNING Unexpected error in worker for App Telegram:
2017-10-05 13:24:45.778533 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'user_id': 444908880, 'chat_id': 444908880, 'from_first': 'Ultimate', 'text': 'Arm Stay'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5b43770>>, 'id': UUID('7c3f6fad-df26-426c-9c7b-31e8d778c0bc'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-05 13:24:45.781110 WARNING ------------------------------------------------------------
2017-10-05 13:24:45.820786 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 113, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 142, in alarmFunction
    message = "Pending due to {}".format(true_service_result.get('attributes')['trippedsensors'])
TypeError: 'NoneType' object is not subscriptable

2017-10-05 13:24:45.834975 WARNING ------------------------------------------------------------
2017-10-05 13:26:32.822974 WARNING ------------------------------------------------------------
2017-10-05 13:26:32.842827 WARNING Unexpected error in worker for App Telegram:
2017-10-05 13:26:32.845780 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'user_id': 444908880, 'chat_id': 444908880, 'from_first': 'Ultimate', 'text': 'Arm Stay'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5b43770>>, 'id': UUID('7c3f6fad-df26-426c-9c7b-31e8d778c0bc'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-05 13:26:32.848345 WARNING ------------------------------------------------------------
2017-10-05 13:26:32.870615 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 113, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 142, in alarmFunction
    message = "Pending due to {}".format(true_service_result.get('attributes')['trippedsensors'])
TypeError: 'NoneType' object is not subscriptable

2017-10-05 13:26:32.888741 WARNING ------------------------------------------------------------
2017-10-05 13:35:20.722847 WARNING ------------------------------------------------------------
2017-10-05 13:35:20.742787 WARNING Unexpected error in worker for App Telegram:
2017-10-05 13:35:20.745729 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'user_id': 444908880, 'chat_id': 444908880, 'from_first': 'Ultimate', 'text': 'Arm Stay'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5b43870>>, 'id': UUID('f1e17b89-57d0-487c-9010-c0325aee93b6'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-05 13:35:20.748196 WARNING ------------------------------------------------------------
2017-10-05 13:35:20.798194 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 113, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 142, in alarmFunction
    message = "Pending due to {}".format(true_service_result.get('attributes')['trippedsensors'])
TypeError: 'NoneType' object is not subscriptable

2017-10-05 13:35:20.800894 WARNING ------------------------------------------------------------
2017-10-05 13:41:49.642812 WARNING ------------------------------------------------------------
2017-10-05 13:41:49.652738 WARNING Unexpected error in worker for App Telegram:
2017-10-05 13:41:49.668049 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'user_id': 444908880, 'chat_id': 444908880, 'from_first': 'Ultimate', 'text': 'Arm Stay'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5b43870>>, 'id': UUID('f1e17b89-57d0-487c-9010-c0325aee93b6'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-05 13:41:49.670614 WARNING ------------------------------------------------------------
2017-10-05 13:41:49.695219 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 113, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 142, in alarmFunction
    message = "Pending due to {}".format(true_service_result.get('attributes')['trippedsensors'])
TypeError: 'NoneType' object is not subscriptable

2017-10-05 13:41:49.708695 WARNING ------------------------------------------------------------
2017-10-05 13:42:00.481237 WARNING ------------------------------------------------------------
2017-10-05 13:42:00.502710 WARNING Unexpected error in worker for App Telegram:
2017-10-05 13:42:00.506018 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'user_id': 444908880, 'chat_id': 444908880, 'from_first': 'Ultimate', 'text': 'Arm Away'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5b43870>>, 'id': UUID('f1e17b89-57d0-487c-9010-c0325aee93b6'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-05 13:42:00.508747 WARNING ------------------------------------------------------------
2017-10-05 13:42:00.540943 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 113, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 142, in alarmFunction
    message = "Pending due to {}".format(true_service_result.get('attributes')['trippedsensors'])
TypeError: 'NoneType' object is not subscriptable

2017-10-05 13:42:00.543725 WARNING ------------------------------------------------------------
2017-10-05 13:56:46.866115 WARNING ------------------------------------------------------------
2017-10-05 13:56:46.883031 WARNING Unexpected error in worker for App Telegram:
2017-10-05 13:56:46.895026 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Ultimate', 'chat_id': 444908880, 'user_id': 444908880, 'text': 'Arm Stay'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5ab20b0>>, 'id': UUID('927ba3b5-2b4a-4db5-8c9d-ab768ffa9f8b'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-05 13:56:46.916739 WARNING ------------------------------------------------------------
2017-10-05 13:56:46.926059 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 113, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 142, in alarmFunction
    message = "Pending due to {}".format(true_service_result.get('attributes')['trippedsensors'])
TypeError: 'NoneType' object is not subscriptable

2017-10-05 13:56:46.933953 WARNING ------------------------------------------------------------
2017-10-05 14:06:00.941235 WARNING ------------------------------------------------------------
2017-10-05 14:06:00.999577 WARNING Unexpected error in worker for App Telegram:
2017-10-05 14:06:01.013050 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Ultimate', 'chat_id': 444908880, 'user_id': 444908880, 'text': 'Arm Stay'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5936d10>>, 'id': UUID('cb30304d-cb9d-43e5-92d4-26320644a5ba'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-05 14:06:01.015569 WARNING ------------------------------------------------------------
2017-10-05 14:06:01.068907 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 113, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 138, in alarmFunction
    service_result = self.call_service("alarm_control_panel/{}".format(alarm_service),entity_id = "alarm_control_panel.house", code = {'chat_id':chatid,'name':payload_event['from_first']})
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 106, in func_wrapper
    return(func(*args, **kwargs))
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 598, in call_service
    return ha.call_service(service, **kwargs)
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/homeassistant.py", line 344, in call_service
    r.raise_for_status()
  File "/srv/homeassistant/lib/python3.4/site-packages/requests/models.py", line 928, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http://localhost:8123/api/services/alarm_control_panel/alarm_arm_home

2017-10-05 14:06:01.071611 WARNING ------------------------------------------------------------
2017-10-07 20:35:05.673216 WARNING ------------------------------------------------------------
2017-10-07 20:35:05.698361 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:35:05.701916 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:35:05.120527+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door'], 'changed_by': '', 'delayed': ['binary_sensor.kitchen_window'], 'bypassedsensors': ['binary_sensor.front_door', 'binary_sensor.living_room_door'], 'triggeredBy': ''}, 'state': 'armed_home', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:35:05.120527+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:32:59.118309+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': ['binary_sensor.front_door', 'binary_sensor.living_room_door'], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:27:46.611399+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5ab2a10>>, 'id': UUID('1c609e55-5c69-4f62-a0d3-80ada2231ae6'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:35:05.736208 WARNING ------------------------------------------------------------
2017-10-07 20:35:05.812945 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:35:05.823984 WARNING ------------------------------------------------------------
2017-10-07 20:35:12.704036 WARNING ------------------------------------------------------------
2017-10-07 20:35:12.733351 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:35:12.737040 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:35:12.105037+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:35:12.105037+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:35:05.120527+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door'], 'changed_by': '', 'delayed': ['binary_sensor.kitchen_window'], 'bypassedsensors': ['binary_sensor.front_door', 'binary_sensor.living_room_door'], 'triggeredBy': ''}, 'state': 'armed_home', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:35:05.120527+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5ab2a10>>, 'id': UUID('1c609e55-5c69-4f62-a0d3-80ada2231ae6'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:35:12.739562 WARNING ------------------------------------------------------------
2017-10-07 20:35:12.785408 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:35:12.813542 WARNING ------------------------------------------------------------
2017-10-07 20:35:49.693176 WARNING ------------------------------------------------------------
2017-10-07 20:35:49.699303 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:35:49.723604 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:35:49.027543+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door'], 'changed_by': '', 'delayed': ['binary_sensor.kitchen_window'], 'bypassedsensors': ['binary_sensor.front_door'], 'triggeredBy': ''}, 'state': 'armed_home', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:35:49.027543+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:35:14.959086+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:35:12.105037+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5ab2a10>>, 'id': UUID('1c609e55-5c69-4f62-a0d3-80ada2231ae6'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:35:49.726322 WARNING ------------------------------------------------------------
2017-10-07 20:35:49.731982 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:35:49.764771 WARNING ------------------------------------------------------------
2017-10-07 20:37:53.103122 WARNING ------------------------------------------------------------
2017-10-07 20:37:53.112762 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:37:53.116219 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:37:52.526895+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:37:52.526895+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:35:49.027543+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door'], 'changed_by': '', 'delayed': ['binary_sensor.kitchen_window'], 'bypassedsensors': ['binary_sensor.front_door'], 'triggeredBy': ''}, 'state': 'armed_home', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:35:49.027543+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5ab2a10>>, 'id': UUID('1c609e55-5c69-4f62-a0d3-80ada2231ae6'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:37:53.133434 WARNING ------------------------------------------------------------
2017-10-07 20:37:53.139060 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:37:53.141589 WARNING ------------------------------------------------------------
2017-10-07 20:38:17.393292 WARNING ------------------------------------------------------------
2017-10-07 20:38:17.424907 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:38:17.439119 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:38:16.888117+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door'], 'changed_by': '', 'delayed': ['binary_sensor.kitchen_window'], 'bypassedsensors': ['binary_sensor.front_door'], 'triggeredBy': ''}, 'state': 'armed_home', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:38:16.888117+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:37:52.526895+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:37:52.526895+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5ab2a10>>, 'id': UUID('1c609e55-5c69-4f62-a0d3-80ada2231ae6'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:38:17.451395 WARNING ------------------------------------------------------------
2017-10-07 20:38:17.457295 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:38:17.481349 WARNING ------------------------------------------------------------
2017-10-07 20:38:27.595728 WARNING ------------------------------------------------------------
2017-10-07 20:38:27.646229 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:38:27.685573 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:38:27.021280+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:38:27.021280+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:38:16.888117+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door'], 'changed_by': '', 'delayed': ['binary_sensor.kitchen_window'], 'bypassedsensors': ['binary_sensor.front_door'], 'triggeredBy': ''}, 'state': 'armed_home', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:38:16.888117+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5ab2a10>>, 'id': UUID('1c609e55-5c69-4f62-a0d3-80ada2231ae6'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:38:27.695055 WARNING ------------------------------------------------------------
2017-10-07 20:38:27.724415 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:38:27.727259 WARNING ------------------------------------------------------------
2017-10-07 20:38:45.213176 WARNING ------------------------------------------------------------
2017-10-07 20:38:45.232742 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:38:45.236263 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:38:44.767641+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door'], 'trippedsensors': ['binary_sensor.front_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'changed_by': '', 'delayed': ['binary_sensor.kitchen_window'], 'bypassedsensors': ['binary_sensor.front_door'], 'triggeredBy': ''}, 'state': 'armed_away', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:38:44.767641+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:38:27.021280+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:38:27.021280+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5ab2a10>>, 'id': UUID('1c609e55-5c69-4f62-a0d3-80ada2231ae6'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:38:45.238932 WARNING ------------------------------------------------------------
2017-10-07 20:38:45.286324 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:38:45.288922 WARNING ------------------------------------------------------------
2017-10-07 20:39:06.353123 WARNING ------------------------------------------------------------
2017-10-07 20:39:06.382679 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:39:06.390617 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:39:05.837027+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:39:05.837027+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:38:44.767641+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door'], 'trippedsensors': ['binary_sensor.front_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'changed_by': '', 'delayed': ['binary_sensor.kitchen_window'], 'bypassedsensors': ['binary_sensor.front_door'], 'triggeredBy': ''}, 'state': 'armed_away', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:38:44.767641+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5ab2a10>>, 'id': UUID('1c609e55-5c69-4f62-a0d3-80ada2231ae6'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:39:06.413937 WARNING ------------------------------------------------------------
2017-10-07 20:39:06.419472 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:39:06.422125 WARNING ------------------------------------------------------------
2017-10-07 20:40:20.873173 WARNING ------------------------------------------------------------
2017-10-07 20:40:20.904665 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:40:20.913809 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:40:20.257553+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'changed_by': '', 'delayed': [], 'bypassedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'triggeredBy': ''}, 'state': 'armed_away', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:40:20.257553+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:39:51.672597+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:39:05.837027+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5ab2a10>>, 'id': UUID('1c609e55-5c69-4f62-a0d3-80ada2231ae6'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:40:20.932690 WARNING ------------------------------------------------------------
2017-10-07 20:40:20.938433 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:40:20.941074 WARNING ------------------------------------------------------------
2017-10-07 20:41:11.605861 WARNING ------------------------------------------------------------
2017-10-07 20:41:11.661217 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:41:11.713656 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:41:10.981098+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:41:10.981098+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:40:20.257553+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'changed_by': '', 'delayed': [], 'bypassedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'triggeredBy': ''}, 'state': 'armed_away', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:40:20.257553+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5ab2a10>>, 'id': UUID('1c609e55-5c69-4f62-a0d3-80ada2231ae6'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:41:11.716410 WARNING ------------------------------------------------------------
2017-10-07 20:41:11.722004 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:41:11.741702 WARNING ------------------------------------------------------------
2017-10-07 20:48:23.245388 WARNING ------------------------------------------------------------
2017-10-07 20:48:23.272702 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:48:23.276342 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:48:22.777181+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'changed_by': '', 'delayed': [], 'bypassedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'triggeredBy': ''}, 'state': 'armed_away', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:48:22.777181+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:41:10.981098+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:41:10.981098+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5af8b10>>, 'id': UUID('ddeefd05-4e55-423f-b02f-602f9c4637cf'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:48:23.278999 WARNING ------------------------------------------------------------
2017-10-07 20:48:23.342039 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:48:23.362680 WARNING ------------------------------------------------------------
2017-10-07 20:48:48.505934 WARNING ------------------------------------------------------------
2017-10-07 20:48:48.549692 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:48:48.588603 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:48:47.937703+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:48:47.937703+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:48:22.777181+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'changed_by': '', 'delayed': [], 'bypassedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'triggeredBy': ''}, 'state': 'armed_away', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:48:22.777181+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5af8b10>>, 'id': UUID('ddeefd05-4e55-423f-b02f-602f9c4637cf'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:48:48.623538 WARNING ------------------------------------------------------------
2017-10-07 20:48:48.629306 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:48:48.681381 WARNING ------------------------------------------------------------
2017-10-07 20:49:55.789962 WARNING ------------------------------------------------------------
2017-10-07 20:49:55.825049 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:49:55.853651 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:49:55.221330+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'changed_by': '', 'delayed': [], 'bypassedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'triggeredBy': ''}, 'state': 'armed_away', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:49:55.221330+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:48:47.937703+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:48:47.937703+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57d9570>>, 'id': UUID('d94c505a-4abc-46ee-9f7a-ae1fe9a07ff2'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:49:55.862736 WARNING ------------------------------------------------------------
2017-10-07 20:49:55.915397 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 41, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:49:55.935347 WARNING ------------------------------------------------------------
2017-10-07 20:50:29.593499 WARNING ------------------------------------------------------------
2017-10-07 20:50:29.672822 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:50:29.703564 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:50:28.861386+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:50:28.861386+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:49:55.221330+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'changed_by': '', 'delayed': [], 'bypassedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'triggeredBy': ''}, 'state': 'armed_away', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:49:55.221330+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57fbc50>>, 'id': UUID('e77c3f69-e984-4590-a335-3717319d5bcc'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:50:29.706343 WARNING ------------------------------------------------------------
2017-10-07 20:50:29.793287 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 41, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:50:29.823457 WARNING ------------------------------------------------------------
2017-10-07 20:51:05.033112 WARNING ------------------------------------------------------------
2017-10-07 20:51:05.064722 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:51:05.074763 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:51:04.437586+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'changed_by': '', 'delayed': [], 'bypassedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'triggeredBy': ''}, 'state': 'armed_away', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:51:04.437586+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:50:28.861386+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:50:28.861386+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb59318f0>>, 'id': UUID('c6be7771-b068-42c2-ad2f-f1f87781bb85'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:51:05.108341 WARNING ------------------------------------------------------------
2017-10-07 20:51:05.143011 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 41, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:51:05.153510 WARNING ------------------------------------------------------------
2017-10-07 20:52:08.846496 WARNING ------------------------------------------------------------
2017-10-07 20:52:08.872673 WARNING Unexpected error in worker for App Alarm:
2017-10-07 20:52:08.876234 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-07T18:52:08.208377+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': [], 'changed_by': '', 'delayed': [], 'bypassedsensors': [], 'triggeredBy': ''}, 'state': 'disarmed', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:52:08.208377+00:00'}, 'old_state': {'last_updated': '2017-10-07T18:51:04.437586+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'code_format': None, 'immediate': ['binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'changed_by': '', 'delayed': [], 'bypassedsensors': ['binary_sensor.front_door', 'binary_sensor.kitchen_window'], 'triggeredBy': ''}, 'state': 'armed_away', 'entity_id': 'alarm_control_panel.house', 'last_changed': '2017-10-07T18:51:04.437586+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57ef930>>, 'id': UUID('418d84a0-c1de-4fe5-807c-801919373660'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-07 20:52:08.878897 WARNING ------------------------------------------------------------
2017-10-07 20:52:08.953628 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 41, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-07 20:52:08.956244 WARNING ------------------------------------------------------------
2017-10-08 06:06:12.638287 WARNING ------------------------------------------------------------
2017-10-08 06:06:12.651925 WARNING Unexpected error in worker for App Alarm:
2017-10-08 06:06:12.693656 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T04:06:12.013456+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': ['binary_sensor.kitchen_window'], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:06:12.013456+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_home'}, 'old_state': {'last_updated': '2017-10-08T04:04:57.533800+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': [], 'delayed': [], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': [], 'triggeredBy': ''}, 'last_changed': '2017-10-08T04:04:57.533800+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5b437d0>>, 'id': UUID('37f5ea98-6287-426c-80a9-92a031449973'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 06:06:12.764360 WARNING ------------------------------------------------------------
2017-10-08 06:06:12.788048 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 06:06:12.832857 WARNING ------------------------------------------------------------
2017-10-08 06:06:25.852757 WARNING ------------------------------------------------------------
2017-10-08 06:06:25.872680 WARNING Unexpected error in worker for App Alarm:
2017-10-08 06:06:25.876264 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T04:06:25.282864+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': [], 'delayed': [], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:06:25.282864+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'old_state': {'last_updated': '2017-10-08T04:06:12.013456+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': ['binary_sensor.kitchen_window'], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:06:12.013456+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_home'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5b437d0>>, 'id': UUID('37f5ea98-6287-426c-80a9-92a031449973'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 06:06:25.878789 WARNING ------------------------------------------------------------
2017-10-08 06:06:25.914490 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 06:06:25.928243 WARNING ------------------------------------------------------------
2017-10-08 06:06:39.792885 WARNING ------------------------------------------------------------
2017-10-08 06:06:39.807907 WARNING Unexpected error in worker for App Alarm:
2017-10-08 06:06:39.833396 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T04:06:39.233362+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': ['binary_sensor.kitchen_window'], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:06:39.233362+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_home'}, 'old_state': {'last_updated': '2017-10-08T04:06:25.282864+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': [], 'delayed': [], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:06:25.282864+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5b437d0>>, 'id': UUID('37f5ea98-6287-426c-80a9-92a031449973'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 06:06:39.844759 WARNING ------------------------------------------------------------
2017-10-08 06:06:39.860599 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 06:06:39.893510 WARNING ------------------------------------------------------------
2017-10-08 06:06:55.844774 WARNING ------------------------------------------------------------
2017-10-08 06:06:55.862896 WARNING Unexpected error in worker for App Alarm:
2017-10-08 06:06:55.866395 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T04:06:55.214624+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': [], 'delayed': [], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:06:55.214624+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'old_state': {'last_updated': '2017-10-08T04:06:39.233362+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': ['binary_sensor.kitchen_window'], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:06:39.233362+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_home'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5b437d0>>, 'id': UUID('37f5ea98-6287-426c-80a9-92a031449973'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 06:06:55.869197 WARNING ------------------------------------------------------------
2017-10-08 06:06:55.904045 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 06:06:55.906929 WARNING ------------------------------------------------------------
2017-10-08 06:06:59.972830 WARNING ------------------------------------------------------------
2017-10-08 06:06:59.992589 WARNING Unexpected error in worker for App Alarm:
2017-10-08 06:06:59.996169 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T04:06:59.386627+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': [], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'delayed': ['binary_sensor.kitchen_window'], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:06:59.386627+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'old_state': {'last_updated': '2017-10-08T04:06:55.214624+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': [], 'delayed': [], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:06:55.214624+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5b437d0>>, 'id': UUID('37f5ea98-6287-426c-80a9-92a031449973'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 06:06:59.998837 WARNING ------------------------------------------------------------
2017-10-08 06:07:00.041420 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 06:07:00.054406 WARNING ------------------------------------------------------------
2017-10-08 06:07:05.332819 WARNING ------------------------------------------------------------
2017-10-08 06:07:05.347357 WARNING Unexpected error in worker for App Alarm:
2017-10-08 06:07:05.350823 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T04:07:04.846940+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': [], 'delayed': [], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:07:04.846940+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'old_state': {'last_updated': '2017-10-08T04:06:59.386627+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': [], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'delayed': ['binary_sensor.kitchen_window'], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:06:59.386627+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5b437d0>>, 'id': UUID('37f5ea98-6287-426c-80a9-92a031449973'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 06:07:05.373689 WARNING ------------------------------------------------------------
2017-10-08 06:07:05.378207 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 06:07:05.380939 WARNING ------------------------------------------------------------
2017-10-08 06:15:43.312749 WARNING ------------------------------------------------------------
2017-10-08 06:15:43.322711 WARNING Unexpected error in worker for App Alarm:
2017-10-08 06:15:43.334677 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T04:15:42.748666+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': [], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:15:42.748666+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_home'}, 'old_state': {'last_updated': '2017-10-08T04:15:21.243232+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.front_door'], 'changed_by': '', 'code_format': None, 'immediate': [], 'delayed': [], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:07:04.846940+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f65f0>>, 'id': UUID('288fa9a6-2f05-409e-a6cf-bc3f128b0c6b'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 06:15:43.337366 WARNING ------------------------------------------------------------
2017-10-08 06:15:43.386021 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 06:15:43.388649 WARNING ------------------------------------------------------------
2017-10-08 06:15:53.011322 WARNING ------------------------------------------------------------
2017-10-08 06:15:53.023076 WARNING Unexpected error in worker for App Alarm:
2017-10-08 06:15:53.026595 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T04:15:52.379874+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': [], 'delayed': [], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:15:52.379874+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'old_state': {'last_updated': '2017-10-08T04:15:42.748666+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': [], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:15:42.748666+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_home'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f65f0>>, 'id': UUID('288fa9a6-2f05-409e-a6cf-bc3f128b0c6b'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 06:15:53.029271 WARNING ------------------------------------------------------------
2017-10-08 06:15:53.064339 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 06:15:53.066924 WARNING ------------------------------------------------------------
2017-10-08 06:16:03.442934 WARNING ------------------------------------------------------------
2017-10-08 06:16:03.498038 WARNING Unexpected error in worker for App Alarm:
2017-10-08 06:16:03.501575 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T04:16:02.961732+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'delayed': [], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:16:02.961732+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'old_state': {'last_updated': '2017-10-08T04:16:00.155999+00:00', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'immediate': [], 'delayed': [], 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'last_changed': '2017-10-08T04:15:52.379874+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f65f0>>, 'id': UUID('288fa9a6-2f05-409e-a6cf-bc3f128b0c6b'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 06:16:03.514573 WARNING ------------------------------------------------------------
2017-10-08 06:16:03.519278 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 06:16:03.521817 WARNING ------------------------------------------------------------
2017-10-08 06:25:07.168927 WARNING ------------------------------------------------------------
2017-10-08 06:25:07.192697 WARNING Unexpected error in worker for App Alarm:
2017-10-08 06:25:07.196338 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_changed': '2017-10-08T04:25:06.214623+00:00', 'attributes': {'friendly_name': 'House', 'triggeredBy': None, 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'ignored': ['binary_sensor.kitchen_window']}, 'last_updated': '2017-10-08T04:25:06.214623+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'old_state': {'last_changed': '2017-10-08T04:23:18.433189+00:00', 'attributes': {'friendly_name': 'House', 'triggeredBy': '', 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door']}, 'last_updated': '2017-10-08T04:25:00.834108+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57d9a50>>, 'id': UUID('ab8b756e-cacb-4382-9001-60884c18ba66'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 06:25:07.227370 WARNING ------------------------------------------------------------
2017-10-08 06:25:07.232063 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 06:25:07.251409 WARNING ------------------------------------------------------------
2017-10-08 06:26:19.892907 WARNING ------------------------------------------------------------
2017-10-08 06:26:19.916891 WARNING Unexpected error in worker for App Alarm:
2017-10-08 06:26:19.920415 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_changed': '2017-10-08T04:26:19.261846+00:00', 'attributes': {'friendly_name': 'House', 'triggeredBy': None, 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': [], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door']}, 'last_updated': '2017-10-08T04:26:19.261846+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'old_state': {'last_changed': '2017-10-08T04:25:06.214623+00:00', 'attributes': {'friendly_name': 'House', 'triggeredBy': None, 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'ignored': ['binary_sensor.kitchen_window']}, 'last_updated': '2017-10-08T04:25:23.332048+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57d9a50>>, 'id': UUID('ab8b756e-cacb-4382-9001-60884c18ba66'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 06:26:19.939146 WARNING ------------------------------------------------------------
2017-10-08 06:26:19.984323 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 06:26:19.987069 WARNING ------------------------------------------------------------
2017-10-08 06:27:44.933076 WARNING ------------------------------------------------------------
2017-10-08 06:27:44.945148 WARNING Unexpected error in worker for App Alarm:
2017-10-08 06:27:44.954884 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_changed': '2017-10-08T04:27:44.480690+00:00', 'attributes': {'friendly_name': 'House', 'triggeredBy': None, 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'ignored': ['binary_sensor.kitchen_window']}, 'last_updated': '2017-10-08T04:27:44.480690+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'old_state': {'last_changed': '2017-10-08T04:26:19.261846+00:00', 'attributes': {'friendly_name': 'House', 'triggeredBy': None, 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door']}, 'last_updated': '2017-10-08T04:26:30.880447+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57d9a50>>, 'id': UUID('ab8b756e-cacb-4382-9001-60884c18ba66'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 06:27:44.957574 WARNING ------------------------------------------------------------
2017-10-08 06:27:44.995211 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 06:27:44.997918 WARNING ------------------------------------------------------------
2017-10-08 06:28:12.472815 WARNING ------------------------------------------------------------
2017-10-08 06:28:12.492727 WARNING Unexpected error in worker for App Alarm:
2017-10-08 06:28:12.505568 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_changed': '2017-10-08T04:28:12.014690+00:00', 'attributes': {'friendly_name': 'House', 'triggeredBy': None, 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': [], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door']}, 'last_updated': '2017-10-08T04:28:12.014690+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'old_state': {'last_changed': '2017-10-08T04:27:44.480690+00:00', 'attributes': {'friendly_name': 'House', 'triggeredBy': None, 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'ignored': ['binary_sensor.kitchen_window']}, 'last_updated': '2017-10-08T04:27:44.480690+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57d9a50>>, 'id': UUID('ab8b756e-cacb-4382-9001-60884c18ba66'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 06:28:12.508279 WARNING ------------------------------------------------------------
2017-10-08 06:28:12.562410 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 06:28:12.565064 WARNING ------------------------------------------------------------
2017-10-08 07:15:46.707297 WARNING ------------------------------------------------------------
2017-10-08 07:15:46.722703 WARNING Unexpected error in worker for App Alarm:
2017-10-08 07:15:46.726349 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'state': 'armed_home', 'last_updated': '2017-10-08T05:15:46.161053+00:00', 'last_changed': '2017-10-08T05:15:46.161053+00:00'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'state': 'disarmed', 'last_updated': '2017-10-08T05:15:43.711820+00:00', 'last_changed': '2017-10-08T04:37:30.410647+00:00'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57fbc30>>, 'id': UUID('511fad45-626c-4812-922a-54c4ca2b45ad'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 07:15:46.728879 WARNING ------------------------------------------------------------
2017-10-08 07:15:46.780606 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 07:15:46.796340 WARNING ------------------------------------------------------------
2017-10-08 07:26:42.542987 WARNING ------------------------------------------------------------
2017-10-08 07:26:42.558454 WARNING Unexpected error in worker for App Alarm:
2017-10-08 07:26:42.562097 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:26:41.978443+00:00', 'last_updated': '2017-10-08T05:26:41.978443+00:00', 'state': 'armed_home'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:23:34.504380+00:00', 'last_updated': '2017-10-08T05:26:24.347586+00:00', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f61d0>>, 'id': UUID('0719417a-e75e-4e5b-bdd0-c4ae5098330d'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 07:26:42.592983 WARNING ------------------------------------------------------------
2017-10-08 07:26:42.597553 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 07:26:42.600201 WARNING ------------------------------------------------------------
2017-10-08 07:29:28.616142 WARNING ------------------------------------------------------------
2017-10-08 07:29:28.639474 WARNING Unexpected error in worker for App Alarm:
2017-10-08 07:29:28.653377 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:29:28.104683+00:00', 'last_updated': '2017-10-08T05:29:28.104683+00:00', 'state': 'disarmed'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:26:41.978443+00:00', 'last_updated': '2017-10-08T05:27:23.225623+00:00', 'state': 'armed_home'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f61d0>>, 'id': UUID('0719417a-e75e-4e5b-bdd0-c4ae5098330d'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 07:29:28.656136 WARNING ------------------------------------------------------------
2017-10-08 07:29:28.680684 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 07:29:28.722610 WARNING ------------------------------------------------------------
2017-10-08 07:29:52.853299 WARNING ------------------------------------------------------------
2017-10-08 07:29:52.866064 WARNING Unexpected error in worker for App Alarm:
2017-10-08 07:29:52.880666 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T05:29:52.343812+00:00', 'last_updated': '2017-10-08T05:29:52.343812+00:00', 'state': 'armed_away'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:29:28.104683+00:00', 'last_updated': '2017-10-08T05:29:28.104683+00:00', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f61d0>>, 'id': UUID('0719417a-e75e-4e5b-bdd0-c4ae5098330d'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 07:29:52.899015 WARNING ------------------------------------------------------------
2017-10-08 07:29:52.978421 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-08 07:29:52.981558 WARNING ------------------------------------------------------------
2017-10-08 07:30:07.592811 WARNING ------------------------------------------------------------
2017-10-08 07:30:07.622706 WARNING Unexpected error in worker for App Alarm:
2017-10-08 07:30:07.632624 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:30:07.047430+00:00', 'last_updated': '2017-10-08T05:30:07.047430+00:00', 'state': 'disarmed'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T05:29:52.343812+00:00', 'last_updated': '2017-10-08T05:29:52.343812+00:00', 'state': 'armed_away'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f61d0>>, 'id': UUID('0719417a-e75e-4e5b-bdd0-c4ae5098330d'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 07:30:07.644581 WARNING ------------------------------------------------------------
2017-10-08 07:30:07.678469 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 07:30:07.684886 WARNING ------------------------------------------------------------
2017-10-08 07:30:18.813293 WARNING ------------------------------------------------------------
2017-10-08 07:30:18.822708 WARNING Unexpected error in worker for App Alarm:
2017-10-08 07:30:18.826212 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T05:30:18.483045+00:00', 'last_updated': '2017-10-08T05:30:18.483045+00:00', 'state': 'armed_home'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:30:07.047430+00:00', 'last_updated': '2017-10-08T05:30:07.047430+00:00', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f61d0>>, 'id': UUID('0719417a-e75e-4e5b-bdd0-c4ae5098330d'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 07:30:18.828768 WARNING ------------------------------------------------------------
2017-10-08 07:30:18.871808 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-08 07:30:18.880858 WARNING ------------------------------------------------------------
2017-10-08 07:30:44.246467 WARNING ------------------------------------------------------------
2017-10-08 07:30:44.279624 WARNING Unexpected error in worker for App Alarm:
2017-10-08 07:30:44.287938 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:30:43.669471+00:00', 'last_updated': '2017-10-08T05:30:43.669471+00:00', 'state': 'disarmed'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T05:30:18.483045+00:00', 'last_updated': '2017-10-08T05:30:18.483045+00:00', 'state': 'armed_home'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f61d0>>, 'id': UUID('0719417a-e75e-4e5b-bdd0-c4ae5098330d'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 07:30:44.290654 WARNING ------------------------------------------------------------
2017-10-08 07:30:44.315849 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 07:30:44.330131 WARNING ------------------------------------------------------------
2017-10-08 07:34:35.122838 WARNING ------------------------------------------------------------
2017-10-08 07:34:35.172715 WARNING Unexpected error in worker for App Alarm:
2017-10-08 07:34:35.176274 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:34:34.517872+00:00', 'last_updated': '2017-10-08T05:34:34.517872+00:00', 'state': 'armed_away'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T05:30:43.669471+00:00', 'last_updated': '2017-10-08T05:34:20.736417+00:00', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f61d0>>, 'id': UUID('0719417a-e75e-4e5b-bdd0-c4ae5098330d'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 07:34:35.179008 WARNING ------------------------------------------------------------
2017-10-08 07:34:35.223985 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 07:34:35.226584 WARNING ------------------------------------------------------------
2017-10-08 07:34:36.974344 WARNING ------------------------------------------------------------
2017-10-08 07:34:36.992359 WARNING Unexpected error in worker for App Alarm:
2017-10-08 07:34:37.063606 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:34:36.416217+00:00', 'last_updated': '2017-10-08T05:34:36.416217+00:00', 'state': 'disarmed'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:34:34.517872+00:00', 'last_updated': '2017-10-08T05:34:34.517872+00:00', 'state': 'armed_away'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f61d0>>, 'id': UUID('0719417a-e75e-4e5b-bdd0-c4ae5098330d'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 07:34:37.119113 WARNING ------------------------------------------------------------
2017-10-08 07:34:37.163463 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 07:34:37.182694 WARNING ------------------------------------------------------------
2017-10-08 07:34:59.739603 WARNING ------------------------------------------------------------
2017-10-08 07:34:59.767941 WARNING Unexpected error in worker for App Alarm:
2017-10-08 07:34:59.775472 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T05:34:59.265318+00:00', 'last_updated': '2017-10-08T05:34:59.265318+00:00', 'state': 'pending'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:34:36.416217+00:00', 'last_updated': '2017-10-08T05:34:39.251864+00:00', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f61d0>>, 'id': UUID('0719417a-e75e-4e5b-bdd0-c4ae5098330d'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 07:34:59.812842 WARNING ------------------------------------------------------------
2017-10-08 07:34:59.835143 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-08 07:34:59.837738 WARNING ------------------------------------------------------------
2017-10-08 07:35:30.963451 WARNING ------------------------------------------------------------
2017-10-08 07:35:31.023233 WARNING Unexpected error in worker for App Alarm:
2017-10-08 07:35:31.040877 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T05:35:30.470277+00:00', 'last_updated': '2017-10-08T05:35:30.470277+00:00', 'state': 'armed_away'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T05:34:59.265318+00:00', 'last_updated': '2017-10-08T05:34:59.265318+00:00', 'state': 'pending'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f61d0>>, 'id': UUID('0719417a-e75e-4e5b-bdd0-c4ae5098330d'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 07:35:31.090985 WARNING ------------------------------------------------------------
2017-10-08 07:35:31.107096 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-08 07:35:31.109693 WARNING ------------------------------------------------------------
2017-10-08 07:35:51.381479 WARNING ------------------------------------------------------------
2017-10-08 07:35:51.395491 WARNING Unexpected error in worker for App Alarm:
2017-10-08 07:35:51.433004 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:35:50.799246+00:00', 'last_updated': '2017-10-08T05:35:50.799246+00:00', 'state': 'disarmed'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T05:35:30.470277+00:00', 'last_updated': '2017-10-08T05:35:30.470277+00:00', 'state': 'armed_away'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f61d0>>, 'id': UUID('0719417a-e75e-4e5b-bdd0-c4ae5098330d'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 07:35:51.453217 WARNING ------------------------------------------------------------
2017-10-08 07:35:51.484388 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 07:35:51.502675 WARNING ------------------------------------------------------------
2017-10-08 07:38:06.772804 WARNING ------------------------------------------------------------
2017-10-08 07:38:06.803026 WARNING Unexpected error in worker for App Alarm:
2017-10-08 07:38:06.817011 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:38:06.206998+00:00', 'last_updated': '2017-10-08T05:38:06.206998+00:00', 'state': 'armed_home'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:35:50.799246+00:00', 'last_updated': '2017-10-08T05:37:44.234485+00:00', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f61d0>>, 'id': UUID('0719417a-e75e-4e5b-bdd0-c4ae5098330d'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 07:38:06.833070 WARNING ------------------------------------------------------------
2017-10-08 07:38:06.837749 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 07:38:06.840279 WARNING ------------------------------------------------------------
2017-10-08 07:38:24.919571 WARNING ------------------------------------------------------------
2017-10-08 07:38:24.933377 WARNING Unexpected error in worker for App Alarm:
2017-10-08 07:38:24.936843 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:38:24.289412+00:00', 'last_updated': '2017-10-08T05:38:24.289412+00:00', 'state': 'disarmed'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'delayed': [], 'ignored': ['binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:38:06.206998+00:00', 'last_updated': '2017-10-08T05:38:06.206998+00:00', 'state': 'armed_home'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57f61d0>>, 'id': UUID('0719417a-e75e-4e5b-bdd0-c4ae5098330d'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 07:38:24.939501 WARNING ------------------------------------------------------------
2017-10-08 07:38:25.043616 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'NoneType' object has no attribute 'replace'

2017-10-08 07:38:25.046714 WARNING ------------------------------------------------------------
2017-10-08 08:31:29.134852 WARNING ------------------------------------------------------------
2017-10-08 08:31:29.152702 WARNING Unexpected error in worker for App Alarm:
2017-10-08 08:31:29.165577 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T06:31:28.636685+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T06:31:28.636685+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'old_state': {'last_updated': '2017-10-08T06:31:02.326773+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T05:42:27.511277+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb59522f0>>, 'id': UUID('ad6d4417-7cb6-4ae9-b2f9-134e7cc059e5'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 08:31:29.168113 WARNING ------------------------------------------------------------
2017-10-08 08:31:29.274335 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-08 08:31:29.311902 WARNING ------------------------------------------------------------
2017-10-08 08:33:37.663229 WARNING ------------------------------------------------------------
2017-10-08 08:33:37.684065 WARNING Unexpected error in worker for App Alarm:
2017-10-08 08:33:37.701843 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T06:33:37.086776+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T06:33:37.086776+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'old_state': {'last_updated': '2017-10-08T06:33:24.827395+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T06:33:24.827395+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57fb610>>, 'id': UUID('6303fc1d-6c1e-4d3d-84ab-86add62dec3f'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 08:33:37.719406 WARNING ------------------------------------------------------------
2017-10-08 08:33:37.756091 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-08 08:33:37.775121 WARNING ------------------------------------------------------------
2017-10-08 08:35:28.993183 WARNING ------------------------------------------------------------
2017-10-08 08:35:29.002730 WARNING Unexpected error in worker for App Alarm:
2017-10-08 08:35:29.006236 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T06:35:28.540792+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T06:35:28.540792+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'old_state': {'last_updated': '2017-10-08T06:34:46.592601+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': [], 'changed_by': '', 'code_format': None, 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T06:34:46.592601+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57fb070>>, 'id': UUID('10c021a5-6132-4559-ac35-c4897bee69a1'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 08:35:29.009034 WARNING ------------------------------------------------------------
2017-10-08 08:35:29.097263 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-08 08:35:29.099882 WARNING ------------------------------------------------------------
2017-10-08 08:36:53.803205 WARNING ------------------------------------------------------------
2017-10-08 08:36:53.822059 WARNING Unexpected error in worker for App Alarm:
2017-10-08 08:36:53.825782 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T06:36:53.227604+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T06:36:53.227604+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'old_state': {'last_updated': '2017-10-08T06:36:41.296386+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T06:36:41.296386+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5921fb0>>, 'id': UUID('9022ee89-8505-4626-8992-cda88f8b27c9'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 08:36:53.828430 WARNING ------------------------------------------------------------
2017-10-08 08:36:53.887541 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 41, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-08 08:36:53.911849 WARNING ------------------------------------------------------------
2017-10-08 08:38:36.131795 WARNING ------------------------------------------------------------
2017-10-08 08:38:36.155407 WARNING Unexpected error in worker for App Alarm:
2017-10-08 08:38:36.233722 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T06:38:35.588006+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T06:38:35.588006+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'old_state': {'last_updated': '2017-10-08T06:37:59.106446+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T06:37:59.106446+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5952e50>>, 'id': UUID('581e9838-dd17-4cec-9283-8123b7dae211'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 08:38:36.236348 WARNING ------------------------------------------------------------
2017-10-08 08:38:36.299785 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 41, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-08 08:38:36.341514 WARNING ------------------------------------------------------------
2017-10-08 08:39:30.913283 WARNING ------------------------------------------------------------
2017-10-08 08:39:30.941966 WARNING Unexpected error in worker for App Alarm:
2017-10-08 08:39:30.963685 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T06:39:30.367799+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T06:39:30.367799+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'old_state': {'last_updated': '2017-10-08T06:39:18.538803+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': [], 'triggeredBy': None}, 'last_changed': '2017-10-08T06:39:18.538803+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57fbc30>>, 'id': UUID('c0b64a56-65cc-49d5-94fc-e7e59cb8649e'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 08:39:30.987118 WARNING ------------------------------------------------------------
2017-10-08 08:39:31.011014 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 41, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
  File "/usr/lib/python3.4/json/__init__.py", line 318, in loads
    return _default_decoder.decode(s)
  File "/usr/lib/python3.4/json/decoder.py", line 343, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
  File "/usr/lib/python3.4/json/decoder.py", line 361, in raw_decode
    raise ValueError(errmsg("Expecting value", s, err.value)) from None
ValueError: Expecting value: line 1 column 1 (char 0)

2017-10-08 08:39:31.073998 WARNING ------------------------------------------------------------
2017-10-08 08:45:37.533219 WARNING ------------------------------------------------------------
2017-10-08 08:45:37.552761 WARNING Unexpected error in worker for App Alarm:
2017-10-08 08:45:37.556535 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T06:45:36.664201+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': 'binary_sensor.garage_door', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T06:45:36.664201+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'triggered'}, 'old_state': {'last_updated': '2017-10-08T06:41:42.727775+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T06:41:42.727775+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57fb250>>, 'id': UUID('5f7ca553-7ddf-4856-a198-b178a3e7d1b8'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 08:45:37.559091 WARNING ------------------------------------------------------------
2017-10-08 08:45:37.621975 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 37, in getTriggeredBy
    triggered_by = {'name': self.friendly_name(data['new_state']['attributes']['changedby'])}
KeyError: 'changedby'

2017-10-08 08:45:37.656092 WARNING ------------------------------------------------------------
2017-10-08 10:57:05.229424 WARNING ------------------------------------------------------------
2017-10-08 10:57:05.242639 WARNING Unexpected error during loading of telegram.py:
2017-10-08 10:57:05.245170 WARNING ------------------------------------------------------------
2017-10-08 10:57:05.267281 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 134
    self.log("Service Result - {}".format(true_service_result))"""
		if true_service_result['state'] == 'pending':
			message = "Pending due to {}".format(true_service_result.get('attributes')['trippedsensors'])
			self.handle = self.listen_state(self.armDelayCallback, entity_id = 'alarm_control_panel.house',old = 'pending', chat_id = payload_event['chat_id'], accessgroup = accessgroup)	
		else:
			message = "Alarm *{}*".format(str(true_service_result['message']).upper())
		keyboard = self.getKeyboard(true_service_result['state'], accessgroup)
		self.call_service("telegram_bot/send_message",
			target = payload_event['chat_id'],
			message = message,
			keyboard = keyboard)"""
                                                                  
		                                             
			                                                                                             
			                                                                                                                                                                              	
		     
			                                                                          
		                                                                      
		                                              
			                                  
			                  
			                      ^
SyntaxError: invalid syntax

2017-10-08 10:57:05.274164 WARNING ------------------------------------------------------------
2017-10-08 10:58:07.757427 WARNING ------------------------------------------------------------
2017-10-08 10:58:07.832870 WARNING Unexpected error in worker for App Telegram:
2017-10-08 10:58:07.843477 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Ultimate', 'chat_id': 444908880, 'user_id': 444908880, 'text': 'Disarm'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5ac1e50>>, 'id': UUID('c5b12aa3-bb70-4b1c-a421-0947f975b2f7'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-08 10:58:07.913358 WARNING ------------------------------------------------------------
2017-10-08 10:58:07.968936 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 97, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 130, in alarmFunction
    keyboard = self.getKeyboard(true_service_result['state'], accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 421, in getKeyboard
    keyboard = self.getRefinedKeyboard(KEYBOARD_STRUCTURE[keyboard_type],accessgroup['alarm']['functions'])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 429, in getRefinedKeyboard
    refinedKeyboard.append(ALARM_KEYBOARD_REVERSED[item])
KeyError: 'armStay'

2017-10-08 10:58:08.043451 WARNING ------------------------------------------------------------
2017-10-08 10:58:08.357532 WARNING ------------------------------------------------------------
2017-10-08 10:58:08.392699 WARNING Unexpected error in worker for App Alarm:
2017-10-08 10:58:08.403696 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'last_updated': '2017-10-08T08:58:07.038884+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'trippedsensors': ['binary_sensor.garage_door'], 'changed_by': 'binary_sensor.garage_door', 'code_format': None, 'immediate': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': [], 'triggeredBy': "{'name': 'Ultimate', 'chat_id': '444908880'}"}, 'last_changed': '2017-10-08T08:58:07.038884+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'disarmed'}, 'old_state': {'last_updated': '2017-10-08T06:46:37.049524+00:00', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'ignored': ['binary_sensor.garage_door', 'binary_sensor.kitchen_window'], 'trippedsensors': ['binary_sensor.garage_door'], 'changed_by': 'binary_sensor.garage_door', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.living_room_door'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'delayed': [], 'bypassedsensors': ['binary_sensor.garage_door', 'binary_sensor.kitchen_window'], 'triggeredBy': 'None'}, 'last_changed': '2017-10-08T06:46:37.049524+00:00', 'entity_id': 'alarm_control_panel.house', 'state': 'armed_away'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5ba7e50>>, 'id': UUID('c674091d-9b5a-4413-8eb2-6eceeba0d5c7'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 10:58:08.424512 WARNING ------------------------------------------------------------
2017-10-08 10:58:08.463401 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 29, in trigger
    self.telegram_notify(new_state, triggered_by)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 53, in telegram_notify
    keyboard = self.telegram.getKeyboard(new_state,accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 428, in getKeyboard
    if item not in alarmAccessGroup:
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 436, in getRefinedKeyboard
    return refinedKeyboard
KeyError: 'armStay'

2017-10-08 10:58:08.466020 WARNING ------------------------------------------------------------
2017-10-08 16:56:59.430726 WARNING ------------------------------------------------------------
2017-10-08 16:56:59.442803 WARNING Unexpected error in worker for App Telegram:
2017-10-08 16:56:59.445811 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Ultimate', 'chat_id': 444908880, 'user_id': 444908880, 'text': 'Arm Stay'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5af85b0>>, 'id': UUID('d47379b0-5771-4c41-b800-51f7508972af'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-08 16:56:59.448300 WARNING ------------------------------------------------------------
2017-10-08 16:56:59.487637 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 106, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 135, in alarmFunction
    keyboard = self.getKeyboard(true_service_result['state'], accessgroup)
TypeError: 'NoneType' object is not subscriptable

2017-10-08 16:56:59.502682 WARNING ------------------------------------------------------------
2017-10-08 16:59:16.234767 WARNING ------------------------------------------------------------
2017-10-08 16:59:16.250288 WARNING Unexpected error during loading of telegram.py:
2017-10-08 16:59:16.258277 WARNING ------------------------------------------------------------
2017-10-08 16:59:16.274180 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 135
    state = self.get_state("alarm_control_panel.house")
                                                      ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-08 16:59:16.276920 WARNING ------------------------------------------------------------
2017-10-08 17:10:41.722819 WARNING ------------------------------------------------------------
2017-10-08 17:10:41.732854 WARNING Unexpected error in worker for App Telegram:
2017-10-08 17:10:41.760149 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Ultimate', 'chat_id': 444908880, 'user_id': 444908880, 'text': 'Arm Stay'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb57fb4b0>>, 'id': UUID('23419b0b-0df5-43fd-afea-4ab921cf7019'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-08 17:10:41.765789 WARNING ------------------------------------------------------------
2017-10-08 17:10:41.849437 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 106, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 138, in alarmFunction
    keyboard = self.getKeyboard(true_service_result['state'], accessgroup)
TypeError: 'NoneType' object is not subscriptable

2017-10-08 17:10:41.852066 WARNING ------------------------------------------------------------
2017-10-08 17:29:35.235583 WARNING ------------------------------------------------------------
2017-10-08 17:29:35.252509 WARNING Unexpected error during loading of telegram.py:
2017-10-08 17:29:35.255048 WARNING ------------------------------------------------------------
2017-10-08 17:29:35.260468 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 146
    alarm_state = true_service_result['state']
                                             ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-08 17:29:35.265791 WARNING ------------------------------------------------------------
2017-10-08 17:29:36.236281 WARNING ------------------------------------------------------------
2017-10-08 17:29:36.245205 WARNING Unexpected error during loading of telegram.py:
2017-10-08 17:29:36.248107 WARNING ------------------------------------------------------------
2017-10-08 17:29:36.253885 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 146
    alarm_state = true_service_result['state']
                                             ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-08 17:29:36.256678 WARNING ------------------------------------------------------------
2017-10-08 17:30:20.240432 WARNING ------------------------------------------------------------
2017-10-08 17:30:20.257841 WARNING Unexpected error during loading of telegram.py:
2017-10-08 17:30:20.262743 WARNING ------------------------------------------------------------
2017-10-08 17:30:20.269002 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 146
    alarm_state = true_service_result['state']
                                             ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-08 17:30:20.271792 WARNING ------------------------------------------------------------
2017-10-08 17:30:22.239192 WARNING ------------------------------------------------------------
2017-10-08 17:30:22.244615 WARNING Unexpected error during loading of telegram.py:
2017-10-08 17:30:22.249176 WARNING ------------------------------------------------------------
2017-10-08 17:30:22.254970 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 146
    alarm_state = true_service_result['state']
                                             ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-08 17:30:22.257763 WARNING ------------------------------------------------------------
2017-10-08 17:31:38.236409 WARNING ------------------------------------------------------------
2017-10-08 17:31:38.256885 WARNING Unexpected error during loading of telegram.py:
2017-10-08 17:31:38.259535 WARNING ------------------------------------------------------------
2017-10-08 17:31:38.275238 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 146
    alarm_state = true_service_result['state']
                                             ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-08 17:31:38.277979 WARNING ------------------------------------------------------------
2017-10-08 17:31:56.753084 WARNING ------------------------------------------------------------
2017-10-08 17:31:56.762864 WARNING Unexpected error in worker for App Telegram:
2017-10-08 17:31:56.765891 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Ultimate', 'chat_id': 444908880, 'user_id': 444908880, 'text': 'Disarm'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5ab2c30>>, 'id': UUID('608ada78-c0cf-477d-aef1-7ee429de3343'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-08 17:31:56.768385 WARNING ------------------------------------------------------------
2017-10-08 17:31:56.808521 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 106, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 136, in alarmFunction
    if state == KEY_TO_EXPECTED_OUTCOME[alarm_command]:
NameError: name 'state' is not defined

2017-10-08 17:31:56.842692 WARNING ------------------------------------------------------------
2017-10-08 17:32:17.143852 WARNING ------------------------------------------------------------
2017-10-08 17:32:17.152700 WARNING Unexpected error in worker for App Telegram:
2017-10-08 17:32:17.155787 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Ultimate', 'chat_id': 444908880, 'user_id': 444908880, 'text': 'Disarm'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb59343d0>>, 'id': UUID('240e0523-1fa3-470d-8876-da88da0b8455'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-08 17:32:17.158264 WARNING ------------------------------------------------------------
2017-10-08 17:32:17.257217 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 106, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 137, in alarmFunction
    message = "Already {}".format(str(state).upper())
NameError: name 'state' is not defined

2017-10-08 17:32:17.294698 WARNING ------------------------------------------------------------
2017-10-08 17:38:55.236567 WARNING ------------------------------------------------------------
2017-10-08 17:38:55.256199 WARNING Unexpected error during loading of telegram.py:
2017-10-08 17:38:55.258824 WARNING ------------------------------------------------------------
2017-10-08 17:38:55.274443 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 144
    if state == KEY_TO_EXPECTED_OUTCOME[alarm_command]:
                                                      ^
IndentationError: unindent does not match any outer indentation level

2017-10-08 17:38:55.277050 WARNING ------------------------------------------------------------
2017-10-08 17:38:56.240405 WARNING ------------------------------------------------------------
2017-10-08 17:38:56.252704 WARNING Unexpected error during loading of telegram.py:
2017-10-08 17:38:56.255231 WARNING ------------------------------------------------------------
2017-10-08 17:38:56.260693 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 144
    if state == KEY_TO_EXPECTED_OUTCOME[alarm_command]:
                                                      ^
IndentationError: unindent does not match any outer indentation level

2017-10-08 17:38:56.273551 WARNING ------------------------------------------------------------
2017-10-08 17:39:26.234853 WARNING ------------------------------------------------------------
2017-10-08 17:39:26.252673 WARNING Unexpected error during loading of telegram.py:
2017-10-08 17:39:26.255203 WARNING ------------------------------------------------------------
2017-10-08 17:39:26.260650 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 144
    if state == KEY_TO_EXPECTED_OUTCOME[alarm_command]:
                                                      ^
IndentationError: unindent does not match any outer indentation level

2017-10-08 17:39:26.293541 WARNING ------------------------------------------------------------
2017-10-08 17:39:45.365036 WARNING ------------------------------------------------------------
2017-10-08 17:39:45.482709 WARNING Unexpected error in worker for App Telegram:
2017-10-08 17:39:45.485846 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'Arm Stay'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb57fb870>>, 'id': UUID('82d1600f-c7b0-45a9-9f19-68c9a783b287'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-08 17:39:45.488467 WARNING ------------------------------------------------------------
2017-10-08 17:39:45.566734 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 106, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 149, in alarmFunction
    message = "*{}* Fail due to {}".format(alarm_command.upper(), trippedSensors)
UnboundLocalError: local variable 'trippedSensors' referenced before assignment

2017-10-08 17:39:45.582317 WARNING ------------------------------------------------------------
2017-10-08 17:41:23.586343 WARNING ------------------------------------------------------------
2017-10-08 17:41:23.645903 WARNING Unexpected error in worker for App Telegram:
2017-10-08 17:41:23.687251 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'Arm Stay'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5b4b3d0>>, 'id': UUID('fd0de889-de89-46fe-ab7d-a44d03b3f554'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-08 17:41:23.774087 WARNING ------------------------------------------------------------
2017-10-08 17:41:23.836816 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 106, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 144, in alarmFunction
    trippedSensors = true_service_result['trippedsensors']
KeyError: 'trippedsensors'

2017-10-08 17:41:23.887361 WARNING ------------------------------------------------------------
2017-10-08 17:59:48.027778 WARNING ------------------------------------------------------------
2017-10-08 17:59:48.056155 WARNING Unexpected error in worker for App Telegram:
2017-10-08 17:59:48.073153 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'Arm Stay'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb57a8810>>, 'id': UUID('d8946aed-4632-4598-a1c4-ca7935db9e99'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-08 17:59:48.092691 WARNING ------------------------------------------------------------
2017-10-08 17:59:48.133892 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 116, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 165, in alarmFunction
    keyboard = self.getKeyboard(state, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 455, in getKeyboard
    keyboard = self.getRefinedKeyboard(KEYBOARD_STRUCTURE[keyboard_type],accessgroup['alarm']['functions'])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 463, in getRefinedKeyboard
    refinedKeyboard.append(ALARM_KEYBOARD_REVERSED[item])
KeyError: 'armStaysensorBypass'

2017-10-08 17:59:48.136767 WARNING ------------------------------------------------------------
2017-10-08 18:46:41.431158 WARNING ------------------------------------------------------------
2017-10-08 18:46:41.453529 WARNING Unexpected error during loading of telegram.py:
2017-10-08 18:46:41.456391 WARNING ------------------------------------------------------------
2017-10-08 18:46:41.461730 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 21
    "Rooms"																					: 'rooms',
           																					^
SyntaxError: invalid syntax

2017-10-08 18:46:41.474759 WARNING ------------------------------------------------------------
2017-10-08 18:46:42.447340 WARNING ------------------------------------------------------------
2017-10-08 18:46:42.461995 WARNING Unexpected error during loading of telegram.py:
2017-10-08 18:46:42.464638 WARNING ------------------------------------------------------------
2017-10-08 18:46:42.469938 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 21
    "Rooms"																					: 'rooms',
           																					^
SyntaxError: invalid syntax

2017-10-08 18:46:42.482764 WARNING ------------------------------------------------------------
2017-10-08 19:39:05.464505 WARNING ------------------------------------------------------------
2017-10-08 19:39:05.472702 WARNING Unexpected error during loading of telegram.py:
2017-10-08 19:39:05.475350 WARNING ------------------------------------------------------------
2017-10-08 19:39:05.480659 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 270
    if handle[0]['trippedsensors'] != list():
                                            ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-08 19:39:05.493655 WARNING ------------------------------------------------------------
2017-10-08 19:39:06.464093 WARNING ------------------------------------------------------------
2017-10-08 19:39:06.472743 WARNING Unexpected error during loading of telegram.py:
2017-10-08 19:39:06.475497 WARNING ------------------------------------------------------------
2017-10-08 19:39:06.486361 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 270
    if handle[0]['trippedsensors'] != list():
                                            ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-08 19:39:06.489020 WARNING ------------------------------------------------------------
2017-10-08 19:39:20.463630 WARNING ------------------------------------------------------------
2017-10-08 19:39:20.472820 WARNING Unexpected error during loading of telegram.py:
2017-10-08 19:39:20.475401 WARNING ------------------------------------------------------------
2017-10-08 19:39:20.480704 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 270
    if handle[0]['trippedsensors'] != list():
                                            ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-08 19:39:20.493698 WARNING ------------------------------------------------------------
2017-10-08 19:39:51.972759 WARNING ------------------------------------------------------------
2017-10-08 19:39:52.032953 WARNING Unexpected error in worker for App Telegram:
2017-10-08 19:39:52.041480 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'user_id': 396287366, 'chat_id': 396287366, 'from_first': 'Legendary', 'text': 'bypass downstairs'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5b4bf30>>, 'id': UUID('0ff185d2-e71b-4758-99b3-f5a8e7243f4b'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-08 19:39:52.131852 WARNING ------------------------------------------------------------
2017-10-08 19:39:52.228450 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 141, in receive_telegram_text
    self.bypassZone(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 270, in bypassZone
    if handle[0]['trippedsensors'] != list():
KeyError: 'trippedsensors'

2017-10-08 19:39:52.231077 WARNING ------------------------------------------------------------
2017-10-08 19:41:00.545070 WARNING ------------------------------------------------------------
2017-10-08 19:41:00.640479 WARNING Unexpected error in worker for App Telegram:
2017-10-08 19:41:00.686268 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'user_id': 396287366, 'chat_id': 396287366, 'from_first': 'Legendary', 'text': 'enable garage'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5af80b0>>, 'id': UUID('73ac9eb4-d88d-49a5-991b-a40161d06f03'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-08 19:41:00.729259 WARNING ------------------------------------------------------------
2017-10-08 19:41:00.865777 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 141, in receive_telegram_text
    self.bypassZone(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 271, in bypassZone
    self.log("Tripped Sensors 2 - <{}>".format(trippedSensors))
UnboundLocalError: local variable 'trippedSensors' referenced before assignment

2017-10-08 19:41:00.909706 WARNING ------------------------------------------------------------
2017-10-08 20:00:19.132497 WARNING ------------------------------------------------------------
2017-10-08 20:00:19.152699 WARNING Unexpected error in worker for App Telegram:
2017-10-08 20:00:19.156007 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'user_id': 396287366, 'chat_id': 396287366, 'from_first': 'Legendary', 'text': 'Zone Bypass'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb608b0f0>>, 'id': UUID('9777d35c-cb45-47cb-9691-a4901ea9f9cf'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-08 20:00:19.158482 WARNING ------------------------------------------------------------
2017-10-08 20:00:19.196232 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 131, in receive_telegram_text
    simpleFunction(self, payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 309, in bypass
    keyboard.append(ALARM_KEYBOARD_REVERSED['sensorOverView'])
KeyError: 'sensorOverView'

2017-10-08 20:00:19.198831 WARNING ------------------------------------------------------------
2017-10-08 20:31:10.178324 WARNING ------------------------------------------------------------
2017-10-08 20:31:10.191733 WARNING Unexpected error in worker for App Alarm:
2017-10-08 20:31:10.195553 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'triggeredBy': [], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': 'binary_sensor.front_door', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'ignored': ['binary_sensor.kitchen_window', 'binary_sensor.living_room_door']}, 'last_changed': '2017-10-08T18:31:09.676181+00:00', 'last_updated': '2017-10-08T18:31:09.676181+00:00', 'state': 'triggered'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'triggeredBy': "{'name': 'Legendary', 'chat_id': '396287366'}", 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': '', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'ignored': ['binary_sensor.kitchen_window', 'binary_sensor.living_room_door']}, 'last_changed': '2017-10-08T18:31:03.237507+00:00', 'last_updated': '2017-10-08T18:31:03.237507+00:00', 'state': 'armed_home'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5934f10>>, 'id': UUID('484bf273-53ea-41f2-963c-71bddf044afd'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 20:31:10.198242 WARNING ------------------------------------------------------------
2017-10-08 20:31:10.238701 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'list' object has no attribute 'replace'

2017-10-08 20:31:10.241811 WARNING ------------------------------------------------------------
2017-10-08 20:32:11.791823 WARNING ------------------------------------------------------------
2017-10-08 20:32:11.804828 WARNING Unexpected error in worker for App Alarm:
2017-10-08 20:32:11.918721 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'triggeredBy': [], 'trippedsensors': [], 'changed_by': 'binary_sensor.front_door', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'ignored': ['binary_sensor.kitchen_window', 'binary_sensor.living_room_door']}, 'last_changed': '2017-10-08T18:32:10.317028+00:00', 'last_updated': '2017-10-08T18:32:10.317028+00:00', 'state': 'armed_home'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'triggeredBy': [], 'trippedsensors': ['binary_sensor.kitchen_window'], 'changed_by': 'binary_sensor.front_door', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': [], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': ['binary_sensor.kitchen_window'], 'ignored': ['binary_sensor.kitchen_window', 'binary_sensor.living_room_door']}, 'last_changed': '2017-10-08T18:31:09.676181+00:00', 'last_updated': '2017-10-08T18:31:09.676181+00:00', 'state': 'triggered'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5934f10>>, 'id': UUID('484bf273-53ea-41f2-963c-71bddf044afd'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 20:32:11.921452 WARNING ------------------------------------------------------------
2017-10-08 20:32:11.946518 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 40, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'list' object has no attribute 'replace'

2017-10-08 20:32:11.949177 WARNING ------------------------------------------------------------
2017-10-08 20:34:53.987497 WARNING ------------------------------------------------------------
2017-10-08 20:34:54.028739 WARNING Unexpected error in worker for App Alarm:
2017-10-08 20:34:54.053766 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'triggeredBy': [], 'trippedsensors': [], 'changed_by': 'binary_sensor.kitchen_window', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': ['binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': [], 'ignored': ['binary_sensor.living_room_door']}, 'last_changed': '2017-10-08T18:34:53.194883+00:00', 'last_updated': '2017-10-08T18:34:53.194883+00:00', 'state': 'warning'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'triggeredBy': "{'name': 'Legendary', 'chat_id': '396287366'}", 'trippedsensors': [], 'changed_by': 'binary_sensor.front_door', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': ['binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': [], 'ignored': ['binary_sensor.living_room_door']}, 'last_changed': '2017-10-08T18:34:47.328380+00:00', 'last_updated': '2017-10-08T18:34:47.328380+00:00', 'state': 'armed_home'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb57fb9f0>>, 'id': UUID('e24b3c06-9e34-4add-9176-74e739a7ab6a'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 20:34:54.056529 WARNING ------------------------------------------------------------
2017-10-08 20:34:54.111951 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 26, in trigger
    triggered_by = self.getTriggeredBy(data)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 41, in getTriggeredBy
    triggered_by = json.loads(triggered_by.replace("\'","\""))
AttributeError: 'list' object has no attribute 'replace'

2017-10-08 20:34:54.134887 WARNING ------------------------------------------------------------
2017-10-08 20:35:39.134579 WARNING ------------------------------------------------------------
2017-10-08 20:35:39.144808 WARNING Unexpected error in worker for App Alarm:
2017-10-08 20:35:39.148300 WARNING Worker Ags: {'event': 'state_changed', 'data': {'new_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'triggeredBy': [], 'trippedsensors': [], 'changed_by': 'binary_sensor.kitchen_window', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': ['binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': [], 'ignored': ['binary_sensor.living_room_door']}, 'last_changed': '2017-10-08T18:35:37.968690+00:00', 'last_updated': '2017-10-08T18:35:37.968690+00:00', 'state': 'warning'}, 'old_state': {'entity_id': 'alarm_control_panel.house', 'attributes': {'friendly_name': 'House', 'allsensors': ['binary_sensor.front_door', 'binary_sensor.garage_door', 'binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'triggeredBy': "{'name': 'Legendary', 'chat_id': '396287366'}", 'trippedsensors': [], 'changed_by': 'binary_sensor.kitchen_window', 'code_format': None, 'immediate': ['binary_sensor.front_door', 'binary_sensor.garage_door'], 'delayed': ['binary_sensor.kitchen_window'], 'zones': ['group.zone_downstairs', 'group.zone_garage', 'group.zone_kitchen', 'group.zone_living_room', 'group.zone_outside', 'group.zone_upstairs'], 'bypassedsensors': [], 'ignored': ['binary_sensor.living_room_door']}, 'last_changed': '2017-10-08T18:35:31.255820+00:00', 'last_updated': '2017-10-08T18:35:31.255820+00:00', 'state': 'armed_home'}, 'entity_id': 'alarm_control_panel.house'}, 'function': <bound method AlarmReaction.alarmListener of <alarm.AlarmReaction object at 0xb5ab28b0>>, 'id': UUID('95be8acc-7948-466e-82ea-952a1b278fce'), 'name': 'Alarm', 'kwargs': {'entity_id': 'alarm_control_panel.house'}, 'type': 'event'}
2017-10-08 20:35:39.150950 WARNING ------------------------------------------------------------
2017-10-08 20:35:39.236296 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 17, in alarmListener
    self.trigger(data,kwargs)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 29, in trigger
    self.telegram_notify(new_state, triggered_by)
  File "/home/homeassistant/config/appdaemon/apps/alarm.py", line 53, in telegram_notify
    keyboard = self.telegram.getKeyboard(new_state,accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 493, in getKeyboard
    keyboard = self.getRefinedKeyboard(KEYBOARD_STRUCTURE[keyboard_type],accessgroup['alarm']['functions'])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 501, in getRefinedKeyboard
    refinedKeyboard.append(ALARM_KEYBOARD_REVERSED[item])
KeyError: 'armHomeForce'

2017-10-08 20:35:39.245292 WARNING ------------------------------------------------------------
2017-10-09 16:38:14.882397 WARNING ------------------------------------------------------------
2017-10-09 16:38:14.892707 WARNING Unexpected error during loading of telegram.py:
2017-10-09 16:38:14.895561 WARNING ------------------------------------------------------------
2017-10-09 16:38:14.906113 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 213
    return item
         ^
IndentationError: expected an indented block

2017-10-09 16:38:14.922972 WARNING ------------------------------------------------------------
2017-10-09 16:38:15.881887 WARNING ------------------------------------------------------------
2017-10-09 16:38:15.902750 WARNING Unexpected error during loading of telegram.py:
2017-10-09 16:38:15.912696 WARNING ------------------------------------------------------------
2017-10-09 16:38:15.921935 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 213
    return item
         ^
IndentationError: expected an indented block

2017-10-09 16:38:15.952677 WARNING ------------------------------------------------------------
2017-10-09 16:48:06.897616 WARNING ------------------------------------------------------------
2017-10-09 16:48:06.905507 WARNING Unexpected error during loading of telegram.py:
2017-10-09 16:48:06.908047 WARNING ------------------------------------------------------------
2017-10-09 16:48:06.920637 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 478
    else:
        ^
IndentationError: unindent does not match any outer indentation level

2017-10-09 16:48:06.932689 WARNING ------------------------------------------------------------
2017-10-09 16:48:33.028442 WARNING ------------------------------------------------------------
2017-10-09 16:48:33.047226 WARNING Unexpected error during loading of telegram.py:
2017-10-09 16:48:33.049772 WARNING ------------------------------------------------------------
2017-10-09 16:48:33.082475 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 478
    else:
        ^
IndentationError: unindent does not match any outer indentation level

2017-10-09 16:48:33.094335 WARNING ------------------------------------------------------------
2017-10-09 16:48:33.985447 WARNING ------------------------------------------------------------
2017-10-09 16:48:33.992707 WARNING Unexpected error during loading of telegram.py:
2017-10-09 16:48:33.995360 WARNING ------------------------------------------------------------
2017-10-09 16:48:34.000554 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 478
    else:
        ^
IndentationError: unindent does not match any outer indentation level

2017-10-09 16:48:34.013523 WARNING ------------------------------------------------------------
2017-10-09 16:48:58.997390 WARNING ------------------------------------------------------------
2017-10-09 16:48:59.099067 WARNING Unexpected error in worker for App Telegram:
2017-10-09 16:48:59.186402 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'turn on lamp'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb57db950>>, 'id': UUID('b72a663f-5498-4d98-9379-396aaece2109'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-09 16:48:59.189042 WARNING ------------------------------------------------------------
2017-10-09 16:48:59.290180 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 143, in receive_telegram_text
    self.turn_on_off(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 454, in turn_on_off
    self.entity_turn_on_off(entity,friendly_name,isOn,payload_event)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 476, in entity_turn_on_off
    if KEY_ON_OFF[service_result['state']] == isOn:
NameError: name 'service_result' is not defined

2017-10-09 16:48:59.406998 WARNING ------------------------------------------------------------
2017-10-09 17:06:33.744437 WARNING ------------------------------------------------------------
2017-10-09 17:06:33.762703 WARNING Unexpected error in worker for App Telegram:
2017-10-09 17:06:33.769792 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'lights'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5b4ba10>>, 'id': UUID('19926a95-fbdc-45ef-bf6c-6ac133aa15f6'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-09 17:06:33.775455 WARNING ------------------------------------------------------------
2017-10-09 17:06:33.806157 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 147, in receive_telegram_text
    self.turn_on_off(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 426, in turn_on_off
    self.entity_turn_on_off(entities,entity,isOn,payload_event)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 466, in entity_turn_on_off
    if KEY_ON_OFF[state] == isOn:
TypeError: unhashable type: 'dict'

2017-10-09 17:06:33.822768 WARNING ------------------------------------------------------------
2017-10-09 17:07:30.152758 WARNING ------------------------------------------------------------
2017-10-09 17:07:30.162695 WARNING Unexpected error in worker for App Telegram:
2017-10-09 17:07:30.165954 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'lights'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb57fbfb0>>, 'id': UUID('0d6a522c-5769-442b-ac97-7e09a044329f'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-09 17:07:30.168565 WARNING ------------------------------------------------------------
2017-10-09 17:07:30.219603 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 147, in receive_telegram_text
    self.turn_on_off(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 426, in turn_on_off
    self.entity_turn_on_off(entities,entity,isOn,payload_event)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 467, in entity_turn_on_off
    if KEY_ON_OFF[state] == isOn:
TypeError: unhashable type: 'dict'

2017-10-09 17:07:30.265269 WARNING ------------------------------------------------------------
2017-10-09 17:07:47.394717 WARNING ------------------------------------------------------------
2017-10-09 17:07:47.412699 WARNING Unexpected error in worker for App Telegram:
2017-10-09 17:07:47.415787 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'lights'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb57d9a10>>, 'id': UUID('98e14ccb-e5f0-4076-a353-6d368a13e703'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-09 17:07:47.418268 WARNING ------------------------------------------------------------
2017-10-09 17:07:47.462876 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 147, in receive_telegram_text
    self.turn_on_off(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 426, in turn_on_off
    self.entity_turn_on_off(entities,entity,isOn,payload_event)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 467, in entity_turn_on_off
    if KEY_ON_OFF[state] == isOn:
TypeError: unhashable type: 'dict'

2017-10-09 17:07:47.465508 WARNING ------------------------------------------------------------
2017-10-09 17:13:38.895173 WARNING ------------------------------------------------------------
2017-10-09 17:13:38.903006 WARNING Unexpected error during loading of telegram.py:
2017-10-09 17:13:38.905699 WARNING ------------------------------------------------------------
2017-10-09 17:13:38.911028 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 489
    if KEY_ON_OFF[state] == isOn:
                                ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 17:13:38.933988 WARNING ------------------------------------------------------------
2017-10-09 17:13:54.902971 WARNING ------------------------------------------------------------
2017-10-09 17:13:54.912984 WARNING Unexpected error during loading of telegram.py:
2017-10-09 17:13:54.915968 WARNING ------------------------------------------------------------
2017-10-09 17:13:54.926604 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 489
    if KEY_ON_OFF[state] == isOn:
                                ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 17:13:54.929179 WARNING ------------------------------------------------------------
2017-10-09 17:14:17.900055 WARNING ------------------------------------------------------------
2017-10-09 17:14:17.918078 WARNING Unexpected error in worker for App Telegram:
2017-10-09 17:14:17.921330 WARNING Worker Ags: {'name': 'Telegram', 'type': 'timer', 'kwargs': {'isOn': False, 'entity_id': 'light.lifx_light_14e35a', 'payload_event': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'turn off desk'}}, 'function': <bound method TelegramBotEventListener.checkState of <telegram.TelegramBotEventListener object at 0xb5ab24b0>>, 'id': UUID('bf3010cc-0d0a-4af7-97b5-83e359e8c93f')}
2017-10-09 17:14:17.924103 WARNING ------------------------------------------------------------
2017-10-09 17:14:17.927628 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
TypeError: checkState() missing 2 required positional arguments: 'isOn' and 'payload_event'

2017-10-09 17:14:17.930078 WARNING ------------------------------------------------------------
2017-10-09 17:14:46.928025 WARNING ------------------------------------------------------------
2017-10-09 17:14:46.942698 WARNING Unexpected error during loading of telegram.py:
2017-10-09 17:14:46.945219 WARNING ------------------------------------------------------------
2017-10-09 17:14:46.951010 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 489
    state = self.get_state(entity_id)
                                    ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 17:14:46.964212 WARNING ------------------------------------------------------------
2017-10-09 17:14:47.895096 WARNING ------------------------------------------------------------
2017-10-09 17:14:47.902050 WARNING Unexpected error during loading of telegram.py:
2017-10-09 17:14:47.910109 WARNING ------------------------------------------------------------
2017-10-09 17:14:47.915756 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 489
    state = self.get_state(entity_id)
                                    ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 17:14:47.918346 WARNING ------------------------------------------------------------
2017-10-09 17:15:13.922884 WARNING ------------------------------------------------------------
2017-10-09 17:15:13.942677 WARNING Unexpected error in worker for App Telegram:
2017-10-09 17:15:13.945862 WARNING Worker Ags: {'name': 'Telegram', 'type': 'timer', 'kwargs': {'isOn': True, 'entity_id': 'light.lifx_light_14e35a', 'payload_event': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'turn on desk'}}, 'function': <bound method TelegramBotEventListener.checkState of <telegram.TelegramBotEventListener object at 0xb5b4b7f0>>, 'id': UUID('57fae9d0-c81c-47e7-8dd2-5b9b46de6a99')}
2017-10-09 17:15:13.948469 WARNING ------------------------------------------------------------
2017-10-09 17:15:13.999072 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 489, in checkState
    state = self.get_state(entity_id)
NameError: name 'entity_id' is not defined

2017-10-09 17:15:14.012676 WARNING ------------------------------------------------------------
2017-10-09 17:32:35.895604 WARNING ------------------------------------------------------------
2017-10-09 17:32:35.909855 WARNING Unexpected error during loading of telegram.py:
2017-10-09 17:32:35.912504 WARNING ------------------------------------------------------------
2017-10-09 17:32:35.917929 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 496
    self.cancel_listen_state(handle)
                                   ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 17:32:35.920484 WARNING ------------------------------------------------------------
2017-10-09 17:33:07.911992 WARNING ------------------------------------------------------------
2017-10-09 17:33:07.922812 WARNING Unexpected error during loading of telegram.py:
2017-10-09 17:33:07.925358 WARNING ------------------------------------------------------------
2017-10-09 17:33:07.930751 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 496
    self.cancel_listen_state(handle)
                                   ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 17:33:07.941471 WARNING ------------------------------------------------------------
2017-10-09 17:48:21.916201 WARNING ------------------------------------------------------------
2017-10-09 17:48:21.922735 WARNING Unexpected error during loading of telegram.py:
2017-10-09 17:48:21.928542 WARNING ------------------------------------------------------------
2017-10-09 17:48:21.941151 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 493
    friendly_name = kwargs['friendly_name']
                                          ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 17:48:21.952681 WARNING ------------------------------------------------------------
2017-10-09 17:49:00.438146 WARNING ------------------------------------------------------------
2017-10-09 17:49:00.470477 WARNING Unexpected error in worker for App Telegram:
2017-10-09 17:49:00.475655 WARNING Worker Ags: {'new_state': 'on', 'old_state': 'off', 'entity': 'light.lamp', 'function': <bound method TelegramBotEventListener.entity_state_change of <telegram.TelegramBotEventListener object at 0xb57db0f0>>, 'id': UUID('c57a2448-9463-4423-a80f-e5aadbdaa5e8'), 'name': 'Telegram', 'kwargs': {'friendly_name': 'lamp', 'isOn': True, 'payload_event': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'turn on lamp'}}, 'attribute': 'state', 'type': 'attr'}
2017-10-09 17:49:00.478201 WARNING ------------------------------------------------------------
2017-10-09 17:49:00.528653 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 495, in entity_state_change
    if new == KEY_ON_OFF[isOn]:
KeyError: True

2017-10-09 17:49:00.531311 WARNING ------------------------------------------------------------
2017-10-09 17:49:02.873710 WARNING ------------------------------------------------------------
2017-10-09 17:49:02.882696 WARNING Unexpected error in worker for App Telegram:
2017-10-09 17:49:02.885854 WARNING Worker Ags: {'name': 'Telegram', 'type': 'timer', 'kwargs': {'handle': UUID('9d2cbb7e-1d84-4749-943a-807d16ed2168')}, 'function': <bound method TelegramBotEventListener.cancel_handle of <telegram.TelegramBotEventListener object at 0xb57db0f0>>, 'id': UUID('c57a2448-9463-4423-a80f-e5aadbdaa5e8')}
2017-10-09 17:49:02.888309 WARNING ------------------------------------------------------------
2017-10-09 17:49:02.902713 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 506, in cancel_handle
    entity,kwargs = self.info_listen_state(handle)
ValueError: too many values to unpack (expected 2)

2017-10-09 17:49:02.905592 WARNING ------------------------------------------------------------
2017-10-09 17:51:17.431712 WARNING ------------------------------------------------------------
2017-10-09 17:51:17.460326 WARNING Unexpected error in worker for App Telegram:
2017-10-09 17:51:17.469955 WARNING Worker Ags: {'new_state': 'off', 'old_state': 'on', 'entity': 'light.lamp', 'function': <bound method TelegramBotEventListener.entity_state_change of <telegram.TelegramBotEventListener object at 0xb57d9dd0>>, 'id': UUID('7d9f438a-864a-4e7c-a887-56eb3b57279d'), 'name': 'Telegram', 'kwargs': {'friendly_name': 'lamp', 'isOn': False, 'payload_event': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'turn off lamp'}}, 'attribute': 'state', 'type': 'attr'}
2017-10-09 17:51:17.482620 WARNING ------------------------------------------------------------
2017-10-09 17:51:17.542657 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 500, in entity_state_change
    target = payload_event['chat_id'],
NameError: name 'payload_event' is not defined

2017-10-09 17:51:17.545278 WARNING ------------------------------------------------------------
2017-10-09 17:51:20.905705 WARNING ------------------------------------------------------------
2017-10-09 17:51:20.912762 WARNING Unexpected error in worker for App Telegram:
2017-10-09 17:51:20.926189 WARNING Worker Ags: {'name': 'Telegram', 'type': 'timer', 'kwargs': {'handle': UUID('90abb9b5-7f18-4f35-9188-75c6dbd49fe2')}, 'function': <bound method TelegramBotEventListener.cancel_handle of <telegram.TelegramBotEventListener object at 0xb57d9dd0>>, 'id': UUID('7d9f438a-864a-4e7c-a887-56eb3b57279d')}
2017-10-09 17:51:20.928723 WARNING ------------------------------------------------------------
2017-10-09 17:51:20.952993 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 506, in cancel_handle
    entity,kwargs = self.info_listen_state(handle)
ValueError: too many values to unpack (expected 2)

2017-10-09 17:51:20.956047 WARNING ------------------------------------------------------------
2017-10-09 17:52:20.855458 WARNING ------------------------------------------------------------
2017-10-09 17:52:20.862806 WARNING Unexpected error in worker for App Telegram:
2017-10-09 17:52:20.871914 WARNING Worker Ags: {'name': 'Telegram', 'type': 'timer', 'kwargs': {'handle': UUID('d44152da-74e4-4b51-8451-41cc25c6d2d8')}, 'function': <bound method TelegramBotEventListener.cancel_handle of <telegram.TelegramBotEventListener object at 0xb57db1d0>>, 'id': UUID('97422a3c-be72-41dd-be84-3d1be80226d0')}
2017-10-09 17:52:20.880362 WARNING ------------------------------------------------------------
2017-10-09 17:52:20.906699 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 507, in cancel_handle
    entity,kwargs = self.info_listen_state(handle)
ValueError: too many values to unpack (expected 2)

2017-10-09 17:52:20.925109 WARNING ------------------------------------------------------------
2017-10-09 17:57:26.898695 WARNING ------------------------------------------------------------
2017-10-09 17:57:26.912922 WARNING Unexpected error in worker for App Telegram:
2017-10-09 17:57:26.915983 WARNING Worker Ags: {'name': 'Telegram', 'type': 'timer', 'kwargs': {'handle': UUID('f42465ee-2e23-4c7e-9532-cc51dd61c548')}, 'function': <bound method TelegramBotEventListener.cancel_handle of <telegram.TelegramBotEventListener object at 0xb5789370>>, 'id': UUID('8c4ef60e-280c-46ce-8885-e099244621ad')}
2017-10-09 17:57:26.918436 WARNING ------------------------------------------------------------
2017-10-09 17:57:26.963309 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 516, in cancel_handle
    message = "Unable to turn {} {}".format(friendly_name.title(), new)
NameError: name 'new' is not defined

2017-10-09 17:57:26.965900 WARNING ------------------------------------------------------------
2017-10-09 18:02:33.892658 WARNING ------------------------------------------------------------
2017-10-09 18:02:33.900042 WARNING Unexpected error during loading of telegram.py:
2017-10-09 18:02:33.910739 WARNING ------------------------------------------------------------
2017-10-09 18:02:33.916250 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 467
    if False #KEY_ON_OFF[state] == isOn:
                                       ^
SyntaxError: invalid syntax

2017-10-09 18:02:33.923544 WARNING ------------------------------------------------------------
2017-10-09 18:30:40.908168 WARNING ------------------------------------------------------------
2017-10-09 18:30:40.914365 WARNING Unexpected error during loading of telegram.py:
2017-10-09 18:30:40.922691 WARNING ------------------------------------------------------------
2017-10-09 18:30:40.927835 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 506
    if !state_mode:
       ^
SyntaxError: invalid syntax

2017-10-09 18:30:40.930881 WARNING ------------------------------------------------------------
2017-10-09 18:40:26.217690 WARNING ------------------------------------------------------------
2017-10-09 18:40:26.299316 WARNING Unexpected error in worker for App Telegram:
2017-10-09 18:40:26.330612 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'turn on main light'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5788a30>>, 'id': UUID('809dbce3-965e-44a5-a508-2c1b97dc4745'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-09 18:40:26.360815 WARNING ------------------------------------------------------------
2017-10-09 18:40:26.398691 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 147, in receive_telegram_text
    self.turn_on_off(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 458, in turn_on_off
    self.entity_turn_on_off(entity,friendly_name,isOn,payload_event)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 479, in entity_turn_on_off
    self.log("HANDLE - {}".format(handle))
NameError: name 'handle' is not defined

2017-10-09 18:40:26.401282 WARNING ------------------------------------------------------------
2017-10-09 18:59:34.810760 WARNING ------------------------------------------------------------
2017-10-09 18:59:34.866477 WARNING Unexpected error in worker for App Telegram:
2017-10-09 18:59:34.869617 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'lights'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb608b0f0>>, 'id': UUID('c301fac8-8f2b-4da6-bebf-0e9556b07f2b'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-09 18:59:34.872129 WARNING ------------------------------------------------------------
2017-10-09 18:59:34.952087 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 148, in receive_telegram_text
    self.turn_on_off(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 427, in turn_on_off
    self.entity_turn_on_off(entities,entity,isOn,payload_event)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 468, in entity_turn_on_off
    state_mode = self.get_state(entity_id, "statefull")
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 106, in func_wrapper
    return(func(*args, **kwargs))
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 377, in get_state
    "{}: Invalid entity ID: {}".format(self.name, entity))
ValueError: Telegram: Invalid entity ID: None

2017-10-09 18:59:35.003646 WARNING ------------------------------------------------------------
2017-10-09 19:00:56.316159 WARNING ------------------------------------------------------------
2017-10-09 19:00:56.332701 WARNING Unexpected error in worker for App Telegram:
2017-10-09 19:00:56.335670 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'lights'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xad547e10>>, 'id': UUID('e3d1506a-4cd5-46f1-94ad-33d38bbd6906'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-09 19:00:56.344039 WARNING ------------------------------------------------------------
2017-10-09 19:00:56.385134 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 148, in receive_telegram_text
    self.turn_on_off(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 427, in turn_on_off
    self.entity_turn_on_off(entities,entity,isOn,payload_event)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 469, in entity_turn_on_off
    state_mode = self.get_state(entity_id, "statefull")
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 106, in func_wrapper
    return(func(*args, **kwargs))
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 377, in get_state
    "{}: Invalid entity ID: {}".format(self.name, entity))
ValueError: Telegram: Invalid entity ID: None

2017-10-09 19:00:56.412672 WARNING ------------------------------------------------------------
2017-10-09 19:03:49.898243 WARNING ------------------------------------------------------------
2017-10-09 19:03:49.912293 WARNING Unexpected error during loading of telegram.py:
2017-10-09 19:03:49.914965 WARNING ------------------------------------------------------------
2017-10-09 19:03:49.920179 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 472
    state = not isOn
                   ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 19:03:49.933218 WARNING ------------------------------------------------------------
2017-10-09 19:04:18.874401 WARNING ------------------------------------------------------------
2017-10-09 19:04:18.882693 WARNING Unexpected error in worker for App Telegram:
2017-10-09 19:04:18.887299 WARNING Worker Ags: {'name': 'Telegram', 'type': 'timer', 'kwargs': {'listen_handle': UUID('ae2a7cfd-c970-4f95-b394-7ab87116fc9a'), 'service_handle': [{'last_updated': '2017-10-09T17:04:14.640406+00:00', 'attributes': {'min_mireds': 154, 'friendly_name': 'Desk Lamp', 'supported_features': 0, 'telegram_name': 'Lamp', 'max_mireds': 500, 'assumed_state': False}, 'last_changed': '2017-10-09T17:04:14.640406+00:00', 'entity_id': 'light.lamp', 'state': 'on'}, {'last_updated': '2017-10-09T17:04:14.259398+00:00', 'attributes': {'friendly_name': 'Kitchen Sensors', 'order': 9, 'entity_id': ['binary_sensor.living_room_door'], 'assumed_state': False}, 'last_changed': '2017-10-09T17:04:14.259398+00:00', 'entity_id': 'group.zone_kitchen', 'state': 'on'}, {'last_updated': '2017-10-09T17:04:14.498754+00:00', 'attributes': {'friendly_name': 'Bathroom', 'control': 'hidden', 'order': 1, 'entity_id': ['light.bathroom_light', 'switch.geyser'], 'assumed_state': False}, 'last_changed': '2017-10-09T17:04:14.498754+00:00', 'entity_id': 'group.bathroom', 'state': 'on'}, {'last_updated': '2017-10-09T17:04:15.525938+00:00', 'attributes': {'friendly_name': 'Front Door', 'device_class': 'opening'}, 'last_changed': '2017-10-09T17:04:15.525938+00:00', 'entity_id': 'binary_sensor.front_door', 'state': 'on'}, {'last_updated': '2017-10-09T17:04:13.455649+00:00', 'attributes': {'icon': 'mdi:home', 'friendly_name': 'Living Room', 'control': 'hidden', 'order': 0, 'entity_id': ['light.lamp', 'switch.main_light', 'switch.living_room_outlet_1', 'switch.living_room_outlet_2'], 'assumed_state': True}, 'last_changed': '2017-10-09T17:04:13.455649+00:00', 'entity_id': 'group.living_room', 'state': 'on'}, {'last_updated': '2017-10-09T17:04:13.189435+00:00', 'attributes': {'friendly_name': 'Main Light', 'telegram_name': 'Main Light', 'statefull': False, 'assumed_state': True}, 'last_changed': '2017-10-09T17:04:13.189435+00:00', 'entity_id': 'switch.main_light', 'state': 'on'}, {'last_updated': '2017-10-09T17:04:14.569541+00:00', 'attributes': {'friendly_name': 'Garage Door', 'device_class': 'opening'}, 'last_changed': '2017-10-09T17:04:14.569541+00:00', 'entity_id': 'binary_sensor.garage_door', 'state': 'on'}, {'last_updated': '2017-10-09T17:04:13.685210+00:00', 'attributes': {'min_mireds': 154, 'friendly_name': 'Bathroom Light', 'color_temp': 250.0, 'supported_features': 63, 'brightness': 255.0, 'rgb_color': [255, 67.92041905680745, 0], 'effect_list': ['Disco', 'Slow Temp', 'Strobe epilepsy!', 'Strobe color', 'Alarm', 'Police', 'Police2', 'Christmas', 'RGB', 'Random Loop', 'Fast Random Loop', 'Slowdown', 'WhatsApp', 'Facebook', 'Twitter', 'Stop'], 'telegram_name': 'Bathroom', 'max_mireds': 500}, 'last_changed': '2017-10-09T17:04:13.685210+00:00', 'entity_id': 'light.bathroom_light', 'state': 'on'}, {'last_updated': '2017-10-09T17:04:15.355718+00:00', 'attributes': {'friendly_name': 'Downstairs Sensors', 'order': 11, 'entity_id': ['binary_sensor.garage_door'], 'assumed_state': False}, 'last_changed': '2017-10-09T17:04:15.355718+00:00', 'entity_id': 'group.zone_downstairs', 'state': 'on'}, {'last_updated': '2017-10-09T17:04:13.584012+00:00', 'attributes': {'friendly_name': 'Living Room Door', 'device_class': 'opening'}, 'last_changed': '2017-10-09T17:04:13.584012+00:00', 'entity_id': 'binary_sensor.living_room_door', 'state': 'on'}, {'last_updated': '2017-10-09T17:04:14.365548+00:00', 'attributes': {'friendly_name': 'Outside Sensors', 'order': 12, 'entity_id': ['binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'assumed_state': False}, 'last_changed': '2017-10-09T17:04:14.365548+00:00', 'entity_id': 'group.zone_outside', 'state': 'on'}]}, 'function': <bound method TelegramBotEventListener.cancel_handle of <telegram.TelegramBotEventListener object at 0xad4c20d0>>, 'id': UUID('29ddfa74-d384-46b0-83e1-7d4165a6191b')}
2017-10-09 19:04:18.890140 WARNING ------------------------------------------------------------
2017-10-09 19:04:18.930830 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 517, in cancel_handle
    if (state_mode == False and service_handle == list()) or KEY_ON_OFF[state] != isOn:
TypeError: unhashable type: 'dict'

2017-10-09 19:04:18.953793 WARNING ------------------------------------------------------------
2017-10-09 19:06:00.009532 WARNING ------------------------------------------------------------
2017-10-09 19:06:00.028545 WARNING Unexpected error in worker for App Telegram:
2017-10-09 19:06:00.053174 WARNING Worker Ags: {'name': 'Telegram', 'type': 'timer', 'kwargs': {'listen_handle': UUID('c808e511-22f5-4b6b-aeac-904a66231344'), 'service_handle': [{'last_updated': '2017-10-09T17:05:54.599442+00:00', 'attributes': {'friendly_name': 'Desk Lamp', 'telegram_name': 'Lamp', 'supported_features': 0, 'assumed_state': False}, 'last_changed': '2017-10-09T17:05:54.599442+00:00', 'entity_id': 'light.lamp', 'state': 'off'}, {'last_updated': '2017-10-09T17:05:54.935230+00:00', 'attributes': {'friendly_name': 'Kitchen Sensors', 'order': 9, 'entity_id': ['binary_sensor.living_room_door'], 'assumed_state': False}, 'last_changed': '2017-10-09T17:05:54.935230+00:00', 'entity_id': 'group.zone_kitchen', 'state': 'off'}, {'last_updated': '2017-10-09T17:05:54.405181+00:00', 'attributes': {'friendly_name': 'Bathroom', 'control': 'hidden', 'order': 1, 'entity_id': ['light.bathroom_light', 'switch.geyser'], 'assumed_state': False}, 'last_changed': '2017-10-09T17:05:54.405181+00:00', 'entity_id': 'group.bathroom', 'state': 'off'}, {'last_updated': '2017-10-09T17:05:55.333774+00:00', 'attributes': {'friendly_name': 'Front Door', 'device_class': 'opening'}, 'last_changed': '2017-10-09T17:05:55.333774+00:00', 'entity_id': 'binary_sensor.front_door', 'state': 'off'}, {'last_updated': '2017-10-09T17:05:55.258777+00:00', 'attributes': {'icon': 'mdi:home', 'friendly_name': 'Living Room', 'control': 'hidden', 'order': 0, 'entity_id': ['light.lamp', 'switch.main_light', 'switch.living_room_outlet_1', 'switch.living_room_outlet_2'], 'assumed_state': True}, 'last_changed': '2017-10-09T17:05:55.258777+00:00', 'entity_id': 'group.living_room', 'state': 'off'}, {'last_updated': '2017-10-09T17:05:53.331927+00:00', 'attributes': {'friendly_name': 'Main Light', 'telegram_name': 'Main Light', 'statefull': False, 'assumed_state': True}, 'last_changed': '2017-10-09T17:05:53.331927+00:00', 'entity_id': 'switch.main_light', 'state': 'off'}, {'last_updated': '2017-10-09T17:05:54.479365+00:00', 'attributes': {'friendly_name': 'Garage Door', 'device_class': 'opening'}, 'last_changed': '2017-10-09T17:05:54.479365+00:00', 'entity_id': 'binary_sensor.garage_door', 'state': 'off'}, {'last_updated': '2017-10-09T17:05:53.479329+00:00', 'attributes': {'friendly_name': 'Bathroom Light', 'supported_features': 63, 'telegram_name': 'Bathroom'}, 'last_changed': '2017-10-09T17:05:53.479329+00:00', 'entity_id': 'light.bathroom_light', 'state': 'off'}, {'last_updated': '2017-10-09T17:05:55.124369+00:00', 'attributes': {'friendly_name': 'Downstairs Sensors', 'order': 11, 'entity_id': ['binary_sensor.garage_door'], 'assumed_state': False}, 'last_changed': '2017-10-09T17:05:55.124369+00:00', 'entity_id': 'group.zone_downstairs', 'state': 'off'}, {'last_updated': '2017-10-09T17:05:54.187684+00:00', 'attributes': {'friendly_name': 'Living Room Door', 'device_class': 'opening'}, 'last_changed': '2017-10-09T17:05:54.187684+00:00', 'entity_id': 'binary_sensor.living_room_door', 'state': 'off'}, {'last_updated': '2017-10-09T17:05:54.979007+00:00', 'attributes': {'friendly_name': 'Outside Sensors', 'order': 12, 'entity_id': ['binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'assumed_state': False}, 'last_changed': '2017-10-09T17:05:54.979007+00:00', 'entity_id': 'group.zone_outside', 'state': 'off'}]}, 'function': <bound method TelegramBotEventListener.cancel_handle of <telegram.TelegramBotEventListener object at 0xad4c2150>>, 'id': UUID('743a6ba5-ff6d-4c39-aab7-be38f386751d')}
2017-10-09 19:06:00.055938 WARNING ------------------------------------------------------------
2017-10-09 19:06:00.081455 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 518, in cancel_handle
    if (state_mode == False and service_handle == list()) or KEY_ON_OFF[state] != isOn:
TypeError: unhashable type: 'dict'

2017-10-09 19:06:00.114344 WARNING ------------------------------------------------------------
2017-10-09 19:11:41.926401 WARNING ------------------------------------------------------------
2017-10-09 19:11:41.935003 WARNING Unexpected error during loading of telegram.py:
2017-10-09 19:11:41.942542 WARNING ------------------------------------------------------------
2017-10-09 19:11:41.952745 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 527
    state = self.get_state()
                           ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 19:11:41.972715 WARNING ------------------------------------------------------------
2017-10-09 19:25:28.913729 WARNING ------------------------------------------------------------
2017-10-09 19:25:28.922712 WARNING Unexpected error during loading of telegram.py:
2017-10-09 19:25:28.925701 WARNING ------------------------------------------------------------
2017-10-09 19:25:28.938109 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 535
    if KEY_ON_OFF[state] != isOn:
                                ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 19:25:28.952752 WARNING ------------------------------------------------------------
2017-10-09 19:25:48.920244 WARNING ------------------------------------------------------------
2017-10-09 19:25:48.932713 WARNING Unexpected error during loading of telegram.py:
2017-10-09 19:25:48.935681 WARNING ------------------------------------------------------------
2017-10-09 19:25:48.945341 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 541
    for eid in faultList:
                        ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 19:25:48.952714 WARNING ------------------------------------------------------------
2017-10-09 19:26:00.914595 WARNING ------------------------------------------------------------
2017-10-09 19:26:00.922714 WARNING Unexpected error during loading of telegram.py:
2017-10-09 19:26:00.932058 WARNING ------------------------------------------------------------
2017-10-09 19:26:00.937927 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 541
    for eid in faultList:
                        ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 19:26:00.952717 WARNING ------------------------------------------------------------
2017-10-09 19:26:19.930980 WARNING ------------------------------------------------------------
2017-10-09 19:26:19.942822 WARNING Unexpected error during loading of telegram.py:
2017-10-09 19:26:19.946265 WARNING ------------------------------------------------------------
2017-10-09 19:26:19.973522 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 541
    for eid in faultList:
                        ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 19:26:19.977228 WARNING ------------------------------------------------------------
2017-10-09 19:26:34.915225 WARNING ------------------------------------------------------------
2017-10-09 19:26:34.922777 WARNING Unexpected error during loading of telegram.py:
2017-10-09 19:26:34.932731 WARNING ------------------------------------------------------------
2017-10-09 19:26:34.938512 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 541
    for eid in faultList:
                        ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 19:26:34.948605 WARNING ------------------------------------------------------------
2017-10-09 19:41:06.927511 WARNING ------------------------------------------------------------
2017-10-09 19:41:06.942712 WARNING Unexpected error during loading of telegram.py:
2017-10-09 19:41:06.946224 WARNING ------------------------------------------------------------
2017-10-09 19:41:06.957995 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 474
    if timer_handle
                  ^
SyntaxError: invalid syntax

2017-10-09 19:41:06.960713 WARNING ------------------------------------------------------------
2017-10-09 19:41:50.230603 WARNING ------------------------------------------------------------
2017-10-09 19:41:50.250478 WARNING Unexpected error in worker for App Telegram:
2017-10-09 19:41:50.261961 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'turn off lamp'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xad547c70>>, 'id': UUID('7f8841c5-a195-4db4-bdc0-d7c1b63e1b28'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-09 19:41:50.265310 WARNING ------------------------------------------------------------
2017-10-09 19:41:50.298026 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 152, in receive_telegram_text
    self.turn_on_off(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 463, in turn_on_off
    self.entity_turn_on_off(entity,friendly_name,isOn,payload_event)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 472, in entity_turn_on_off
    timer_handle = self.running_state_listeners.get(entity_id)
AttributeError: 'list' object has no attribute 'get'

2017-10-09 19:41:50.322752 WARNING ------------------------------------------------------------
2017-10-09 19:42:31.432850 WARNING ------------------------------------------------------------
2017-10-09 19:42:31.443340 WARNING Unexpected error in worker for App Telegram:
2017-10-09 19:42:31.448269 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'turn on lamp'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5af8070>>, 'id': UUID('f64f7875-bf51-4101-94c7-41881ea31940'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-09 19:42:31.472718 WARNING ------------------------------------------------------------
2017-10-09 19:42:31.499118 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 153, in receive_telegram_text
    self.turn_on_off(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 464, in turn_on_off
    self.entity_turn_on_off(entity,friendly_name,isOn,payload_event)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 474, in entity_turn_on_off
    self.log("RUNNING STATE LISTENERS - <{}>".format(running_state_listeners))
NameError: name 'running_state_listeners' is not defined

2017-10-09 19:42:31.522714 WARNING ------------------------------------------------------------
2017-10-09 19:43:06.843407 WARNING ------------------------------------------------------------
2017-10-09 19:43:06.852704 WARNING Unexpected error in worker for App Telegram:
2017-10-09 19:43:06.862533 WARNING Worker Ags: {'name': 'Telegram', 'type': 'timer', 'kwargs': {'listen_handle': UUID('da0895f3-a5ff-4a18-b060-d1ec098e5e42'), 'service_handle': [{'last_updated': '2017-10-09T17:43:04.252117+00:00', 'attributes': {'friendly_name': 'Desk Lamp', 'telegram_name': 'Lamp', 'supported_features': 0, 'assumed_state': False}, 'last_changed': '2017-10-09T17:43:04.252117+00:00', 'entity_id': 'light.lamp', 'state': 'off'}]}, 'function': <bound method TelegramBotEventListener.cancel_handle of <telegram.TelegramBotEventListener object at 0xad5471d0>>, 'id': UUID('a94fcc9c-4bee-43b0-85a7-47ea66b6d5f0')}
2017-10-09 19:43:06.865748 WARNING ------------------------------------------------------------
2017-10-09 19:43:06.880824 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 517, in cancel_handle
    self.running_state_listeners.remove(entity)
AttributeError: 'dict' object has no attribute 'remove'

2017-10-09 19:43:06.894219 WARNING ------------------------------------------------------------
2017-10-09 19:49:22.365290 WARNING ------------------------------------------------------------
2017-10-09 19:49:22.465353 WARNING Unexpected error in worker for App Telegram:
2017-10-09 19:49:22.574090 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'turn on lamp'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb59811d0>>, 'id': UUID('f9708ce8-5cc6-40e3-9940-a426318e1271'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-09 19:49:22.674350 WARNING ------------------------------------------------------------
2017-10-09 19:49:22.739704 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 153, in receive_telegram_text
    self.turn_on_off(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 464, in turn_on_off
    self.entity_turn_on_off(entity,friendly_name,isOn,payload_event)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 477, in entity_turn_on_off
    time, interval, kwargs = self.info_timer(timer_handle)
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appapi.py", line 717, in info_timer
    raise ValueError("Invalid handle: {}".format(handle))
ValueError: Invalid handle: bbf0f0e4-f04c-4e1a-927f-78806d320e17

2017-10-09 19:49:22.942892 WARNING ------------------------------------------------------------
2017-10-09 20:07:53.898589 WARNING ------------------------------------------------------------
2017-10-09 20:07:53.913346 WARNING Unexpected error during loading of telegram.py:
2017-10-09 20:07:53.917522 WARNING ------------------------------------------------------------
2017-10-09 20:07:53.929014 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 476
    self.call_service("telegram_bot/send_message",
                                                 ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 20:07:53.942725 WARNING ------------------------------------------------------------
2017-10-09 20:08:13.499950 WARNING ------------------------------------------------------------
2017-10-09 20:08:13.513231 WARNING Unexpected error in worker for App Telegram:
2017-10-09 20:08:13.525305 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'turn off desk'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5788490>>, 'id': UUID('6684cc70-4674-4680-baec-75311c76d127'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-09 20:08:13.539125 WARNING ------------------------------------------------------------
2017-10-09 20:08:13.570697 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 153, in receive_telegram_text
    self.turn_on_off(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 464, in turn_on_off
    self.entity_turn_on_off(entity,friendly_name,isOn,payload_event)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 475, in entity_turn_on_off
    if entity_id in self.running_state_listeners.append(entity_id):
AttributeError: 'dict' object has no attribute 'append'

2017-10-09 20:08:13.592414 WARNING ------------------------------------------------------------
2017-10-09 20:08:31.444420 WARNING ------------------------------------------------------------
2017-10-09 20:08:31.462963 WARNING Unexpected error in worker for App Telegram:
2017-10-09 20:08:31.466969 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'turn off desk'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5780290>>, 'id': UUID('81a2e72a-d8af-4d3d-876c-f44e7aa6895c'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-09 20:08:31.472685 WARNING ------------------------------------------------------------
2017-10-09 20:08:31.515802 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 153, in receive_telegram_text
    self.turn_on_off(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 464, in turn_on_off
    self.entity_turn_on_off(entity,friendly_name,isOn,payload_event)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 473, in entity_turn_on_off
    timer_handle = self.running_state_listeners.get(entity_id)
AttributeError: 'list' object has no attribute 'get'

2017-10-09 20:08:31.532705 WARNING ------------------------------------------------------------
2017-10-09 20:37:47.917328 WARNING ------------------------------------------------------------
2017-10-09 20:37:47.933497 WARNING Unexpected error during loading of telegram.py:
2017-10-09 20:37:47.937643 WARNING ------------------------------------------------------------
2017-10-09 20:37:47.954801 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 491
    self.running_state_listeners |= set(entity_id)
                                                 ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 20:37:47.965002 WARNING ------------------------------------------------------------
2017-10-09 20:39:07.909509 WARNING ------------------------------------------------------------
2017-10-09 20:39:07.942730 WARNING Unexpected error in worker for App Telegram:
2017-10-09 20:39:07.948603 WARNING Worker Ags: {'event': 'telegram_text', 'data': {'from_last': 'Dav', 'from_first': 'Legendary', 'chat_id': 396287366, 'user_id': 396287366, 'text': 'lights'}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5b43750>>, 'id': UUID('69f0f051-c727-4633-a1ec-ec4f114612a6'), 'name': 'Telegram', 'kwargs': {}, 'type': 'event'}
2017-10-09 20:39:07.958996 WARNING ------------------------------------------------------------
2017-10-09 20:39:07.998313 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 153, in receive_telegram_text
    self.turn_on_off(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 432, in turn_on_off
    self.entity_turn_on_off(entities,entity,isOn,payload_event)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 481, in entity_turn_on_off
    if entity_id in self.running_state_listeners:
TypeError: unhashable type: 'list'

2017-10-09 20:39:08.012720 WARNING ------------------------------------------------------------
2017-10-09 20:41:44.843904 WARNING ------------------------------------------------------------
2017-10-09 20:41:44.853459 WARNING Unexpected error in worker for App Telegram:
2017-10-09 20:41:44.864929 WARNING Worker Ags: {'name': 'Telegram', 'type': 'timer', 'kwargs': {'listen_handle': UUID('eff532b0-e5da-4066-9d5d-9168d7640d07'), 'service_handle': [{'last_updated': '2017-10-09T18:41:38.191032+00:00', 'attributes': {'min_mireds': 154, 'friendly_name': 'Desk Lamp', 'supported_features': 0, 'telegram_name': 'Lamp', 'max_mireds': 500, 'assumed_state': False}, 'last_changed': '2017-10-09T18:41:38.191032+00:00', 'entity_id': 'light.lamp', 'state': 'on'}, {'last_updated': '2017-10-09T18:41:37.640587+00:00', 'attributes': {'friendly_name': 'Kitchen Sensors', 'order': 9, 'entity_id': ['binary_sensor.living_room_door'], 'assumed_state': False}, 'last_changed': '2017-10-09T18:41:37.640587+00:00', 'entity_id': 'group.zone_kitchen', 'state': 'on'}, {'last_updated': '2017-10-09T18:41:37.876657+00:00', 'attributes': {'friendly_name': 'Bathroom', 'control': 'hidden', 'order': 1, 'entity_id': ['light.bathroom_light', 'switch.geyser'], 'assumed_state': False}, 'last_changed': '2017-10-09T18:41:37.876657+00:00', 'entity_id': 'group.bathroom', 'state': 'on'}, {'last_updated': '2017-10-09T18:41:39.618505+00:00', 'attributes': {'friendly_name': 'Front Door', 'device_class': 'opening'}, 'last_changed': '2017-10-09T18:41:39.618505+00:00', 'entity_id': 'binary_sensor.front_door', 'state': 'on'}, {'last_updated': '2017-10-09T18:41:39.008977+00:00', 'attributes': {'view': True, 'friendly_name': 'Security', 'hidden': True, 'order': 6, 'entity_id': ['group.zone_garage', 'group.zone_living_room', 'group.zone_kitchen', 'group.zone_upstairs', 'group.zone_downstairs', 'group.zone_outside'], 'assumed_state': False}, 'last_changed': '2017-10-09T18:41:39.008977+00:00', 'entity_id': 'group.security', 'state': 'on'}, {'last_updated': '2017-10-09T18:41:37.526655+00:00', 'attributes': {'friendly_name': 'Living Room Sensors', 'order': 8, 'entity_id': ['binary_sensor.kitchen_window', 'binary_sensor.living_room_door'], 'assumed_state': False}, 'last_changed': '2017-10-09T18:41:37.526655+00:00', 'entity_id': 'group.zone_living_room', 'state': 'on'}, {'last_updated': '2017-10-09T18:41:39.318849+00:00', 'attributes': {'friendly_name': 'Upstairs Sensors', 'order': 10, 'entity_id': ['binary_sensor.kitchen_window', 'binary_sensor.garage_door'], 'assumed_state': False}, 'last_changed': '2017-10-09T18:41:39.318849+00:00', 'entity_id': 'group.zone_upstairs', 'state': 'on'}, {'last_updated': '2017-10-09T18:41:36.549739+00:00', 'attributes': {'icon': 'mdi:home', 'friendly_name': 'Living Room', 'control': 'hidden', 'order': 0, 'entity_id': ['light.lamp', 'switch.main_light', 'switch.living_room_outlet_1', 'switch.living_room_outlet_2'], 'assumed_state': True}, 'last_changed': '2017-10-09T18:41:36.549739+00:00', 'entity_id': 'group.living_room', 'state': 'on'}, {'last_updated': '2017-10-09T18:41:36.213303+00:00', 'attributes': {'friendly_name': 'Main Light', 'telegram_name': 'Main Light', 'statefull': False, 'assumed_state': True}, 'last_changed': '2017-10-09T18:41:36.213303+00:00', 'entity_id': 'switch.main_light', 'state': 'on'}, {'last_updated': '2017-10-09T18:41:37.991535+00:00', 'attributes': {'friendly_name': 'Garage Door', 'device_class': 'opening'}, 'last_changed': '2017-10-09T18:41:37.991535+00:00', 'entity_id': 'binary_sensor.garage_door', 'state': 'on'}, {'last_updated': '2017-10-09T18:41:38.059044+00:00', 'attributes': {'friendly_name': 'all lights', 'auto': True, 'order': 13, 'hidden': True, 'entity_id': ['light.lifx_light_14e35a', 'light.lamp', 'light.bathroom_light'], 'assumed_state': False}, 'last_changed': '2017-10-09T18:41:38.059044+00:00', 'entity_id': 'group.all_lights', 'state': 'on'}, {'last_updated': '2017-10-09T18:41:36.865663+00:00', 'attributes': {'min_mireds': 154, 'friendly_name': 'Bathroom Light', 'color_temp': 250.0, 'supported_features': 63, 'brightness': 255.0, 'rgb_color': [255, 67.92041905680745, 0], 'effect_list': ['Disco', 'Slow Temp', 'Strobe epilepsy!', 'Strobe color', 'Alarm', 'Police', 'Police2', 'Christmas', 'RGB', 'Random Loop', 'Fast Random Loop', 'Slowdown', 'WhatsApp', 'Facebook', 'Twitter', 'Stop'], 'telegram_name': 'Bathroom', 'max_mireds': 500}, 'last_changed': '2017-10-09T18:41:36.865663+00:00', 'entity_id': 'light.bathroom_light', 'state': 'on'}, {'last_updated': '2017-10-09T18:41:39.397537+00:00', 'attributes': {'friendly_name': 'Downstairs Sensors', 'order': 11, 'entity_id': ['binary_sensor.garage_door'], 'assumed_state': False}, 'last_changed': '2017-10-09T18:41:39.397537+00:00', 'entity_id': 'group.zone_downstairs', 'state': 'on'}, {'last_updated': '2017-10-09T18:41:36.677851+00:00', 'attributes': {'friendly_name': 'Living Room Door', 'device_class': 'opening'}, 'last_changed': '2017-10-09T18:41:36.677851+00:00', 'entity_id': 'binary_sensor.living_room_door', 'state': 'on'}, {'last_updated': '2017-10-09T18:41:37.777615+00:00', 'attributes': {'friendly_name': 'Outside Sensors', 'order': 12, 'entity_id': ['binary_sensor.garage_door', 'binary_sensor.living_room_door'], 'assumed_state': False}, 'last_changed': '2017-10-09T18:41:37.777615+00:00', 'entity_id': 'group.zone_outside', 'state': 'on'}]}, 'function': <bound method TelegramBotEventListener.cancel_handle of <telegram.TelegramBotEventListener object at 0xb5ac1570>>, 'id': UUID('4345f108-b299-4c3a-b46c-69af6c29e1fb')}
2017-10-09 20:41:44.874739 WARNING ------------------------------------------------------------
2017-10-09 20:41:44.890486 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 532, in cancel_handle
    self.running_state_listeners.remove(entity)
TypeError: unhashable type: 'list'

2017-10-09 20:41:44.914563 WARNING ------------------------------------------------------------
2017-10-09 20:50:51.908304 WARNING ------------------------------------------------------------
2017-10-09 20:50:51.916471 WARNING Unexpected error during loading of telegram.py:
2017-10-09 20:50:51.925449 WARNING ------------------------------------------------------------
2017-10-09 20:50:51.937786 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 499
    self.running_state_listeners.remove(entity_id)
                                                 ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 20:50:51.957166 WARNING ------------------------------------------------------------
2017-10-09 20:50:52.929275 WARNING ------------------------------------------------------------
2017-10-09 20:50:52.941959 WARNING Unexpected error during loading of telegram.py:
2017-10-09 20:50:52.951938 WARNING ------------------------------------------------------------
2017-10-09 20:50:52.965571 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 499
    self.running_state_listeners.remove(entity_id)
                                                 ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 20:50:52.977560 WARNING ------------------------------------------------------------
2017-10-09 21:04:40.899794 WARNING ------------------------------------------------------------
2017-10-09 21:04:40.912750 WARNING Unexpected error during loading of telegram.py:
2017-10-09 21:04:40.915741 WARNING ------------------------------------------------------------
2017-10-09 21:04:40.921411 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 480
    self.log("ERROR - {}".format(delay))
                                       ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 21:04:40.935010 WARNING ------------------------------------------------------------
2017-10-09 21:04:50.910037 WARNING ------------------------------------------------------------
2017-10-09 21:04:50.925061 WARNING Unexpected error during loading of telegram.py:
2017-10-09 21:04:50.929790 WARNING ------------------------------------------------------------
2017-10-09 21:04:50.954050 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 480
    self.log("ERROR - {}".format(delay))
                                       ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 21:04:50.957785 WARNING ------------------------------------------------------------
2017-10-09 21:04:59.906852 WARNING ------------------------------------------------------------
2017-10-09 21:04:59.914822 WARNING Unexpected error during loading of telegram.py:
2017-10-09 21:04:59.922694 WARNING ------------------------------------------------------------
2017-10-09 21:04:59.936660 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 480
    self.log("ERROR - {}".format(delay))
                                       ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-09 21:04:59.950108 WARNING ------------------------------------------------------------
2017-10-12 13:41:11.159714 WARNING ------------------------------------------------------------
2017-10-12 13:41:11.174555 WARNING Unexpected error during loading of telegram.py:
2017-10-12 13:41:11.182828 WARNING ------------------------------------------------------------
2017-10-12 13:41:11.207772 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 38
    "Done {}".format(random.choice(thumbs))					:"done1"
                                           					^
SyntaxError: invalid syntax

2017-10-12 13:41:11.210457 WARNING ------------------------------------------------------------
2017-10-12 13:42:26.141196 WARNING ------------------------------------------------------------
2017-10-12 13:42:26.153919 WARNING Unexpected error during loading of telegram.py:
2017-10-12 13:42:26.164082 WARNING ------------------------------------------------------------
2017-10-12 13:42:26.169684 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 38
    "Done {}".format(random.choice(thumbs))					:"done1"
                                           					^
SyntaxError: invalid syntax

2017-10-12 13:42:26.172278 WARNING ------------------------------------------------------------
2017-10-12 13:43:36.132545 WARNING ------------------------------------------------------------
2017-10-12 13:43:36.143884 WARNING Unexpected error during loading of telegram.py:
2017-10-12 13:43:36.146499 WARNING ------------------------------------------------------------
2017-10-12 13:43:36.151671 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 38
    "Done {}".format(random.choice(thumbs))					:"done1"
                                           					^
SyntaxError: invalid syntax

2017-10-12 13:43:36.164854 WARNING ------------------------------------------------------------
2017-10-12 13:43:37.140071 WARNING ------------------------------------------------------------
2017-10-12 13:43:37.153207 WARNING Unexpected error during loading of telegram.py:
2017-10-12 13:43:37.156191 WARNING ------------------------------------------------------------
2017-10-12 13:43:37.173666 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 38
    "Done {}".format(random.choice(thumbs))					:"done1"
                                           					^
SyntaxError: invalid syntax

2017-10-12 13:43:37.176280 WARNING ------------------------------------------------------------
2017-10-12 13:44:24.034157 WARNING ------------------------------------------------------------
2017-10-12 13:44:24.053878 WARNING Unexpected error in worker for App Telegram:
2017-10-12 13:44:24.057034 WARNING Worker Ags: {'new_state': 'on', 'name': 'Telegram', 'function': <bound method TelegramBotEventListener.entity_state_change of <telegram.TelegramBotEventListener object at 0xb5a92a10>>, 'entity': 'switch.main_light', 'attribute': 'state', 'kwargs': {'isOn': True, 'payload_event': {'text': 'turn on main light', 'chat_id': 444908880, 'from_last': 'Dav', 'from_first': 'Ultimate', 'user_id': 444908880}, 'state_mode': False, 'friendly_name': 'main light'}, 'id': UUID('40447230-5596-489c-a5d1-1541d2914776'), 'type': 'attr', 'old_state': 'off'}
2017-10-12 13:44:24.059482 WARNING ------------------------------------------------------------
2017-10-12 13:44:24.213281 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 534, in entity_state_change
    message = "{}\n{} is {}".format(ALARM_KEYBOARD['done'],friendly_name.title(),new)
KeyError: 'done'

2017-10-12 13:44:24.236194 WARNING ------------------------------------------------------------
2017-10-12 13:44:51.813946 WARNING ------------------------------------------------------------
2017-10-12 13:44:51.836204 WARNING Unexpected error in worker for App Telegram:
2017-10-12 13:44:51.855274 WARNING Worker Ags: {'new_state': 'off', 'name': 'Telegram', 'function': <bound method TelegramBotEventListener.entity_state_change of <telegram.TelegramBotEventListener object at 0xb5a92a10>>, 'entity': 'switch.main_light', 'attribute': 'state', 'kwargs': {'isOn': False, 'payload_event': {'text': 'turn off main light', 'chat_id': 444908880, 'from_last': 'Dav', 'from_first': 'Ultimate', 'user_id': 444908880}, 'state_mode': False, 'friendly_name': 'main light'}, 'id': UUID('40447230-5596-489c-a5d1-1541d2914776'), 'type': 'attr', 'old_state': 'on'}
2017-10-12 13:44:51.857960 WARNING ------------------------------------------------------------
2017-10-12 13:44:51.861778 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 534, in entity_state_change
    message = "{}\n{} is {}".format(ALARM_KEYBOARD['done'],friendly_name.title(),new)
KeyError: 'done'

2017-10-12 13:44:51.919909 WARNING ------------------------------------------------------------
2017-10-12 13:45:15.564073 WARNING ------------------------------------------------------------
2017-10-12 13:45:15.588455 WARNING Unexpected error in worker for App Telegram:
2017-10-12 13:45:15.591548 WARNING Worker Ags: {'new_state': 'on', 'name': 'Telegram', 'function': <bound method TelegramBotEventListener.entity_state_change of <telegram.TelegramBotEventListener object at 0xb5a92a10>>, 'entity': 'switch.main_light', 'attribute': 'state', 'kwargs': {'isOn': True, 'payload_event': {'text': 'turn on main light', 'chat_id': 444908880, 'from_last': 'Dav', 'from_first': 'Ultimate', 'user_id': 444908880}, 'state_mode': False, 'friendly_name': 'main light'}, 'id': UUID('40447230-5596-489c-a5d1-1541d2914776'), 'type': 'attr', 'old_state': 'off'}
2017-10-12 13:45:15.634485 WARNING ------------------------------------------------------------
2017-10-12 13:45:15.638484 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 534, in entity_state_change
    message = "{}\n{} is {}".format(ALARM_KEYBOARD['done'],friendly_name.title(),new)
KeyError: 'done'

2017-10-12 13:45:15.641090 WARNING ------------------------------------------------------------
2017-10-12 13:55:48.131650 WARNING ------------------------------------------------------------
2017-10-12 13:55:48.148634 WARNING Unexpected error during loading of telegram.py:
2017-10-12 13:55:48.151129 WARNING ------------------------------------------------------------
2017-10-12 13:55:48.162515 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 8
    thumbs = ["{}{}".format(u'\U0001f44d',u'\U0001f3ff'),"{}{}".format(u'\U0001f44d',u'\U0001f3fe'), "{}{}".format(u'\U0001f44d',u'\U0001f3fd'), "{}{}".format(u'\U0001f44d',u'\U0001f3fc')u'\U0001f3fc', "{}{}".format(u'\U0001f44d',u'\U0001f3fc'), "{}".format(u'\U0001f44d')]
                                                                                                                                                                                                       ^
SyntaxError: invalid syntax

2017-10-12 13:55:48.175556 WARNING ------------------------------------------------------------
2017-10-12 14:03:18.436401 WARNING ------------------------------------------------------------
2017-10-12 14:03:18.452789 WARNING Unexpected error in worker for App Telegram:
2017-10-12 14:03:18.456060 WARNING Worker Ags: {'new_state': 'on', 'name': 'Telegram', 'function': <bound method TelegramBotEventListener.entity_state_change of <telegram.TelegramBotEventListener object at 0xb59421f0>>, 'entity': 'switch.main_light', 'attribute': 'state', 'kwargs': {'isOn': True, 'payload_event': {'text': 'turn on main light', 'chat_id': 444908880, 'from_last': 'Dav', 'from_first': 'Ultimate', 'user_id': 444908880}, 'state_mode': False, 'friendly_name': 'main light'}, 'id': UUID('da084fec-c2c4-450b-bd59-d80179c07453'), 'type': 'attr', 'old_state': 'off'}
2017-10-12 14:03:18.458638 WARNING ------------------------------------------------------------
2017-10-12 14:03:18.584127 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/random.py", line 253, in choice
    i = self._randbelow(len(seq))
  File "/srv/homeassistant/lib/python3.4/random.py", line 230, in _randbelow
    r = getrandbits(k)          # 0 <= r < 2**k
ValueError: number of bits must be greater than zero

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 534, in entity_state_change
    message = "{}{}\n{} is {}".format(ALARM_KEYBOARD_REVERSED['done1'],random.choice(fingers), friendly_name.title(),new)
  File "/srv/homeassistant/lib/python3.4/random.py", line 255, in choice
    raise IndexError('Cannot choose from an empty sequence')
IndexError: Cannot choose from an empty sequence

2017-10-12 14:03:18.586740 WARNING ------------------------------------------------------------
2017-10-12 14:03:25.784277 WARNING ------------------------------------------------------------
2017-10-12 14:03:25.786807 WARNING Unexpected error in worker for App Telegram:
2017-10-12 14:03:25.789728 WARNING Worker Ags: {'new_state': 'off', 'name': 'Telegram', 'function': <bound method TelegramBotEventListener.entity_state_change of <telegram.TelegramBotEventListener object at 0xb59421f0>>, 'entity': 'switch.main_light', 'attribute': 'state', 'kwargs': {'isOn': False, 'payload_event': {'text': 'turn off main light', 'chat_id': 444908880, 'from_last': 'Dav', 'from_first': 'Ultimate', 'user_id': 444908880}, 'state_mode': False, 'friendly_name': 'main light'}, 'id': UUID('da084fec-c2c4-450b-bd59-d80179c07453'), 'type': 'attr', 'old_state': 'on'}
2017-10-12 14:03:25.835491 WARNING ------------------------------------------------------------
2017-10-12 14:03:25.841006 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/random.py", line 253, in choice
    i = self._randbelow(len(seq))
  File "/srv/homeassistant/lib/python3.4/random.py", line 230, in _randbelow
    r = getrandbits(k)          # 0 <= r < 2**k
ValueError: number of bits must be greater than zero

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 534, in entity_state_change
    message = "{}{}\n{} is {}".format(ALARM_KEYBOARD_REVERSED['done1'],random.choice(fingers), friendly_name.title(),new)
  File "/srv/homeassistant/lib/python3.4/random.py", line 255, in choice
    raise IndexError('Cannot choose from an empty sequence')
IndexError: Cannot choose from an empty sequence

2017-10-12 14:03:25.868829 WARNING ------------------------------------------------------------
2017-10-12 14:03:45.774097 WARNING ------------------------------------------------------------
2017-10-12 14:03:45.793869 WARNING Unexpected error in worker for App Telegram:
2017-10-12 14:03:45.796860 WARNING Worker Ags: {'new_state': 'on', 'name': 'Telegram', 'function': <bound method TelegramBotEventListener.entity_state_change of <telegram.TelegramBotEventListener object at 0xb59421f0>>, 'entity': 'switch.main_light', 'attribute': 'state', 'kwargs': {'isOn': True, 'payload_event': {'text': 'turn on main light', 'chat_id': 444908880, 'from_last': 'Dav', 'from_first': 'Ultimate', 'user_id': 444908880}, 'state_mode': False, 'friendly_name': 'main light'}, 'id': UUID('da084fec-c2c4-450b-bd59-d80179c07453'), 'type': 'attr', 'old_state': 'off'}
2017-10-12 14:03:45.799413 WARNING ------------------------------------------------------------
2017-10-12 14:03:45.849431 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/random.py", line 253, in choice
    i = self._randbelow(len(seq))
  File "/srv/homeassistant/lib/python3.4/random.py", line 230, in _randbelow
    r = getrandbits(k)          # 0 <= r < 2**k
ValueError: number of bits must be greater than zero

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 525, in worker
    ha.sanitize_state_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 534, in entity_state_change
    message = "{}{}\n{} is {}".format(ALARM_KEYBOARD_REVERSED['done1'],random.choice(fingers), friendly_name.title(),new)
  File "/srv/homeassistant/lib/python3.4/random.py", line 255, in choice
    raise IndexError('Cannot choose from an empty sequence')
IndexError: Cannot choose from an empty sequence

2017-10-12 14:03:45.870563 WARNING ------------------------------------------------------------
2017-10-12 16:07:17.844714 WARNING ------------------------------------------------------------
2017-10-12 16:07:17.884195 WARNING Unexpected error in worker for App Telegram:
2017-10-12 16:07:17.888461 WARNING Worker Ags: {'name': 'Telegram', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5a92870>>, 'data': {'text': 'Turn off Main Light', 'from_first': 'Ultimate', 'date': 1508112317, 'chat_id': 444908880, 'from_last': 'Dav', 'user_id': 444908880}, 'event': 'telegram_text', 'kwargs': {}, 'id': UUID('9fbded6b-86f5-4d47-a607-ca2ad7ce1fc2'), 'type': 'event'}
2017-10-12 16:07:17.905609 WARNING ------------------------------------------------------------
2017-10-12 16:07:17.951173 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 146, in receive_telegram_text
    age_of_text = (timestamp_now - timestamp_text).total_seconds()
TypeError: unsupported operand type(s) for -: 'datetime.date' and 'datetime.datetime'

2017-10-12 16:07:17.985008 WARNING ------------------------------------------------------------
2017-10-12 16:20:18.559958 WARNING ------------------------------------------------------------
2017-10-12 16:20:18.599731 WARNING Unexpected error in worker for App Telegram:
2017-10-12 16:20:18.606255 WARNING Worker Ags: {'name': 'Telegram', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb59447b0>>, 'data': {'text': 'Turn off Main Light', 'from_first': 'Ultimate', 'date': 1508113097, 'chat_id': 444908880, 'from_last': 'Dav', 'user_id': 444908880}, 'event': 'telegram_text', 'kwargs': {}, 'id': UUID('4c01f9f5-f9b6-45a5-8c16-f841ab0f976b'), 'type': 'event'}
2017-10-12 16:20:18.608811 WARNING ------------------------------------------------------------
2017-10-12 16:20:18.668642 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 145, in receive_telegram_text
    timestamp_now = datetime()
TypeError: 'module' object is not callable

2017-10-12 16:20:18.683887 WARNING ------------------------------------------------------------
2017-10-12 16:21:57.934467 WARNING ------------------------------------------------------------
2017-10-12 16:21:57.949527 WARNING Unexpected error in worker for App Telegram:
2017-10-12 16:21:57.983278 WARNING Worker Ags: {'name': 'Telegram', 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5b17fd0>>, 'data': {'text': 'Turn off Main Light', 'from_first': 'Ultimate', 'date': 1508113197, 'chat_id': 444908880, 'from_last': 'Dav', 'user_id': 444908880}, 'event': 'telegram_text', 'kwargs': {}, 'id': UUID('d6a96a74-37d1-4ac3-a538-83d2bf92ad52'), 'type': 'event'}
2017-10-12 16:21:58.000359 WARNING ------------------------------------------------------------
2017-10-12 16:21:58.031359 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 145, in receive_telegram_text
    timestamp_now = datetime.now()
AttributeError: 'module' object has no attribute 'now'

2017-10-12 16:21:58.061916 WARNING ------------------------------------------------------------
2017-10-16 02:37:11.368545 WARNING ------------------------------------------------------------
2017-10-16 02:37:11.381713 WARNING Unexpected error during loading of telegram.py:
2017-10-16 02:37:11.384372 WARNING ------------------------------------------------------------
2017-10-16 02:37:11.397806 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 149
    return
         ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-16 02:37:11.405752 WARNING ------------------------------------------------------------
2017-10-16 02:42:05.424545 WARNING ------------------------------------------------------------
2017-10-16 02:42:05.439379 WARNING Unexpected error in worker for App Telegram:
2017-10-16 02:42:05.462004 WARNING Worker Ags: {'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb595d810>>, 'data': {'text': 'Turn on Lamp', 'from_last': 'Dav', 'date': 1508114525, 'chat_id': 444908880, 'user_id': 444908880, 'from_first': 'Ultimate'}, 'event': 'telegram_text', 'kwargs': {}, 'id': UUID('08e7c6ba-e603-445b-bf26-091cc963b578'), 'type': 'event', 'name': 'Telegram'}
2017-10-16 02:42:05.472569 WARNING ------------------------------------------------------------
2017-10-16 02:42:05.494914 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 150, in receive_telegram_text
    self.errorMessage("[{}] - {}".format(age_of_text,str(payload_event)))
TypeError: errorMessage() missing 1 required positional argument: 'error_text'

2017-10-16 02:42:05.497489 WARNING ------------------------------------------------------------
2017-10-16 03:53:29.714305 WARNING ------------------------------------------------------------
2017-10-16 03:53:29.730430 WARNING Unexpected error in worker for App Telegram:
2017-10-16 03:53:29.743297 WARNING Worker Ags: {'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5a92930>>, 'data': {'text': 'Turn off Main Light', 'from_last': 'Dav', 'data': 1508118808, 'chat_id': 444908880, 'user_id': 444908880, 'from_first': 'Ultimate'}, 'event': 'telegram_text', 'kwargs': {}, 'id': UUID('6976db3d-c708-481d-8938-3ac0ae13932a'), 'type': 'event', 'name': 'Telegram'}
2017-10-16 03:53:29.765043 WARNING ------------------------------------------------------------
2017-10-16 03:53:29.807920 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 144, in receive_telegram_text
    timestamp_text = datetime.datetime.fromtimestamp(payload_event['date'])
KeyError: 'date'

2017-10-16 03:53:29.843848 WARNING ------------------------------------------------------------
2017-10-16 04:02:44.686057 WARNING ------------------------------------------------------------
2017-10-16 04:02:44.715158 WARNING Unexpected error in worker for App Telegram:
2017-10-16 04:02:44.734455 WARNING Worker Ags: {'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5a92930>>, 'data': {'text': 'Turn off Main Light', 'from_last': 'Dav', 'data': 1508119364, 'chat_id': 444908880, 'user_id': 444908880, 'from_first': 'Ultimate'}, 'event': 'telegram_text', 'kwargs': {}, 'id': UUID('6976db3d-c708-481d-8938-3ac0ae13932a'), 'type': 'event', 'name': 'Telegram'}
2017-10-16 04:02:44.736943 WARNING ------------------------------------------------------------
2017-10-16 04:02:44.740780 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 144, in receive_telegram_text
    timestamp_text = datetime.datetime.fromtimestamp(payload_event['date'])
KeyError: 'date'

2017-10-16 04:02:44.765856 WARNING ------------------------------------------------------------
2017-10-16 22:13:25.699601 WARNING ------------------------------------------------------------
2017-10-16 22:13:25.702150 WARNING Unexpected error in worker for App Telegram:
2017-10-16 22:13:25.705712 WARNING Worker Ags: {'function': <bound method TelegramBotEventListener.cancel_handle of <telegram.TelegramBotEventListener object at 0xb5b65cd0>>, 'id': UUID('abe637c1-89c6-44e2-aaa6-e8d3aed4ae47'), 'kwargs': {'service_handle': [{'last_changed': '2017-10-16T20:13:23.017269+00:00', 'last_updated': '2017-10-16T20:13:23.017269+00:00', 'state': 'off', 'attributes': {'device_class': 'opening', 'friendly_name': 'Front Door'}, 'entity_id': 'binary_sensor.front_door'}, {'last_changed': '2017-10-16T20:13:22.883049+00:00', 'last_updated': '2017-10-16T20:13:22.883049+00:00', 'state': 'off', 'attributes': {'supported_features': 0, 'assumed_state': False, 'telegram_name': 'Lamp', 'friendly_name': 'Desk Lamp'}, 'entity_id': 'light.lamp'}, {'last_changed': '2017-10-16T20:13:22.971162+00:00', 'last_updated': '2017-10-16T20:13:22.971162+00:00', 'state': 'off', 'attributes': {'order': 0, 'friendly_name': 'Living Room', 'control': 'hidden', 'assumed_state': True, 'entity_id': ['light.lamp', 'switch.main_light', 'switch.living_room_outlet_1', 'switch.living_room_outlet_2'], 'icon': 'mdi:home'}, 'entity_id': 'group.living_room'}, {'last_changed': '2017-10-16T20:13:23.061044+00:00', 'last_updated': '2017-10-16T20:13:23.061044+00:00', 'state': 'off', 'attributes': {'order': 14, 'friendly_name': 'all lights', 'hidden': True, 'assumed_state': False, 'entity_id': ['light.lifx_light_14e35a', 'light.lamp', 'light.bathroom_light'], 'auto': True}, 'entity_id': 'group.all_lights'}], 'listen_handle': UUID('378fe6f5-04a6-432e-b252-b8c8ad5a9a8d')}, 'name': 'Telegram', 'type': 'timer'}
2017-10-16 22:13:25.708211 WARNING ------------------------------------------------------------
2017-10-16 22:13:25.712168 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 581, in cancel_handle
    if KEY_ON_OFF[state] != isOn:
KeyError: 'unavailable'

2017-10-16 22:13:25.714873 WARNING ------------------------------------------------------------
2017-10-17 05:23:48.915934 WARNING ------------------------------------------------------------
2017-10-17 05:23:48.939807 WARNING Unexpected error in worker for App Telegram:
2017-10-17 05:23:48.959489 WARNING Worker Ags: {'function': <bound method TelegramBotEventListener.cancel_handle of <telegram.TelegramBotEventListener object at 0xb5a92f50>>, 'id': UUID('0fcf06ed-7bee-4387-8290-c898b4755001'), 'kwargs': {'service_handle': [{'last_changed': '2017-10-17T03:23:45.588177+00:00', 'last_updated': '2017-10-17T03:23:45.588177+00:00', 'state': 'off', 'attributes': {'order': 0, 'friendly_name': 'Living Room', 'control': 'hidden', 'assumed_state': True, 'entity_id': ['light.lamp', 'switch.main_light', 'switch.living_room_outlet_1', 'switch.living_room_outlet_2'], 'icon': 'mdi:home'}, 'entity_id': 'group.living_room'}, {'last_changed': '2017-10-17T03:23:45.981653+00:00', 'last_updated': '2017-10-17T03:23:45.981653+00:00', 'state': 'off', 'attributes': {'order': 5, 'friendly_name': 'Rooms', 'view': True, 'hidden': True, 'assumed_state': True, 'entity_id': ['group.living_room', 'group.bathroom', 'group.bedroom', 'group.kitchen']}, 'entity_id': 'group.rooms'}, {'last_changed': '2017-10-17T03:23:45.674864+00:00', 'last_updated': '2017-10-17T03:23:45.674864+00:00', 'state': 'off', 'attributes': {'device_class': 'opening', 'friendly_name': 'Front Door'}, 'entity_id': 'binary_sensor.front_door'}, {'last_changed': '2017-10-17T03:23:45.192218+00:00', 'last_updated': '2017-10-17T03:23:45.192218+00:00', 'state': 'off', 'attributes': {'supported_features': 0, 'assumed_state': False, 'telegram_name': 'Lamp', 'friendly_name': 'Desk Lamp'}, 'entity_id': 'light.lamp'}], 'listen_handle': UUID('6431a38d-5ec5-4f85-9201-adb16072b11b')}, 'name': 'Telegram', 'type': 'timer'}
2017-10-17 05:23:48.962194 WARNING ------------------------------------------------------------
2017-10-17 05:23:48.986482 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 518, in worker
    function(ha.sanitize_timer_kwargs(args["kwargs"]))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 581, in cancel_handle
    if KEY_ON_OFF[state] != isOn:
KeyError: 'unavailable'

2017-10-17 05:23:49.018751 WARNING ------------------------------------------------------------
2017-10-18 04:34:39.957055 WARNING ------------------------------------------------------------
2017-10-18 04:34:39.965935 WARNING Unexpected error during loading of telegram.py:
2017-10-18 04:34:39.972912 WARNING ------------------------------------------------------------
2017-10-18 04:34:39.995999 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 434
    if telegram_name is None:
    ^
IndentationError: unexpected indent

2017-10-18 04:34:39.999586 WARNING ------------------------------------------------------------
2017-10-18 04:34:56.909751 WARNING ------------------------------------------------------------
2017-10-18 04:34:56.923893 WARNING Unexpected error during loading of telegram.py:
2017-10-18 04:34:56.931741 WARNING ------------------------------------------------------------
2017-10-18 04:34:56.956181 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 434
    if telegram_name is None:
                            ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-18 04:34:56.961783 WARNING ------------------------------------------------------------
2017-10-18 04:35:00.909865 WARNING ------------------------------------------------------------
2017-10-18 04:35:00.925189 WARNING Unexpected error during loading of telegram.py:
2017-10-18 04:35:00.935067 WARNING ------------------------------------------------------------
2017-10-18 04:35:00.956787 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 435
    if telegram_name is None:
                            ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-18 04:35:00.962425 WARNING ------------------------------------------------------------
2017-10-18 04:49:28.301892 WARNING ------------------------------------------------------------
2017-10-18 04:49:28.315241 WARNING Unexpected error in worker for App Telegram:
2017-10-18 04:49:28.334434 WARNING Worker Ags: {'name': 'Telegram', 'event': 'telegram_text', 'data': {'chat_id': 444908880, 'date': 1508294967, 'data': 1508294967, 'text': 'turn off desk lamp', 'from_last': 'Dav', 'from_first': 'Ultimate', 'user_id': 444908880}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5c94570>>, 'type': 'event', 'kwargs': {}, 'id': UUID('c64955e9-0dbc-4026-ba5c-e1e3304b5a2b')}
2017-10-18 04:49:28.337920 WARNING ------------------------------------------------------------
2017-10-18 04:49:28.378106 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 169, in receive_telegram_text
    self.turn_on_off(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 473, in turn_on_off
    telegram_name = self.getTelegramName(entity).lower()
AttributeError: 'NoneType' object has no attribute 'lower'

2017-10-18 04:49:28.388583 WARNING ------------------------------------------------------------
2017-10-18 04:52:19.933826 WARNING ------------------------------------------------------------
2017-10-18 04:52:19.944400 WARNING Unexpected error during loading of telegram.py:
2017-10-18 04:52:19.963987 WARNING ------------------------------------------------------------
2017-10-18 04:52:19.969379 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 436
    telegram_name = "None"
                         ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-18 04:52:19.972054 WARNING ------------------------------------------------------------
2017-10-18 04:52:20.914659 WARNING ------------------------------------------------------------
2017-10-18 04:52:20.924527 WARNING Unexpected error during loading of telegram.py:
2017-10-18 04:52:20.943892 WARNING ------------------------------------------------------------
2017-10-18 04:52:20.949121 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 436
    telegram_name = "None"
                         ^
TabError: inconsistent use of tabs and spaces in indentation

2017-10-18 04:52:20.951836 WARNING ------------------------------------------------------------
2017-10-18 05:17:52.896854 WARNING ------------------------------------------------------------
2017-10-18 05:17:52.904576 WARNING Unexpected error during loading of telegram.py:
2017-10-18 05:17:52.914826 WARNING ------------------------------------------------------------
2017-10-18 05:17:52.920026 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 348
    self.call_service("telegram_bot/send_message",
       ^
SyntaxError: invalid syntax

2017-10-18 05:17:52.922618 WARNING ------------------------------------------------------------
2017-10-18 05:17:53.897076 WARNING ------------------------------------------------------------
2017-10-18 05:17:53.904512 WARNING Unexpected error during loading of telegram.py:
2017-10-18 05:17:53.917387 WARNING ------------------------------------------------------------
2017-10-18 05:17:53.935774 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 348
    self.call_service("telegram_bot/send_message",
       ^
SyntaxError: invalid syntax

2017-10-18 05:17:53.939427 WARNING ------------------------------------------------------------
2017-10-18 05:18:09.944256 WARNING ------------------------------------------------------------
2017-10-18 05:18:09.954808 WARNING Unexpected error during loading of telegram.py:
2017-10-18 05:18:09.958985 WARNING ------------------------------------------------------------
2017-10-18 05:18:09.977960 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 903, in read_app
    importlib.reload(conf.modules[module_name])
  File "/srv/homeassistant/lib/python3.4/importlib/__init__.py", line 149, in reload
    methods.exec(module)
  File "<frozen importlib._bootstrap>", line 1153, in exec
  File "<frozen importlib._bootstrap>", line 1129, in _exec
  File "<frozen importlib._bootstrap>", line 1467, in exec_module
  File "<frozen importlib._bootstrap>", line 1572, in get_code
  File "<frozen importlib._bootstrap>", line 1532, in source_to_code
  File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 628
    elif keyboard_type in KEYBOARD_STRUCTURE.keys():
       ^
SyntaxError: invalid syntax

2017-10-18 05:18:09.980701 WARNING ------------------------------------------------------------
2017-10-18 05:26:35.644268 WARNING ------------------------------------------------------------
2017-10-18 05:26:35.661739 WARNING Unexpected error in worker for App Telegram:
2017-10-18 05:26:35.686027 WARNING Worker Ags: {'name': 'Telegram', 'event': 'telegram_text', 'data': {'chat_id': 444908880, 'date': 1508297195, 'data': 1508297195, 'text': 'living room', 'from_last': 'Dav', 'from_first': 'Ultimate', 'user_id': 444908880}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb595b7d0>>, 'type': 'event', 'kwargs': {}, 'id': UUID('7a8cc7e9-7625-41e3-a726-149fd55c5c74')}
2017-10-18 05:26:35.693784 WARNING ------------------------------------------------------------
2017-10-18 05:26:35.721781 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 176, in receive_telegram_text
    self.roomControl(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 422, in roomControl
    keyboard = self.getKeyboard("room_control",accessgroup,payload_event))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 628, in getKeyboard
    keyboard.append("{} Rooms,{}".format(ALARM_KEYBOARD_REVERED['menu'],ALARM_KEYBOARD_REVERSED['backToMenu']))
NameError: name 'ALARM_KEYBOARD_REVERED' is not defined

2017-10-18 05:26:35.764639 WARNING ------------------------------------------------------------
2017-10-18 05:27:07.197096 WARNING ------------------------------------------------------------
2017-10-18 05:27:07.211079 WARNING Unexpected error in worker for App Telegram:
2017-10-18 05:27:07.218811 WARNING Worker Ags: {'name': 'Telegram', 'event': 'telegram_text', 'data': {'chat_id': 444908880, 'date': 1508297226, 'data': 1508297226, 'text': 'living room', 'from_last': 'Dav', 'from_first': 'Ultimate', 'user_id': 444908880}, 'function': <bound method TelegramBotEventListener.receive_telegram_text of <telegram.TelegramBotEventListener object at 0xb5ac12b0>>, 'type': 'event', 'kwargs': {}, 'id': UUID('4af42caa-81b5-4696-9989-de2f2071edf3')}
2017-10-18 05:27:07.237411 WARNING ------------------------------------------------------------
2017-10-18 05:27:07.252738 WARNING Traceback (most recent call last):
  File "/srv/homeassistant/lib/python3.4/site-packages/appdaemon/appdaemon.py", line 528, in worker
    function(args["event"], data, args["kwargs"])
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 176, in receive_telegram_text
    self.roomControl(payload_event, accessgroup)
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 422, in roomControl
    keyboard = self.getKeyboard("room_control",accessgroup,payload_event))
  File "/home/homeassistant/config/appdaemon/apps/telegram.py", line 628, in getKeyboard
    keyboard.append("{} Rooms,{}".format(ALARM_KEYBOARD_REVERSED['menu'],ALARM_KEYBOARD_REVERSED['backToMenu']))
KeyError: 'menu'

2017-10-18 05:27:07.285986 WARNING ------------------------------------------------------------
